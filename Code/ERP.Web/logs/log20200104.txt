2020-01-04 09:55:11,001 [11624] DEBUG Servicesys_user - 获取实体对象
2020-01-04 09:55:11,026 [11624] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'admin'and Password =  '1234'and IsEnable =  'True'
2020-01-04 09:55:11,040 [11624] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'admin' 
2020-01-04 09:55:11,071 [11624] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('admin','管理员','4S6DBKLDWJUEQVW','localhost','上海市','2020/1/4 9:55:11')
2020-01-04 09:55:11,078 [11624] DEBUG Servicemms_project - 获取实体对象
2020-01-04 09:55:11,089 [11624] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-04 09:55:11,167 [6556] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2020-01-04 09:55:11,541 [12736] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 13:31:08,653 [6084] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:31:08,666 [6084] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:31:08,670 [6084] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:31:08,670 [6084] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:31:08,673 [6084] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:31:08,679 [6084] DEBUG Erp - 
--set ANSI_NULLS ON
--set QUOTED_IDENTIFIER ON
 
-- =============================================
-- Description:	提供中文首字母
-- Demo: select * from 表 where fun_getPY(字段) like N'%zgr%'
-- =============================================
CREATE FUNCTION [dbo].[fun_getPY]
(
	@str NVARCHAR(4000)
)
RETURNS NVARCHAR(4000)
AS
BEGIN
	DECLARE @word NCHAR(1),@PY NVARCHAR(4000)
	SET @PY=''
	WHILE len(@str)>0
	BEGIN
		SET @word=left(@str,1)
		SET @PY=@PY+(CASE WHEN unicode(@word) BETWEEN 19968 AND 19968+20901
		THEN (SELECT TOP 1 PY FROM (
		SELECT 'A' AS PY,N'' AS word
		UNION ALL SELECT 'B',N'簿'
		UNION ALL SELECT 'C',N'e'
		UNION ALL SELECT 'D',N'z'
		UNION ALL SELECT 'E',N''
		UNION ALL SELECT 'F',N'v'
		UNION ALL SELECT 'G',N'B'
		UNION ALL SELECT 'H',N''
		UNION ALL SELECT 'J',N'h'
		UNION ALL SELECT 'K',N'i'
		UNION ALL SELECT 'L',N'w'
		UNION ALL SELECT 'M',N''
		UNION ALL SELECT 'N',N''
		UNION ALL SELECT 'O',N'a'
		UNION ALL SELECT 'P',N'曝'
		UNION ALL SELECT 'Q',N''
		UNION ALL SELECT 'R',N'U'
		UNION ALL SELECT 'S',N'R'
		UNION ALL SELECT 'T',N'X'
		UNION ALL SELECT 'W',N'F'
		UNION ALL SELECT 'X',N'R'
		UNION ALL SELECT 'Y',N''
		UNION ALL SELECT 'Z',N''
		) T 
		WHERE word>=@word COLLATE Chinese_PRC_CS_AS_KS_WS 
		ORDER BY PY ASC) ELSE @word END)
		SET @str=right(@str,len(@str)-1)
	END
	RETURN @PY
END
2020-01-04 13:31:08,684 [6084] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:31:08,926 [12828] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 13:31:27,914 [10768] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2020-01-04 13:31:32,784 [12828] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 13:31:36,579 [12828] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 13:32:23,542 [12828] DEBUG Servicesys_user - 获取实体对象
2020-01-04 13:32:23,570 [12828] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'super'and Password =  '1234'and IsEnable =  'True'
2020-01-04 13:32:23,600 [12828] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'super' 
2020-01-04 13:32:23,633 [12828] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('super','超级管理员','4S6DBKLDWJUEQVW','localhost','上海市','2020/1/4 13:32:23')
2020-01-04 13:32:23,637 [12828] DEBUG Servicemms_project - 获取实体对象
2020-01-04 13:32:23,638 [12828] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-04 13:32:23,706 [12232] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 13:32:24,055 [11364] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 13:32:28,736 [9136] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 13:32:28,748 [9136] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:32:28,751 [9136] DEBUG Erp - select name as value,name as text from base_data where  type =  'base_data'
2020-01-04 13:32:28,759 [9136] ERROR Servicebase_data - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_data' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:7092893b-b29b-4c7d-8245-179036bd6de2
Error Number:208,State:1,Class:16
2020-01-04 13:32:28,817 [9136] ERROR /Erp/Material/Index - System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_data' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 ERP.Web.Areas.Erp.Controllers.MaterialController.Index() 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\MaterialController.cs:行号 19
   在 lambda_method(Closure , ControllerBase , Object[] )
   在 System.Web.Mvc.ActionMethodDispatcher.Execute(ControllerBase controller, Object[] parameters)
   在 System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass42.<BeginInvokeSynchronousActionMethod>b__41()
   在 System.Web.Mvc.Async.AsyncResultWrapper.<>c__DisplayClass8`1.<BeginSynchronous>b__7(IAsyncResult _)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<>c__DisplayClass39.<BeginInvokeActionMethodWithFilters>b__33()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass4f.<InvokeActionMethodFilterAsynchronously>b__49()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass4f.<InvokeActionMethodFilterAsynchronously>b__49()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass4f.<InvokeActionMethodFilterAsynchronously>b__49()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<BeginInvokeActionMethodWithFilters>b__36(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass25.<>c__DisplayClass2a.<BeginInvokeAction>b__20()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass25.<BeginInvokeAction>b__22(IAsyncResult asyncResult)
ClientConnectionId:7092893b-b29b-4c7d-8245-179036bd6de2
Error Number:208,State:1,Class:16
2020-01-04 13:33:19,856 [6084] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:33:19,870 [6084] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:33:19,874 [6084] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:33:19,874 [6084] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:33:19,877 [6084] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:33:19,877 [6084] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:33:20,140 [10516] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 13:33:20,467 [10872] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 13:33:20,473 [10872] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:33:20,480 [10872] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 13:33:20,482 [10872] ERROR Servicebase_data - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_data' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:a3455c5e-1b16-407c-ab3d-10a5030fd343
Error Number:208,State:1,Class:16
2020-01-04 13:33:20,497 [10872] ERROR /Erp/Material/Index - System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_data' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 ERP.Web.Areas.Erp.Controllers.MaterialController.Index() 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\MaterialController.cs:行号 19
   在 lambda_method(Closure , ControllerBase , Object[] )
   在 System.Web.Mvc.ActionMethodDispatcher.Execute(ControllerBase controller, Object[] parameters)
   在 System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass42.<BeginInvokeSynchronousActionMethod>b__41()
   在 System.Web.Mvc.Async.AsyncResultWrapper.<>c__DisplayClass8`1.<BeginSynchronous>b__7(IAsyncResult _)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<>c__DisplayClass39.<BeginInvokeActionMethodWithFilters>b__33()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass4f.<InvokeActionMethodFilterAsynchronously>b__49()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass4f.<InvokeActionMethodFilterAsynchronously>b__49()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass4f.<InvokeActionMethodFilterAsynchronously>b__49()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<BeginInvokeActionMethodWithFilters>b__36(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass25.<>c__DisplayClass2a.<BeginInvokeAction>b__20()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass25.<BeginInvokeAction>b__22(IAsyncResult asyncResult)
ClientConnectionId:a3455c5e-1b16-407c-ab3d-10a5030fd343
Error Number:208,State:1,Class:16
2020-01-04 13:33:23,626 [10768] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 13:33:24,739 [9136] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 13:33:24,742 [9136] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:33:24,742 [9136] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 13:33:24,745 [9136] ERROR Servicebase_data - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_data' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:a3455c5e-1b16-407c-ab3d-10a5030fd343
Error Number:208,State:1,Class:16
2020-01-04 13:33:24,754 [9136] ERROR /Erp/Material/Index - System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_data' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 ERP.Web.Areas.Erp.Controllers.MaterialController.Index() 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\MaterialController.cs:行号 19
   在 lambda_method(Closure , ControllerBase , Object[] )
   在 System.Web.Mvc.ActionMethodDispatcher.Execute(ControllerBase controller, Object[] parameters)
   在 System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass42.<BeginInvokeSynchronousActionMethod>b__41()
   在 System.Web.Mvc.Async.AsyncResultWrapper.<>c__DisplayClass8`1.<BeginSynchronous>b__7(IAsyncResult _)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<>c__DisplayClass39.<BeginInvokeActionMethodWithFilters>b__33()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass4f.<InvokeActionMethodFilterAsynchronously>b__49()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass4f.<InvokeActionMethodFilterAsynchronously>b__49()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass4f.<InvokeActionMethodFilterAsynchronously>b__49()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<BeginInvokeActionMethodWithFilters>b__36(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass25.<>c__DisplayClass2a.<BeginInvokeAction>b__20()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass25.<BeginInvokeAction>b__22(IAsyncResult asyncResult)
ClientConnectionId:a3455c5e-1b16-407c-ab3d-10a5030fd343
Error Number:208,State:1,Class:16
2020-01-04 13:33:27,851 [11364] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 13:33:27,855 [11364] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:33:27,855 [11364] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 13:33:27,857 [11364] ERROR Servicebase_data - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_data' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:a3455c5e-1b16-407c-ab3d-10a5030fd343
Error Number:208,State:1,Class:16
2020-01-04 13:33:27,880 [11364] ERROR /Erp/Material/Index - System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_data' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 ERP.Web.Areas.Erp.Controllers.MaterialController.Index() 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\MaterialController.cs:行号 19
   在 lambda_method(Closure , ControllerBase , Object[] )
   在 System.Web.Mvc.ActionMethodDispatcher.Execute(ControllerBase controller, Object[] parameters)
   在 System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass42.<BeginInvokeSynchronousActionMethod>b__41()
   在 System.Web.Mvc.Async.AsyncResultWrapper.<>c__DisplayClass8`1.<BeginSynchronous>b__7(IAsyncResult _)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<>c__DisplayClass39.<BeginInvokeActionMethodWithFilters>b__33()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass4f.<InvokeActionMethodFilterAsynchronously>b__49()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass4f.<InvokeActionMethodFilterAsynchronously>b__49()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass4f.<InvokeActionMethodFilterAsynchronously>b__49()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<BeginInvokeActionMethodWithFilters>b__36(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass25.<>c__DisplayClass2a.<BeginInvokeAction>b__20()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass25.<BeginInvokeAction>b__22(IAsyncResult asyncResult)
ClientConnectionId:a3455c5e-1b16-407c-ab3d-10a5030fd343
Error Number:208,State:1,Class:16
2020-01-04 13:35:11,410 [12828] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 13:35:11,415 [12828] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:35:11,415 [12828] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 13:35:11,420 [12828] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:35:11,420 [12828] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 13:35:13,617 [6248] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:35:13,618 [6248] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 13:35:28,170 [11932] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 13:35:28,175 [11932] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:35:28,175 [11932] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 13:35:28,179 [11932] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:35:28,179 [11932] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 13:35:28,739 [12232] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:35:28,740 [12232] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 13:38:17,024 [12232] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 13:38:17,027 [12232] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:38:17,028 [12232] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 13:38:17,031 [12232] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:38:17,031 [12232] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 13:38:17,443 [12864] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:38:17,444 [12864] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 13:38:38,248 [12828] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 13:38:38,253 [12828] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:38:38,254 [12828] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 13:38:38,257 [12828] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:38:38,258 [12828] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 13:38:39,233 [12864] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:38:39,233 [12864] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 13:38:39,267 [6248] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:38:39,270 [6248] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 13:38:39,310 [6248] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 13:38:45,619 [12828] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 13:38:45,623 [12828] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:38:45,624 [12828] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 13:38:45,627 [12828] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:38:45,627 [12828] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 13:38:46,203 [6248] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:38:46,203 [6248] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 13:38:46,205 [6248] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 13:38:46,231 [6948] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:38:46,231 [6948] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 13:38:47,520 [12828] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:38:47,522 [12828] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '3' order by id
2020-01-04 13:38:47,527 [12828] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '3' ) tb_temp
2020-01-04 13:38:48,810 [10768] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:38:48,811 [10768] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by id
2020-01-04 13:38:48,814 [10768] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 13:41:52,850 [6084] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:41:52,905 [6084] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:41:52,918 [6084] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:41:52,919 [6084] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:41:52,931 [6084] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:41:52,932 [6084] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:41:54,169 [12864] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 13:41:59,326 [9136] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 13:43:40,214 [9224] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:43:40,234 [9224] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:43:40,239 [9224] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:43:40,240 [9224] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:43:40,244 [9224] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:43:40,244 [9224] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:43:40,836 [6248] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 13:43:46,984 [10768] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 13:43:47,642 [9136] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 13:43:47,654 [9136] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:43:47,666 [9136] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 13:43:47,667 [9136] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:43:47,667 [9136] DEBUG Erp - select id as value,name as text from base_data where  type =  '2'
2020-01-04 13:43:49,790 [10436] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:43:49,790 [10436] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 13:44:03,484 [10768] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 13:44:03,830 [12864] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 13:44:04,883 [6948] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 13:44:04,885 [6948] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:44:04,886 [6948] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 13:44:04,886 [6948] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:44:04,887 [6948] DEBUG Erp - select id as value,name as text from base_data where  type =  '2'
2020-01-04 13:44:05,442 [8012] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:44:05,442 [8012] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 13:44:05,473 [8744] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:44:05,476 [8744] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 13:44:05,493 [8744] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 13:44:06,774 [6248] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:44:06,775 [6248] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by id
2020-01-04 13:44:06,776 [6248] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 13:45:05,482 [12828] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 13:45:05,955 [8744] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 13:45:07,031 [12828] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 13:45:07,034 [12828] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:45:07,034 [12828] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 13:45:07,038 [12828] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:45:07,039 [12828] DEBUG Erp - select id as value,name as text from base_data where  type =  '2'
2020-01-04 13:45:20,055 [10436] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:45:20,055 [10436] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 13:45:20,056 [10436] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 13:45:20,077 [12828] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:45:20,077 [12828] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 13:45:22,279 [6948] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:45:22,279 [6948] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by id
2020-01-04 13:45:22,280 [6948] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 13:46:17,757 [10436] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 13:46:18,376 [12828] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 13:46:19,416 [6948] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 13:46:19,419 [6948] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:46:19,419 [6948] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 13:46:19,420 [6948] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:46:19,420 [6948] DEBUG Erp - select id as value,name as text from base_data where  type =  '2'
2020-01-04 13:46:21,717 [8744] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:46:21,718 [8744] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 13:46:21,928 [12864] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:46:21,928 [12864] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 13:46:21,929 [12864] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 13:46:29,101 [6948] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:46:29,101 [6948] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by id
2020-01-04 13:46:29,115 [6948] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 13:46:37,313 [8012] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 13:46:37,316 [8012] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:46:37,316 [8012] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 13:46:37,317 [8012] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:46:37,317 [8012] DEBUG Erp - select id as value,name as text from base_data where  type =  '2'
2020-01-04 13:46:39,206 [12828] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:46:39,207 [12828] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 13:46:55,731 [6248] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 13:46:56,122 [10436] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 13:46:56,915 [10768] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 13:46:56,918 [10768] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:46:56,919 [10768] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 13:46:56,919 [10768] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:46:56,919 [10768] DEBUG Erp - select id as value,name as text from base_data where  type =  '2'
2020-01-04 13:46:57,688 [6248] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:46:57,688 [6248] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 13:46:57,689 [6248] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 13:46:57,705 [2752] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:46:57,705 [2752] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 13:47:00,424 [12864] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:47:00,424 [12864] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by id
2020-01-04 13:47:00,426 [12864] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 13:48:35,641 [9624] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:48:35,667 [9624] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:48:35,673 [9624] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:48:35,673 [9624] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:48:35,678 [9624] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:48:35,678 [9624] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:48:36,177 [8744] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 13:48:38,934 [12864] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 13:48:49,779 [6948] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 13:48:49,843 [6948] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:48:49,878 [6948] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 13:48:51,687 [10436] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:48:51,687 [10436] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 13:48:51,723 [8012] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:48:51,725 [8012] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 13:48:51,747 [8012] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 13:48:55,598 [12864] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:48:55,599 [12864] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by id
2020-01-04 13:48:55,600 [12864] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 13:49:45,284 [6948] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 13:49:45,363 [12864] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 13:49:45,653 [12828] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 13:49:45,655 [12828] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:49:45,655 [12828] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 13:49:46,383 [10768] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:49:46,384 [10768] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 13:49:46,384 [10768] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 13:49:46,391 [12864] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:49:46,391 [12864] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 13:49:48,143 [10436] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:49:48,143 [10436] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by id
2020-01-04 13:49:48,144 [10436] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 13:49:55,095 [6948] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:49:55,095 [6948] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by price asc
2020-01-04 13:49:55,097 [6948] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 13:49:55,926 [10824] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:49:55,926 [10824] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by price desc
2020-01-04 13:49:55,928 [10824] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 13:49:56,444 [2752] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:49:56,445 [2752] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by name asc
2020-01-04 13:49:56,446 [2752] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 13:49:57,269 [10768] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 13:49:57,271 [10768] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:49:57,271 [10768] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 13:49:57,638 [8012] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:49:57,638 [10824] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:49:57,638 [8012] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 13:49:57,638 [8012] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 13:49:57,645 [10824] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 13:49:58,394 [10436] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:49:58,394 [10436] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by id
2020-01-04 13:49:58,394 [10436] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 13:53:40,976 [3068] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:53:41,013 [3068] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:53:41,025 [3068] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:53:41,026 [3068] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:53:41,032 [3068] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:53:41,032 [3068] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:53:41,691 [10436] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 13:53:46,286 [2916] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 13:53:46,776 [10768] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 13:53:46,939 [8012] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 13:53:47,322 [5788] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 13:53:47,346 [5788] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:53:47,364 [5788] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 13:53:51,562 [10436] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:53:51,562 [10436] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 13:53:51,577 [12828] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:53:51,579 [12828] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 13:53:51,594 [12828] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 13:53:52,753 [10768] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:53:52,753 [10768] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by id
2020-01-04 13:53:52,754 [10768] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 13:54:05,187 [10436] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:54:05,187 [10436] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by id
2020-01-04 13:54:05,187 [10436] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 13:54:05,442 [5788] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:54:05,442 [5788] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by id
2020-01-04 13:54:05,443 [5788] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 13:54:06,429 [10768] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:54:06,429 [10768] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by id
2020-01-04 13:54:06,430 [10768] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 13:54:07,141 [10824] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:54:07,141 [10824] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by id
2020-01-04 13:54:07,141 [10824] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 13:54:07,782 [12828] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:54:07,782 [12828] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by id
2020-01-04 13:54:07,783 [12828] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 13:55:47,137 [9624] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:55:47,151 [9624] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:55:47,156 [9624] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:55:47,157 [9624] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:55:47,160 [9624] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:55:47,161 [9624] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 13:55:47,432 [2752] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 13:55:47,453 [2752] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:55:47,461 [2752] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 13:55:49,549 [12864] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:55:49,549 [12864] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 13:56:04,897 [10436] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 13:56:08,237 [2752] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 13:56:08,631 [5788] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 13:56:08,633 [5788] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:56:08,633 [5788] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 13:56:08,981 [12864] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:56:08,981 [12864] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 13:56:45,100 [10824] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 13:56:45,444 [8480] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 13:56:46,743 [2752] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 13:56:46,747 [2752] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:56:46,747 [2752] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 13:56:48,771 [10824] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:56:48,772 [10824] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 13:56:48,809 [5788] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:56:48,811 [5788] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 13:56:48,832 [5788] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 13:56:49,744 [12864] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:56:49,745 [12864] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by id
2020-01-04 13:56:49,768 [12864] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 13:57:32,303 [10436] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 13:57:32,525 [8012] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 13:57:33,417 [2752] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 13:57:33,420 [2752] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:57:33,421 [2752] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 13:57:35,325 [10436] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:57:35,325 [10436] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 13:58:34,884 [10436] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 13:58:35,681 [10824] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 13:58:36,664 [8480] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 13:58:36,666 [8480] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:58:36,667 [8480] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 13:58:39,311 [12828] DEBUG Servicebase_data - 获取动态列表
2020-01-04 13:58:39,311 [12828] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 13:58:39,523 [5788] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:58:39,524 [5788] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 13:58:39,524 [5788] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 13:58:40,991 [2752] DEBUG Servicebase_material - 获取实体列表
2020-01-04 13:58:40,991 [2752] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by id
2020-01-04 13:58:40,992 [2752] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 14:01:33,833 [8504] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:01:33,872 [8504] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:01:33,880 [8504] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:01:33,881 [8504] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:01:33,888 [8504] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:01:33,889 [8504] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:01:34,817 [5788] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:01:38,440 [2668] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:01:53,899 [14184] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:01:53,915 [14184] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:01:53,930 [14184] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 14:02:27,523 [8480] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:02:27,524 [8480] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 14:02:27,759 [14272] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:02:27,761 [14272] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 14:02:27,775 [14272] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:02:31,705 [13912] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:02:31,706 [13912] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by id
2020-01-04 14:02:31,707 [13912] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 14:04:14,269 [14184] DEBUG Servicesys_user - 获取实体对象
2020-01-04 14:04:14,271 [14184] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'super'and Password =  '1234'and IsEnable =  'True'
2020-01-04 14:04:14,282 [14184] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'super' 
2020-01-04 14:04:14,307 [14184] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('super','超级管理员','4S6DBKLDWJUEQVW','localhost','上海市','2020/1/4 14:04:14')
2020-01-04 14:04:14,308 [14184] DEBUG Servicemms_project - 获取实体对象
2020-01-04 14:04:14,309 [14184] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-04 14:04:14,355 [13912] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:04:15,081 [12944] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:04:18,905 [448] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:04:18,914 [448] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:04:18,915 [448] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 14:04:30,071 [8480] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:04:30,072 [8480] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 14:04:30,098 [13912] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:04:30,098 [13912] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 14:04:30,098 [13912] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:04:32,088 [11500] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:04:32,089 [11500] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by id
2020-01-04 14:04:32,090 [11500] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 14:05:02,091 [13912] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:05:02,093 [13912] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:05:02,093 [13912] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 14:05:14,072 [3748] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:05:14,073 [3748] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 14:05:14,104 [3748] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:05:22,599 [13912] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:05:22,600 [13912] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 14:05:25,248 [11956] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:05:25,252 [11956] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:05:25,253 [11956] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 14:06:53,376 [5752] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:06:53,377 [5752] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 14:06:53,391 [8480] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:06:53,391 [8480] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 14:06:53,391 [8480] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:07:42,208 [10804] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:07:42,209 [10804] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by id
2020-01-04 14:07:42,210 [10804] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 14:08:07,764 [10804] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:08:09,255 [10804] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:08:10,221 [9992] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:08:10,224 [9992] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:08:10,224 [9992] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 14:08:16,900 [9992] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:08:16,900 [9992] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 14:08:16,958 [9884] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:08:16,958 [9884] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 14:08:16,959 [9884] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:08:38,340 [8480] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:08:39,325 [8480] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:08:40,307 [5752] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:08:40,310 [5752] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:08:40,310 [5752] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 14:08:47,184 [9992] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:08:47,184 [11972] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:08:47,184 [9992] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 14:08:47,185 [9992] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:08:47,197 [11972] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 14:08:48,286 [10920] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:08:48,286 [10920] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by id
2020-01-04 14:08:48,289 [10920] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 14:10:28,610 [3024] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:10:30,069 [9992] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:10:30,899 [3024] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:10:30,901 [3024] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:10:30,902 [3024] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 14:10:33,811 [3024] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:10:33,811 [3024] DEBUG Erp - select base_data.* from base_data order by type
2020-01-04 14:10:33,820 [9884] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:10:33,820 [9884] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 14:10:33,833 [9884] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:10:36,064 [11972] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:10:36,064 [11972] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '3' order by id
2020-01-04 14:10:36,065 [11972] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '3' ) tb_temp
2020-01-04 14:10:36,586 [9992] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:10:36,586 [9992] DEBUG Erp - select top 20 base_material.* from base_material where  type =  '1' order by id
2020-01-04 14:10:36,587 [9992] DEBUG Erp - select count(*) from ( select base_material.* from base_material where  type =  '1' ) tb_temp
2020-01-04 14:12:02,782 [8480] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/Product/Index','/Mms/Product')
2020-01-04 14:12:02,795 [8480] DEBUG Servicesys_code - 获取动态列表
2020-01-04 14:12:02,795 [8480] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'MeasureUnit'
2020-01-04 14:12:05,169 [11972] DEBUG Servicemms_product - 获取动态列表
2020-01-04 14:12:05,173 [11972] DEBUG Mms - select top 20 * from mms_product order by ID
2020-01-04 14:12:05,183 [11972] DEBUG Mms - select count(*) from ( select * from mms_product ) tb_temp
2020-01-04 14:12:07,419 [9884] DEBUG Servicemms_product - 获取新主键
2020-01-04 14:12:07,423 [9884] DEBUG Mms - select isnull(max(ID),0) from mms_product  where 1 = 1 
2020-01-04 14:13:57,976 [6548] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:13:57,992 [6548] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:13:57,997 [6548] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:13:57,997 [6548] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:13:58,000 [6548] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:13:58,000 [6548] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:13:58,278 [7584] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 14:13:58,297 [7584] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:13:58,306 [7584] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 14:14:25,041 [9992] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 14:14:25,046 [9992] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:14:25,046 [9992] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 14:14:40,583 [9884] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 14:14:40,585 [9884] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:14:40,585 [9884] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 14:14:49,496 [14052] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 14:14:49,500 [14052] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:14:49,500 [14052] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 14:14:59,487 [9884] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:15:03,014 [14052] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:15:03,513 [11972] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:15:03,515 [11972] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:15:03,516 [11972] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 14:15:03,908 [9992] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:15:03,910 [9992] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 14:15:03,928 [9992] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:15:10,475 [11972] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:15:11,134 [9992] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:15:11,986 [9884] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:15:11,988 [9884] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:15:11,989 [9884] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 14:15:13,058 [8480] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:15:13,058 [8480] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 14:15:13,058 [8480] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:16:07,405 [3068] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:16:07,418 [3068] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:16:07,423 [3068] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:16:07,423 [3068] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:16:07,427 [3068] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:16:07,427 [3068] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:16:07,710 [11972] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:16:09,732 [3024] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:16:17,865 [3024] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/Product/Index','/Mms/Product')
2020-01-04 14:16:17,894 [3024] DEBUG Servicesys_code - 获取动态列表
2020-01-04 14:16:17,924 [3024] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'MeasureUnit'
2020-01-04 14:16:20,757 [11972] DEBUG Servicemms_product - 获取动态列表
2020-01-04 14:16:20,758 [11972] DEBUG Mms - select top 20 * from mms_product order by ID
2020-01-04 14:16:20,782 [11972] DEBUG Mms - select count(*) from ( select * from mms_product ) tb_temp
2020-01-04 14:16:31,350 [9992] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:16:31,716 [7584] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:16:32,537 [3024] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:16:32,541 [3024] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:16:32,542 [3024] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 14:16:32,542 [3024] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:16:32,543 [3024] DEBUG Erp - select id as value,name as text from base_data where  type =  '2'
2020-01-04 14:17:07,957 [7584] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:17:08,297 [9992] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:17:09,328 [9884] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:17:09,331 [9884] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:17:09,332 [9884] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 14:17:09,332 [9884] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:17:09,333 [9884] DEBUG Erp - select id as value,name as text from base_data where  type =  '2'
2020-01-04 14:17:11,003 [3024] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:17:11,006 [3024] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 14:17:11,021 [3024] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:17:26,912 [9884] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:17:26,913 [9884] DEBUG Erp - select top 20 base_material.* from base_material order by unit asc
2020-01-04 14:17:26,927 [9884] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:17:34,405 [3024] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:17:34,405 [3024] DEBUG Erp - select top 20 base_material.* from base_material order by unit desc
2020-01-04 14:17:34,416 [3024] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:17:35,302 [11972] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:17:35,303 [11972] DEBUG Erp - select top 20 base_material.* from base_material order by unit asc
2020-01-04 14:17:35,312 [11972] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:18:55,952 [5752] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:18:56,294 [14052] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:18:56,831 [9884] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:18:56,834 [9884] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:18:56,835 [9884] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 14:18:56,835 [9884] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:18:56,835 [9884] DEBUG Erp - select id as value,name as text from base_data where  type =  '2'
2020-01-04 14:19:09,716 [5752] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:19:10,037 [7584] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:19:10,921 [9884] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:19:10,925 [9884] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:19:10,925 [9884] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 14:19:10,926 [9884] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:19:10,926 [9884] DEBUG Erp - select id as value,name as text from base_data where  type =  '2'
2020-01-04 14:19:12,229 [5752] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:19:12,229 [5752] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 14:19:12,230 [5752] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:20:15,789 [3068] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:20:15,815 [3068] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:20:15,825 [3068] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:20:15,826 [3068] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:20:15,833 [3068] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:20:15,833 [3068] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:20:16,303 [7584] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:20:22,063 [11972] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:20:23,825 [14052] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:20:24,137 [5752] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:20:24,570 [11972] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:20:24,590 [11972] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:20:24,604 [11972] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:20:24,605 [11972] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:20:24,606 [11972] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:20:25,296 [9884] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:20:25,297 [9884] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 14:20:25,304 [9884] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:28:00,344 [13528] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/Product/Index','/Mms/Product')
2020-01-04 14:28:00,351 [13528] DEBUG Servicesys_code - 获取动态列表
2020-01-04 14:28:00,352 [13528] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'MeasureUnit'
2020-01-04 14:28:01,702 [9992] DEBUG Servicemms_product - 获取动态列表
2020-01-04 14:28:01,706 [9992] DEBUG Mms - select top 20 * from mms_product order by ID
2020-01-04 14:28:01,711 [9992] DEBUG Mms - select count(*) from ( select * from mms_product ) tb_temp
2020-01-04 14:31:21,928 [6548] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:31:21,944 [6548] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:31:21,948 [6548] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:31:21,948 [6548] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:31:21,953 [6548] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:31:21,953 [6548] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:31:22,210 [4244] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 14:31:22,231 [4244] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:31:22,241 [4244] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:31:22,242 [4244] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:31:22,242 [4244] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:31:25,786 [13136] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 14:31:25,789 [13136] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:31:25,790 [13136] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:31:25,790 [13136] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:31:25,790 [13136] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:31:29,051 [5752] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:31:32,779 [10960] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:31:33,434 [4244] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:31:33,435 [4244] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:31:33,435 [4244] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:31:33,436 [4244] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:31:33,436 [4244] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:32:47,605 [9992] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:32:48,361 [8608] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:32:49,510 [3024] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:32:49,514 [3024] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:32:49,514 [3024] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:32:49,515 [3024] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:32:49,515 [3024] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:34:27,683 [3068] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:34:27,718 [3068] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:34:27,727 [3068] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:34:27,728 [3068] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:34:27,737 [3068] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:34:27,737 [3068] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:34:28,392 [5752] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:34:29,972 [9884] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/Product/Index','/Mms/Product')
2020-01-04 14:34:30,001 [9884] DEBUG Servicesys_code - 获取动态列表
2020-01-04 14:34:30,039 [9884] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'MeasureUnit'
2020-01-04 14:34:34,842 [3024] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:34:35,627 [9992] DEBUG Servicemms_product - 获取动态列表
2020-01-04 14:34:35,627 [9992] DEBUG Mms - select top 20 * from mms_product order by ID
2020-01-04 14:34:35,640 [9992] DEBUG Mms - select count(*) from ( select * from mms_product ) tb_temp
2020-01-04 14:34:37,977 [3024] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:34:38,158 [9992] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:34:38,553 [13136] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:34:38,557 [13136] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:34:38,557 [13136] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:34:38,557 [13136] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:34:38,557 [13136] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:35:44,651 [5752] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:35:45,436 [11972] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:35:46,354 [9992] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:35:46,356 [9992] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:35:46,356 [9992] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:35:46,357 [9992] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:35:46,357 [9992] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:37:07,530 [10960] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:37:08,462 [11972] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:37:09,325 [9884] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:37:09,327 [9884] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:37:09,327 [9884] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:37:09,328 [9884] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:37:09,328 [9884] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:38:21,648 [12944] DEBUG Servicemms_product - 获取新主键
2020-01-04 14:38:21,653 [12944] DEBUG Mms - select isnull(max(ID),0) from mms_product  where 1 = 1 
2020-01-04 14:38:58,809 [9992] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 14:38:58,814 [9992] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:38:58,814 [9992] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:38:58,815 [9992] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:38:58,816 [9992] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:39:05,465 [11972] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 14:39:05,468 [11972] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:39:05,469 [11972] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:39:05,469 [11972] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:39:05,470 [11972] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:39:49,936 [12944] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 14:39:49,944 [12944] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:39:49,944 [12944] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:39:49,946 [12944] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:39:49,946 [12944] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:40:36,908 [4244] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 14:40:36,917 [4244] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:40:36,917 [4244] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:40:36,918 [4244] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:40:36,918 [4244] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:40:56,736 [4244] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 14:40:56,798 [4244] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:40:56,799 [4244] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:40:56,827 [4244] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:40:56,827 [4244] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:42:03,869 [3024] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 14:42:03,914 [3024] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:42:03,915 [3024] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:42:03,931 [3024] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:42:03,932 [3024] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:43:05,989 [11972] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 14:43:05,993 [11972] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:43:05,993 [11972] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:43:05,994 [11972] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:43:05,994 [11972] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:43:29,991 [11524] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 14:43:29,998 [11524] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:43:29,998 [11524] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:43:30,000 [11524] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:43:30,001 [11524] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:44:41,837 [10960] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 14:44:41,843 [10960] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:44:41,843 [10960] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:44:41,844 [10960] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:44:41,844 [10960] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:45:00,118 [12944] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 14:45:00,121 [12944] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:45:00,122 [12944] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:45:00,122 [12944] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:45:00,123 [12944] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:45:10,538 [13136] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:45:11,104 [12944] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:45:11,884 [4244] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:45:11,886 [4244] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:45:11,887 [4244] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:45:11,887 [4244] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:45:11,887 [4244] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:45:12,795 [13136] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:45:12,797 [13136] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 14:45:12,810 [13136] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:45:14,717 [12944] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:45:15,519 [11972] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:45:16,566 [9992] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:45:16,570 [9992] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:45:16,570 [9992] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:45:16,571 [9992] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:45:16,571 [9992] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:45:17,933 [12944] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:45:17,933 [12944] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 14:45:17,935 [12944] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:45:51,694 [12944] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:45:52,490 [11524] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:45:53,518 [4244] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:45:53,521 [4244] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:45:53,521 [4244] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:45:53,522 [4244] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:45:53,522 [4244] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:45:55,633 [12944] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:45:55,633 [12944] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 14:45:55,633 [12944] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:47:06,863 [9992] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:47:07,738 [2168] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:47:08,651 [13136] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:47:08,653 [13136] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:47:08,653 [13136] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:47:08,653 [13136] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:47:08,654 [13136] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:47:11,500 [9992] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:47:11,500 [9992] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 14:47:11,501 [9992] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:51:58,336 [9224] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:51:58,358 [9224] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:51:58,365 [9224] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:51:58,365 [9224] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:51:58,370 [9224] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:51:58,370 [9224] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:51:59,312 [4244] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:52:04,872 [12928] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:52:07,509 [7252] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:52:07,783 [2892] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:52:08,220 [9992] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:52:08,235 [9992] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:52:08,244 [9992] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:52:08,252 [9992] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:52:08,252 [9992] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:52:09,146 [9884] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:52:09,147 [9884] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 14:52:09,155 [9884] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:52:22,234 [12928] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:52:22,237 [12928] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:52:22,237 [12928] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:52:22,239 [12928] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:52:22,239 [12928] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:52:22,954 [2168] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:52:22,955 [2168] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 14:52:22,955 [2168] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:53:14,787 [12928] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/Product/Index','/Mms/Product')
2020-01-04 14:53:14,802 [12928] DEBUG Servicesys_code - 获取动态列表
2020-01-04 14:53:14,806 [12928] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'MeasureUnit'
2020-01-04 14:53:17,335 [7252] DEBUG Servicemms_product - 获取动态列表
2020-01-04 14:53:17,336 [7252] DEBUG Mms - select top 20 * from mms_product order by ID
2020-01-04 14:53:17,353 [7252] DEBUG Mms - select count(*) from ( select * from mms_product ) tb_temp
2020-01-04 14:55:05,998 [2892] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/Product/Index','/Mms/Product')
2020-01-04 14:55:06,002 [2892] DEBUG Servicesys_code - 获取动态列表
2020-01-04 14:55:06,002 [2892] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'MeasureUnit'
2020-01-04 14:55:08,632 [4244] DEBUG Servicemms_product - 获取动态列表
2020-01-04 14:55:08,633 [4244] DEBUG Mms - select top 20 * from mms_product order by ID
2020-01-04 14:55:08,634 [4244] DEBUG Mms - select count(*) from ( select * from mms_product ) tb_temp
2020-01-04 14:55:10,653 [6536] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:55:11,630 [9992] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:55:12,863 [9884] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:55:12,866 [9884] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:55:12,866 [9884] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:55:12,867 [9884] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:55:12,867 [9884] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:55:14,436 [2892] DEBUG Servicebase_material - 获取实体列表
2020-01-04 14:55:14,436 [2892] DEBUG Erp - select top 20 base_material.* from base_material order by id
2020-01-04 14:55:14,437 [2892] DEBUG Erp - select count(*) from ( select base_material.* from base_material ) tb_temp
2020-01-04 14:57:26,387 [9224] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:57:26,421 [9224] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:57:26,430 [9224] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:57:26,431 [9224] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:57:26,437 [9224] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:57:26,437 [9224] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:57:26,953 [7252] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:57:29,961 [2168] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 14:57:42,093 [4244] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 14:57:42,127 [4244] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:57:42,169 [4244] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:57:42,175 [4244] DEBUG Servicebase_data - 获取动态列表
2020-01-04 14:57:42,176 [4244] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 14:57:44,277 [13156] DEBUG Servicebase_material - 获取动态列表
2020-01-04 14:57:44,278 [13156] DEBUG Erp - select top 20 * from base_material order by ID
2020-01-04 14:57:44,312 [13156] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 14:58:24,308 [8504] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:58:24,335 [8504] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:58:24,341 [8504] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:58:24,341 [8504] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:58:24,346 [8504] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:58:24,347 [8504] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 14:58:24,796 [6536] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 14:58:30,449 [2892] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:01:21,324 [7736] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:01:21,772 [4244] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:01:22,862 [7252] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:01:22,894 [7252] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:01:22,916 [7252] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 15:01:22,917 [7252] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:01:22,917 [7252] DEBUG Erp - select id as value,name as text from base_data
2020-01-04 15:01:24,755 [2168] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:01:24,756 [2168] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:01:24,776 [2168] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:03:12,356 [9224] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:03:12,378 [9224] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:03:12,384 [9224] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:03:12,385 [9224] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:03:12,390 [9224] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:03:12,391 [9224] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:03:12,918 [9884] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:03:17,744 [9992] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:03:36,220 [9992] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:03:36,245 [9992] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:03:36,282 [9992] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 15:03:36,282 [9992] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:03:36,283 [9992] DEBUG Erp - select id as value,name as text from base_data where  type =  '2'
2020-01-04 15:03:37,921 [2892] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:03:37,922 [2892] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:03:37,933 [2892] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:04:17,189 [7252] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:04:17,217 [7252] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:04:17,225 [7252] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:04:17,257 [7252] DEBUG Erp - insert into base_material([name],[type],[unit],[price],[guige],[isenable],[remark],[create_username],[create_time]) values('A','1','3','11.00','22','true','111','超级管理员','2020/1/4 15:04:17')
2020-01-04 15:04:20,209 [8696] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:04:20,213 [8696] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:04:20,224 [8696] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 15:04:20,225 [8696] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:04:20,225 [8696] DEBUG Erp - select id as value,name as text from base_data where  type =  '2'
2020-01-04 15:04:21,161 [9884] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:04:21,162 [9884] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:04:21,163 [9884] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:06:19,919 [7252] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:06:20,432 [2168] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:06:21,313 [12280] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:06:21,315 [12280] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:06:21,315 [12280] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 15:06:21,316 [12280] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:06:21,316 [12280] DEBUG Erp - select id as value,name as text from base_data where  type =  '2'
2020-01-04 15:06:22,581 [9884] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:06:22,581 [9884] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:06:22,582 [9884] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:06:32,192 [8696] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:06:32,192 [8696] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:06:32,222 [8696] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:06:32,242 [8696] DEBUG Erp - update base_material set [name] = 'A', [type] = '1', [unit] = '3', [price] = '11', [guige] = '22', [isenable] = 'true', [remark] = '111', [create_time] = '2020/1/4 15:04:17', [create_username] = '超级管理员' where  id =  ''
2020-01-04 15:06:39,433 [2168] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:06:39,434 [2168] DEBUG Erp - select top 20 * from base_material where  ProductName =  '2' order by id
2020-01-04 15:06:39,446 [2168] ERROR Servicebase_material - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProductName' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:5b68fe06-f0a1-475b-bd77-a023641c1b65
Error Number:207,State:1,Class:16
2020-01-04 15:06:39,520 [2168] ERROR /api/erp/Material - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProductName' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.MaterialApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\MaterialController.cs:行号 91
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:5b68fe06-f0a1-475b-bd77-a023641c1b65
Error Number:207,State:1,Class:16
2020-01-04 15:06:42,120 [2892] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:06:42,120 [2892] DEBUG Erp - select top 20 * from base_material where  ProductName =  '2' order by id
2020-01-04 15:06:42,121 [2892] ERROR Servicebase_material - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProductName' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:5b68fe06-f0a1-475b-bd77-a023641c1b65
Error Number:207,State:1,Class:16
2020-01-04 15:06:42,149 [2892] ERROR /api/erp/Material - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProductName' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.MaterialApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\MaterialController.cs:行号 91
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:5b68fe06-f0a1-475b-bd77-a023641c1b65
Error Number:207,State:1,Class:16
2020-01-04 15:06:43,035 [4244] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:06:43,035 [4244] DEBUG Erp - select top 20 * from base_material where  ProductName =  '2' order by id
2020-01-04 15:06:43,036 [4244] ERROR Servicebase_material - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProductName' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:5b68fe06-f0a1-475b-bd77-a023641c1b65
Error Number:207,State:1,Class:16
2020-01-04 15:06:43,053 [4244] ERROR /api/erp/Material - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProductName' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.MaterialApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\MaterialController.cs:行号 91
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:5b68fe06-f0a1-475b-bd77-a023641c1b65
Error Number:207,State:1,Class:16
2020-01-04 15:06:48,366 [2892] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:06:48,367 [2892] DEBUG Erp - select top 20 * from base_material where  ProductName =  'Afdfd' order by id
2020-01-04 15:06:48,369 [2892] ERROR Servicebase_material - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProductName' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:5b68fe06-f0a1-475b-bd77-a023641c1b65
Error Number:207,State:1,Class:16
2020-01-04 15:06:48,385 [2892] ERROR /api/erp/Material - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProductName' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.MaterialApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\MaterialController.cs:行号 91
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:5b68fe06-f0a1-475b-bd77-a023641c1b65
Error Number:207,State:1,Class:16
2020-01-04 15:06:52,977 [2892] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:06:52,977 [2892] DEBUG Erp - select top 20 * from base_material where  unit =  '3'and ProductName =  'Afdfd' order by id
2020-01-04 15:06:52,981 [2892] ERROR Servicebase_material - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProductName' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:5b68fe06-f0a1-475b-bd77-a023641c1b65
Error Number:207,State:1,Class:16
2020-01-04 15:06:52,998 [2892] ERROR /api/erp/Material - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProductName' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.MaterialApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\MaterialController.cs:行号 91
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:5b68fe06-f0a1-475b-bd77-a023641c1b65
Error Number:207,State:1,Class:16
2020-01-04 15:06:54,570 [2892] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:06:54,571 [2892] DEBUG Erp - select top 20 * from base_material where  unit =  '3'and ProductName =  'Afdfd' order by price asc
2020-01-04 15:06:54,573 [2892] ERROR Servicebase_material - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProductName' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:5b68fe06-f0a1-475b-bd77-a023641c1b65
Error Number:207,State:1,Class:16
2020-01-04 15:06:54,590 [2892] ERROR /api/erp/Material - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProductName' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.MaterialApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\MaterialController.cs:行号 91
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:5b68fe06-f0a1-475b-bd77-a023641c1b65
Error Number:207,State:1,Class:16
2020-01-04 15:07:27,912 [2892] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:07:28,906 [2168] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:07:29,996 [8696] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:07:30,002 [8696] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:07:30,002 [8696] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 15:07:30,003 [8696] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:07:30,003 [8696] DEBUG Erp - select id as value,name as text from base_data where  type =  '2'
2020-01-04 15:07:31,708 [7252] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:07:31,708 [7252] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:07:31,715 [7252] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:08:17,421 [9884] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:08:17,425 [9884] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:08:17,426 [9884] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 15:08:17,427 [9884] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:08:17,427 [9884] DEBUG Erp - select id as value,name as text from base_data where  type =  '2'
2020-01-04 15:08:18,332 [8696] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:08:18,333 [8696] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:08:18,335 [8696] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:08:38,392 [9884] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:08:38,392 [9884] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:08:38,405 [9884] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:08:38,416 [9884] DEBUG Erp - insert into base_material([name],[type],[unit],[price],[guige],[isenable],[remark],[create_username],[create_time]) values('aaaaa','','','1.00','2','true','','超级管理员','2020/1/4 15:08:38')
2020-01-04 15:08:46,556 [2168] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:08:46,556 [2168] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:08:46,558 [2168] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:08:46,561 [2168] DEBUG Erp - update base_material set [name] = 'aaaaa', [type] = '', [unit] = '3', [price] = '1.00', [guige] = '2', [isenable] = 'true', [remark] = '', [create_time] = '', [create_username] = '' where  id =  ''
2020-01-04 15:09:48,811 [9884] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:09:49,653 [7252] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:09:50,446 [4244] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:09:50,448 [4244] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:09:50,449 [4244] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 15:09:50,449 [4244] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:09:50,449 [4244] DEBUG Erp - select id as value,name as text from base_data where  type =  '2'
2020-01-04 15:09:52,182 [2892] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:09:52,182 [2892] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:09:52,183 [2892] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:10:35,810 [7252] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:10:36,317 [2168] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:10:37,424 [13648] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:10:37,520 [13648] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:10:37,520 [13648] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 15:10:37,523 [13648] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:10:37,524 [13648] DEBUG Erp - select id as value,name as text from base_data where  type =  '2'
2020-01-04 15:10:39,193 [9992] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:10:39,194 [9992] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:10:39,195 [9992] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:10:47,099 [2892] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:10:47,099 [2892] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:10:47,100 [2892] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:11:31,778 [1012] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:11:32,063 [9992] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:11:33,365 [4244] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:11:33,369 [4244] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:11:33,369 [4244] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 15:11:33,370 [4244] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:11:33,371 [4244] DEBUG Erp - select id as value,name as text from base_data where  type =  '2'
2020-01-04 15:11:35,316 [1012] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:11:35,316 [1012] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:11:35,317 [1012] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:11:43,180 [2168] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:11:43,418 [2892] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:11:44,545 [4244] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:11:44,550 [4244] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:11:44,550 [4244] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 15:11:44,551 [4244] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:11:44,551 [4244] DEBUG Erp - select id as value,name as text from base_data where  type =  '2'
2020-01-04 15:11:46,867 [2168] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:11:46,867 [2168] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:11:46,868 [2168] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:12:02,924 [1012] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:12:03,204 [13648] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:12:04,228 [9992] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:12:04,231 [9992] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:12:04,232 [9992] DEBUG Erp - select id as value,name as text from base_data where  type =  '1'
2020-01-04 15:12:04,232 [9992] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:12:04,232 [9992] DEBUG Erp - select id as value,name as text from base_data where  type =  '2'
2020-01-04 15:12:06,047 [7252] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:12:06,047 [7252] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:12:06,051 [7252] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:12:36,354 [9224] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:12:36,388 [9224] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:12:36,395 [9224] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:12:36,396 [9224] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:12:36,401 [9224] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:12:36,401 [9224] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:12:36,922 [9992] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 15:12:36,956 [9992] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:12:36,971 [9992] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:12:36,974 [9992] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:12:36,974 [9992] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:12:47,123 [9884] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 15:12:47,129 [9884] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:12:47,130 [9884] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:12:47,133 [9884] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:12:47,133 [9884] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:12:51,790 [1012] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:12:54,884 [7252] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:12:55,378 [9884] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:12:55,379 [9884] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:12:55,380 [9884] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:12:55,381 [9884] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:12:55,381 [9884] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:12:55,835 [1012] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:12:55,835 [1012] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:12:55,847 [1012] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:22:23,985 [9884] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:22:24,257 [13648] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:22:25,384 [8528] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:22:25,389 [8528] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:22:25,406 [8528] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:22:25,428 [8528] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:22:25,428 [8528] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:22:26,428 [9884] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:22:26,429 [9884] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:22:26,429 [9884] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:23:29,774 [9456] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:23:30,098 [13648] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:23:30,929 [9884] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:23:30,932 [9884] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:23:30,932 [9884] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:23:30,935 [9884] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:23:30,935 [9884] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:23:32,379 [8528] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:23:32,380 [8528] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:23:32,385 [8528] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:23:53,161 [6896] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:23:53,317 [7252] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:23:53,971 [8528] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:23:53,975 [8528] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:23:53,976 [8528] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:23:53,978 [8528] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:23:53,978 [8528] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:23:55,340 [2168] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:23:55,341 [2168] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:23:55,344 [2168] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:24:26,691 [2168] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:24:26,967 [13396] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:24:28,127 [8528] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:24:28,131 [8528] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:24:28,132 [8528] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:24:28,135 [8528] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:24:28,135 [8528] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:24:29,974 [6896] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:24:29,974 [6896] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:24:29,978 [6896] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:24:35,634 [6896] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:24:35,658 [6896] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:24:35,665 [6896] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:24:35,690 [6896] DEBUG Erp - update base_material set [name] = 'aaaaa', [type] = '', [unit] = '米', [price] = '1', [guige] = '2', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:08:38', [create_username] = '超级管理员' where  id =  ''
2020-01-04 15:24:41,342 [13396] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:24:41,343 [13396] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:24:41,354 [13396] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:24:41,356 [13396] DEBUG Erp - update base_material set [name] = 'aaaaa', [type] = '主料', [unit] = '米', [price] = '1', [guige] = '2', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:08:38', [create_username] = '超级管理员' where  id =  ''
2020-01-04 15:25:01,391 [8528] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:25:01,392 [8528] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:25:01,392 [8528] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:25:01,394 [8528] DEBUG Erp - update base_material set [name] = '不干胶', [type] = '主料', [unit] = '米', [price] = '1', [guige] = '2', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:08:38', [create_username] = '超级管理员' where  id =  ''
2020-01-04 15:25:08,400 [13648] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:25:08,562 [9456] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:25:11,972 [7252] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:25:11,977 [7252] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:25:11,977 [7252] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:25:11,980 [7252] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:25:11,980 [7252] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:25:12,534 [13396] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:25:12,535 [13396] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:25:12,539 [13396] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:25:22,861 [2168] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:25:22,905 [2168] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:25:22,906 [2168] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:25:22,930 [2168] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:25:22,930 [2168] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:25:23,741 [6896] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:25:23,741 [6896] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:25:23,742 [6896] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:25:29,672 [5456] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:25:29,673 [5456] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:25:29,680 [5456] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:25:29,683 [5456] DEBUG Erp - update base_material set [name] = 'BBB', [type] = '', [unit] = '', [price] = '1', [guige] = '2', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:08:38', [create_username] = '超级管理员' where  id =  ''
2020-01-04 15:25:32,358 [10856] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:25:32,362 [10856] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:25:32,363 [10856] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:25:32,366 [10856] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:25:32,366 [10856] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:25:33,180 [13648] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:25:33,180 [13648] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:25:33,190 [13648] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:25:54,371 [13648] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:25:54,372 [13648] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:25:54,394 [13648] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:25:54,396 [13648] DEBUG Erp - update base_material set [name] = '1111', [type] = '', [unit] = '', [price] = '1', [guige] = '2', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:08:38', [create_username] = '超级管理员' where  id =  ''
2020-01-04 15:26:03,529 [10856] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:26:03,535 [10856] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:26:03,535 [10856] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:26:03,539 [10856] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:26:03,540 [10856] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:26:04,336 [7252] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:26:04,337 [7252] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:26:04,338 [7252] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:26:09,361 [9456] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:26:09,362 [9456] DEBUG Erp - select top 20 * from base_material where  name like '%333%' order by id
2020-01-04 15:26:09,374 [9456] DEBUG Erp - select count(*) from ( select * from base_material where  name like '%333%' ) tb_temp
2020-01-04 15:26:11,899 [8528] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:26:11,899 [8528] DEBUG Erp - select top 20 * from base_material where  name like '%a%' order by id
2020-01-04 15:26:11,903 [8528] DEBUG Erp - select count(*) from ( select * from base_material where  name like '%a%' ) tb_temp
2020-01-04 15:26:33,785 [7252] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:26:33,785 [7252] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:26:33,786 [7252] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:26:36,517 [5456] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:26:36,518 [5456] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:26:36,519 [5456] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:26:38,812 [9456] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:26:38,813 [9456] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:26:38,814 [9456] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:27:01,454 [2168] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:27:01,455 [2168] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:27:01,456 [2168] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:27:20,605 [13396] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:27:20,607 [13396] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:27:20,608 [13396] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:27:20,625 [13396] DEBUG Erp - insert into base_material([name],[type],[unit],[price],[guige],[isenable],[remark],[create_username],[create_time]) values('不干胶','','米','2.00','30*10','false','','超级管理员','2020/1/4 15:27:20')
2020-01-04 15:27:22,381 [10856] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:27:22,388 [10856] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:27:22,389 [10856] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:27:22,397 [10856] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:27:22,397 [10856] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:27:23,172 [8528] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:27:23,172 [8528] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:27:23,173 [8528] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:27:29,301 [2168] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:27:29,302 [2168] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:27:29,313 [2168] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:27:29,324 [2168] DEBUG Erp - update base_material set [name] = '不干胶', [type] = '', [unit] = '米', [price] = '2', [guige] = '30*10', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:27:20', [create_username] = '超级管理员' where  id =  ''
2020-01-04 15:27:32,866 [5456] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:27:32,871 [5456] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:27:32,871 [5456] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:27:32,875 [5456] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:27:32,876 [5456] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:27:33,804 [2168] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:27:33,805 [2168] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:27:33,806 [2168] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:28:22,114 [7444] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:28:22,135 [7444] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:28:22,142 [7444] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:28:22,142 [7444] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:28:22,147 [7444] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:28:22,147 [7444] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:28:22,648 [10856] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:28:26,126 [7252] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:28:46,989 [7252] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:28:47,011 [7252] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:28:47,047 [7252] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:28:47,052 [7252] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:28:47,053 [7252] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:28:49,089 [2168] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:28:49,089 [2168] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:28:49,107 [2168] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:28:55,091 [12972] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:28:55,118 [12972] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:28:55,124 [12972] DEBUG Erp - select base_material.* from base_material
2020-01-04 15:28:55,149 [12972] ERROR Servicebase_material - 编辑记录失败
Zephyr.Data.FluentDataException: Columns or where filter have not yet been added.
   在 Zephyr.Data.BaseUpdateBuilder.Execute() 位置 E:\code\Github\Project\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Update\BaseUpdateBuilder.cs:行号 24
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__3(RequestWrapper x) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 61
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
2020-01-04 15:28:55,216 [12972] ERROR /api/erp/Material/edit - Zephyr.Data.FluentDataException: Columns or where filter have not yet been added.
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , base_materialService , Object , RequestWrapper , Object )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 ERP.Web.Areas.Erp.Controllers.MaterialApiController.Edit(Object data) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\MaterialController.cs:行号 101
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-04 15:29:13,617 [7444] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:29:13,640 [7444] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:29:13,647 [7444] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:29:13,647 [7444] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:29:13,652 [7444] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:29:13,652 [7444] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:29:14,143 [12972] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:29:19,757 [5456] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:30:57,951 [13648] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:30:58,353 [7252] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:30:59,417 [13396] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:30:59,447 [13396] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:30:59,495 [13396] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:30:59,502 [13396] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:30:59,503 [13396] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:31:01,749 [10856] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:31:01,750 [10856] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:31:01,763 [10856] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:31:05,060 [7252] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:31:05,096 [7252] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:31:05,103 [7252] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:31:05,133 [7252] DEBUG Erp - update base_material set [name] = '不干胶', [type] = '', [unit] = '米', [price] = '2', [guige] = '30*10', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:27:20', [create_username] = '超级管理员' where  id =  ''
2020-01-04 15:31:09,789 [7252] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:31:09,794 [7252] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:31:09,804 [7252] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:31:09,807 [7252] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:31:09,807 [7252] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:31:10,552 [9456] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:31:10,553 [9456] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:31:10,554 [9456] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:31:44,204 [10856] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:31:44,205 [10856] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:31:44,212 [10856] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:31:44,229 [10856] DEBUG Erp - update base_material set [name] = '不干胶', [type] = '主料', [unit] = '米', [price] = '2', [guige] = '30*10', [isenable] = 'false', [remark] = '', [create_time] = '2020/1/4 15:27:20', [create_username] = '超级管理员' where  id =  ''
2020-01-04 15:33:17,747 [10856] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:33:17,875 [13648] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:33:18,460 [8228] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:33:18,462 [8228] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:33:18,462 [8228] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:33:18,464 [8228] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:33:18,464 [8228] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:33:19,270 [9456] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:33:19,270 [9456] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:33:19,271 [9456] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:33:26,097 [9456] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:33:26,099 [9456] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:33:26,114 [9456] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:33:26,136 [9456] DEBUG Erp - update base_material set [name] = '不干胶', [type] = '主料', [unit] = '米', [price] = '2', [guige] = '30*10', [isenable] = 'false', [remark] = '', [create_time] = '2020/1/4 15:27:20', [create_username] = '超级管理员' where  id =  ''
2020-01-04 15:33:28,733 [10856] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:33:29,398 [13396] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:33:30,164 [8228] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:33:30,166 [8228] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:33:30,167 [8228] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:33:30,169 [8228] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:33:30,169 [8228] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:33:31,223 [10856] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:33:31,223 [10856] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:33:31,225 [10856] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:33:34,799 [13396] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:33:34,800 [13396] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:33:34,800 [13396] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:33:34,803 [13396] DEBUG Erp - update base_material set [name] = '不干胶', [type] = '', [unit] = '米', [price] = '2', [guige] = '30*10', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:27:20', [create_username] = '超级管理员' where  id =  ''
2020-01-04 15:34:22,091 [5456] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:34:22,847 [2168] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:34:23,842 [13648] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:34:23,845 [13648] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:34:23,846 [13648] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:34:23,848 [13648] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:34:23,848 [13648] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:34:25,255 [2168] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:34:25,255 [2168] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:34:25,258 [2168] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:34:36,569 [2168] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:34:36,570 [2168] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:34:36,629 [2168] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:34:36,681 [2168] DEBUG Erp - update base_material set [name] = '不干胶', [type] = '主料', [unit] = '米', [price] = '2', [guige] = '30*10', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:27:20', [create_username] = '超级管理员' where  id =  ''
2020-01-04 15:34:36,745 [12972] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:34:36,748 [12972] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:34:36,748 [12972] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:34:36,758 [12972] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:34:36,758 [12972] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:34:37,310 [13396] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:34:37,311 [13396] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:34:37,312 [13396] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:34:57,550 [13396] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:34:57,551 [13396] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:34:57,561 [13396] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:34:57,562 [13396] DEBUG Erp - update base_material set [name] = '不干胶', [type] = '主料', [unit] = '米', [price] = '2', [guige] = '30*10', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:27:20', [create_username] = '超级管理员' where  id =  ''
2020-01-04 15:34:57,644 [7912] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:34:57,649 [7912] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:34:57,649 [7912] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:34:57,656 [7912] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:34:57,656 [7912] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:34:58,372 [9456] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:34:58,372 [9456] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:34:58,373 [9456] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:39:48,911 [3068] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:39:48,937 [3068] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:39:48,943 [3068] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:39:48,944 [3068] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:39:48,949 [3068] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:39:48,949 [3068] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 15:39:49,467 [10856] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:39:54,532 [5456] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:39:58,601 [2168] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:39:59,086 [5456] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:40:00,230 [2168] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:40:00,260 [2168] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:40:00,301 [2168] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:40:00,304 [2168] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:40:00,304 [2168] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:40:05,471 [13128] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:40:05,712 [10856] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:40:06,502 [13396] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:40:06,505 [13396] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:40:06,505 [13396] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:40:06,508 [13396] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:40:06,508 [13396] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:41:04,680 [2168] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:41:05,287 [13648] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:41:06,041 [10856] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:41:06,043 [10856] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:41:06,044 [10856] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:41:06,046 [10856] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:41:06,046 [10856] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:41:07,880 [9332] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:41:07,880 [9332] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:41:07,892 [9332] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:41:13,300 [7912] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:41:13,323 [7912] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:41:13,330 [7912] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:41:13,359 [7912] DEBUG Erp - update base_material set [name] = '不干胶', [type] = '', [unit] = '米', [price] = '2', [guige] = '30*10', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:27:20', [create_username] = '超级管理员' where  id =  ''
2020-01-04 15:41:13,441 [5456] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:41:13,478 [5456] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:41:13,491 [5456] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:41:13,501 [5456] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:41:13,501 [5456] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:41:14,364 [9456] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:41:14,364 [9456] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:41:14,365 [9456] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:41:31,919 [9456] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/Product/Index','/Mms/Product')
2020-01-04 15:41:31,941 [9456] DEBUG Servicesys_code - 获取动态列表
2020-01-04 15:41:31,941 [9456] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'MeasureUnit'
2020-01-04 15:41:34,386 [2168] DEBUG Servicemms_product - 获取动态列表
2020-01-04 15:41:34,387 [2168] DEBUG Mms - select top 20 * from mms_product order by ID
2020-01-04 15:41:34,396 [2168] DEBUG Mms - select count(*) from ( select * from mms_product ) tb_temp
2020-01-04 15:41:48,128 [13128] DEBUG Servicemms_product - 编辑记录
2020-01-04 15:41:48,129 [13128] DEBUG Servicemms_product - 获取动态对象
2020-01-04 15:41:48,131 [13128] DEBUG Mms - select 
        mms_product
    .* from 
        mms_product
     where  ID =  '000002'
2020-01-04 15:41:48,137 [13128] DEBUG Mms - update 
        mms_product
     set [ProductName] = 'bbb', [Color] = 'blue', [Price] = '1234', [Unit] = '', [Money] = '234', [Qty] = '111', [Remark] = 'bbb', [CreateDate] = '2013/8/30 16:39:48', [UpdatePerson] = '超级管理员', [UpdateDate] = '2020/1/4 15:41:48' where  ID =  '000002'
2020-01-04 15:41:58,820 [2168] DEBUG Servicemms_product - 编辑记录
2020-01-04 15:41:58,820 [2168] DEBUG Servicemms_product - 获取动态对象
2020-01-04 15:41:58,838 [2168] DEBUG Mms - select 
        mms_product
    .* from 
        mms_product
     where  ID =  '000002'
2020-01-04 15:41:58,839 [2168] DEBUG Mms - update 
        mms_product
     set [ProductName] = '333', [Color] = 'blue', [Price] = '1234', [Unit] = '', [Money] = '234', [Qty] = '111', [Remark] = 'bbb', [CreateDate] = '2013/8/30 16:39:48', [UpdatePerson] = '超级管理员', [UpdateDate] = '2020/1/4 15:41:58' where  ID =  '000002'
2020-01-04 15:42:12,803 [2168] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 15:42:12,808 [2168] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:42:12,808 [2168] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:42:12,812 [2168] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:42:12,812 [2168] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:42:16,217 [13396] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 15:42:16,223 [13396] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:42:16,223 [13396] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:42:16,234 [13396] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:42:16,235 [13396] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:42:43,709 [9332] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Material/Index','/Erp/Material')
2020-01-04 15:42:43,714 [9332] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:42:43,714 [9332] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:42:43,719 [9332] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:42:43,719 [9332] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:42:46,897 [13128] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:42:47,298 [7912] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:42:48,407 [13648] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:42:48,412 [13648] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:42:48,413 [13648] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:42:48,416 [13648] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:42:48,416 [13648] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:42:49,648 [13128] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:42:49,649 [13128] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:42:49,649 [13128] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:45:37,115 [13396] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:45:37,749 [13128] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:45:38,854 [5456] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:45:38,857 [5456] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:45:38,857 [5456] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:45:38,859 [5456] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:45:38,859 [5456] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:45:41,970 [2168] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:45:41,970 [2168] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:45:41,971 [2168] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:45:56,602 [9332] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:45:56,602 [9332] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:45:56,604 [9332] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:45:56,619 [9332] DEBUG Erp - update base_material set [name] = '不干胶', [type] = '', [unit] = '米', [price] = '2', [guige] = '30*10', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:27:20', [create_username] = '超级管理员' where  id =  ''
2020-01-04 15:45:56,652 [5456] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:45:56,656 [5456] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:45:56,663 [5456] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:45:56,666 [5456] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:45:56,666 [5456] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:45:57,325 [13396] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:45:57,325 [13396] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:45:57,329 [13396] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:46:07,182 [10248] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:46:07,182 [10248] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:46:07,183 [10248] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:46:07,184 [10248] DEBUG Erp - update base_material set [name] = '不干胶', [type] = '', [unit] = '米', [price] = '2', [guige] = '30*10', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:27:20', [create_username] = '超级管理员' where  id =  ''
2020-01-04 15:46:07,307 [5456] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:46:07,311 [5456] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:46:07,311 [5456] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:46:07,314 [5456] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:46:07,314 [5456] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:46:07,880 [7844] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:46:07,881 [7844] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:46:07,887 [7844] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:50:53,962 [9332] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:50:53,963 [9332] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:50:53,967 [9332] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:50:53,977 [9332] DEBUG Erp - update base_material set [name] = '不干胶', [type] = '', [unit] = '米', [price] = '2', [guige] = '30*10', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:27:20', [create_username] = '超级管理员' where  id =  ''
2020-01-04 15:50:54,033 [5456] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:50:54,036 [5456] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:50:54,037 [5456] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:50:54,040 [5456] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:50:54,040 [5456] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:50:55,078 [2168] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:50:55,080 [2168] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:50:55,082 [2168] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:51:43,916 [3024] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:51:46,087 [10248] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:52:39,002 [9332] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:52:39,035 [9332] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:52:39,035 [9332] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:52:39,052 [9332] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:52:39,053 [9332] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:52:40,824 [10248] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:52:40,824 [10248] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:52:40,825 [10248] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:54:51,320 [9332] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:54:51,321 [9332] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:54:51,322 [9332] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:54:51,324 [9332] DEBUG Erp - update base_material set [name] = '不干胶', [type] = '主料', [unit] = '米', [price] = '2', [guige] = '30*10', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:27:20', [create_username] = '超级管理员' where  id =  ''
2020-01-04 15:55:01,901 [10248] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:55:01,990 [9332] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:55:01,998 [9332] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:55:02,162 [9332] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:55:02,170 [9332] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:55:02,170 [9332] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:55:03,325 [5828] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:55:04,222 [13368] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:55:04,225 [13368] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:55:04,225 [13368] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:55:04,228 [13368] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:55:04,228 [13368] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:55:05,996 [5828] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:55:05,996 [5828] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:55:05,997 [5828] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:55:25,404 [1192] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:55:25,405 [1192] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:55:25,420 [1192] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:55:25,426 [1192] DEBUG Erp - update base_material set [name] = '不干胶', [type] = 'a', [unit] = '米', [price] = '2', [guige] = '30*10', [isenable] = 'false', [remark] = '', [create_time] = '2020/1/4 15:27:20', [create_username] = '超级管理员' where  id =  ''
2020-01-04 15:55:25,563 [9576] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:55:25,615 [9576] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:55:25,616 [9576] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:55:25,648 [9576] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:55:25,649 [9576] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:55:27,601 [13368] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:55:27,602 [13368] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:55:27,603 [13368] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:56:50,318 [4600] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 15:56:50,929 [7988] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 15:56:51,575 [11348] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:56:51,577 [11348] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:56:51,578 [11348] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:56:51,579 [11348] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:56:51,580 [11348] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:56:53,933 [11348] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:56:53,933 [11348] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:56:53,934 [11348] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:58:34,146 [11348] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:58:34,147 [11348] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:58:34,163 [11348] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:58:34,165 [11348] DEBUG Erp - update base_material set [name] = '不干胶', [type] = '主料', [unit] = '米', [price] = '2', [guige] = '30*10', [isenable] = 'false', [remark] = '', [create_time] = '2020/1/4 15:27:20', [create_username] = '超级管理员' where  id =  ''
2020-01-04 15:58:34,290 [9576] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:58:34,296 [9576] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:58:34,296 [9576] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:58:34,299 [9576] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:58:34,299 [9576] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:58:35,140 [13264] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:58:35,140 [13264] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:58:35,142 [13264] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 15:58:38,495 [4600] DEBUG Servicebase_material - 编辑记录
2020-01-04 15:58:38,495 [4600] DEBUG Servicebase_material - 获取动态对象
2020-01-04 15:58:38,496 [4600] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 15:58:38,497 [4600] DEBUG Erp - update base_material set [name] = '不干胶', [type] = '', [unit] = '米', [price] = '2', [guige] = '30*10', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:27:20', [create_username] = '超级管理员' where  id =  ''
2020-01-04 15:58:38,533 [12192] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 15:58:38,537 [12192] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:58:38,537 [12192] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 15:58:38,540 [12192] DEBUG Servicebase_data - 获取动态列表
2020-01-04 15:58:38,540 [12192] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 15:58:39,037 [7652] DEBUG Servicebase_material - 获取动态列表
2020-01-04 15:58:39,037 [7652] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 15:58:39,055 [7652] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 16:00:58,089 [8504] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:00:58,115 [8504] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:00:58,122 [8504] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:00:58,122 [8504] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:00:58,128 [8504] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:00:58,128 [8504] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:00:58,623 [4600] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 16:01:04,036 [3844] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 16:01:06,896 [9576] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 16:01:06,907 [9576] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:01:06,915 [9576] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 16:01:06,916 [9576] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:01:06,916 [9576] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 16:01:07,692 [7652] DEBUG Servicebase_material - 获取动态列表
2020-01-04 16:01:07,693 [7652] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 16:01:07,701 [7652] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 16:01:11,827 [9332] DEBUG Servicebase_material - 编辑记录
2020-01-04 16:01:11,844 [9332] DEBUG Servicebase_material - 获取动态对象
2020-01-04 16:01:11,849 [9332] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 16:01:11,869 [9332] DEBUG Erp - update base_material set [name] = '不干胶', [type] = '', [unit] = '米', [price] = '2', [guige] = '30*10', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:27:20', [create_username] = '超级管理员' where  id =  ''
2020-01-04 16:01:11,904 [9576] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 16:01:11,922 [9576] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:01:11,932 [9576] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 16:01:11,934 [9576] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:01:11,934 [9576] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 16:01:12,386 [7652] DEBUG Servicebase_material - 获取动态列表
2020-01-04 16:01:12,386 [7652] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 16:01:12,387 [7652] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 16:02:03,102 [13264] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 16:02:03,485 [9576] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 16:02:04,620 [12192] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 16:02:04,623 [12192] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:02:04,624 [12192] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 16:02:04,626 [12192] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:02:04,626 [12192] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 16:02:05,823 [7652] DEBUG Servicebase_material - 获取动态列表
2020-01-04 16:02:05,824 [7652] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 16:02:05,824 [7652] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 16:04:15,684 [4600] DEBUG Servicebase_material - 编辑记录
2020-01-04 16:04:15,685 [4600] DEBUG Servicebase_material - 获取动态对象
2020-01-04 16:04:15,735 [4600] DEBUG Erp - select base_material.* from base_material where  id =  ''
2020-01-04 16:04:15,753 [4600] DEBUG Erp - update base_material set [name] = '不干胶', [type] = '主料', [unit] = '米', [price] = '2', [guige] = '30*1000', [isenable] = 'false', [remark] = '', [create_time] = '2020/1/4 15:27:20', [create_username] = '超级管理员' where  id =  ''
2020-01-04 16:04:34,824 [9440] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 16:04:34,854 [9440] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:04:34,855 [9440] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 16:04:34,869 [9440] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:04:34,870 [9440] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 16:04:36,167 [11348] DEBUG Servicebase_material - 获取动态列表
2020-01-04 16:04:36,168 [11348] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 16:04:36,170 [11348] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 16:09:16,595 [8504] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:09:16,620 [8504] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:09:16,627 [8504] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:09:16,628 [8504] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:09:16,634 [8504] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:09:16,635 [8504] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:09:17,255 [12192] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 16:09:22,763 [9332] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 16:09:35,103 [12192] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 16:09:35,161 [12192] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:09:35,182 [12192] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 16:09:35,185 [12192] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:09:35,185 [12192] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 16:09:37,391 [11348] DEBUG Servicebase_material - 获取动态列表
2020-01-04 16:09:37,392 [11348] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 16:09:37,406 [11348] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 16:09:41,007 [11348] DEBUG Servicebase_material - 编辑记录
2020-01-04 16:09:41,023 [11348] DEBUG Servicebase_material - 获取动态对象
2020-01-04 16:09:41,028 [11348] DEBUG Erp - select base_material.* from base_material where  id =  '3'
2020-01-04 16:09:41,047 [11348] DEBUG Erp - update base_material set [name] = '不干胶', [type] = '', [unit] = '米', [price] = '2', [guige] = '30*10', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:27:20', [create_username] = '超级管理员' where  id =  '3'
2020-01-04 16:09:41,109 [3844] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 16:09:41,113 [3844] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:09:41,122 [3844] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 16:09:41,124 [3844] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:09:41,124 [3844] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 16:09:41,661 [4892] DEBUG Servicebase_material - 获取动态列表
2020-01-04 16:09:41,661 [4892] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 16:09:41,664 [4892] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 16:09:51,422 [4600] DEBUG Servicebase_material - 编辑记录
2020-01-04 16:09:51,423 [4600] DEBUG Servicebase_material - 获取动态对象
2020-01-04 16:09:51,455 [4600] DEBUG Erp - select base_material.* from base_material where  id =  '3'
2020-01-04 16:09:51,457 [4600] DEBUG Erp - update base_material set [name] = '不干胶', [type] = '主料', [unit] = '米', [price] = '2', [guige] = '30*10', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:27:20', [create_username] = '超级管理员' where  id =  '3'
2020-01-04 16:09:51,508 [9576] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 16:09:51,510 [9576] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:09:51,510 [9576] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 16:09:51,521 [9576] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:09:51,521 [9576] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 16:09:52,038 [11800] DEBUG Servicebase_material - 获取动态列表
2020-01-04 16:09:52,038 [11800] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 16:09:52,040 [11800] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 16:09:57,433 [11348] DEBUG Servicebase_material - 编辑记录
2020-01-04 16:09:57,433 [11348] DEBUG Servicebase_material - 获取动态对象
2020-01-04 16:09:57,434 [11348] DEBUG Erp - select base_material.* from base_material where  id =  '2'
2020-01-04 16:09:57,435 [11348] DEBUG Erp - update base_material set [name] = 'aaaaa', [type] = '', [unit] = '米', [price] = '1', [guige] = '2', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:08:38', [create_username] = '超级管理员' where  id =  '2'
2020-01-04 16:09:57,470 [3844] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 16:09:57,472 [3844] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:09:57,473 [3844] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 16:09:57,474 [3844] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:09:57,475 [3844] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 16:09:57,906 [4892] DEBUG Servicebase_material - 获取动态列表
2020-01-04 16:09:57,906 [4892] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 16:09:57,907 [4892] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 16:10:07,364 [4892] DEBUG Servicebase_material - 获取动态列表
2020-01-04 16:10:07,365 [4892] DEBUG Erp - select top 20 * from base_material where  name like '%不%' order by id
2020-01-04 16:10:07,368 [4892] DEBUG Erp - select count(*) from ( select * from base_material where  name like '%不%' ) tb_temp
2020-01-04 16:10:11,680 [11800] DEBUG Servicebase_material - 获取动态列表
2020-01-04 16:10:11,680 [11800] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 16:10:11,681 [11800] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 16:11:24,915 [12192] DEBUG Servicebase_material - 编辑记录
2020-01-04 16:11:24,915 [12192] DEBUG Servicebase_material - 获取动态对象
2020-01-04 16:11:24,921 [12192] DEBUG Erp - select base_material.* from base_material where  id =  '3'
2020-01-04 16:11:24,929 [12192] DEBUG Erp - update base_material set [name] = '不干胶', [type] = '主料', [unit] = '米', [price] = '2', [guige] = '30*10', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:27:20', [create_username] = '超级管理员' where  id =  '3'
2020-01-04 16:11:24,932 [12192] DEBUG Servicebase_material - 获取动态对象
2020-01-04 16:11:24,932 [12192] DEBUG Erp - select base_material.* from base_material where  id =  '2'
2020-01-04 16:11:24,936 [12192] DEBUG Erp - update base_material set [name] = 'aaaaa', [type] = '', [unit] = '米', [price] = '3.00', [guige] = '2', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:08:38', [create_username] = '超级管理员' where  id =  '2'
2020-01-04 16:11:24,993 [4892] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 16:11:24,997 [4892] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:11:24,997 [4892] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 16:11:25,000 [4892] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:11:25,000 [4892] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 16:11:25,743 [4600] DEBUG Servicebase_material - 获取动态列表
2020-01-04 16:11:25,743 [4600] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 16:11:25,746 [4600] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 16:11:37,982 [11800] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 16:11:38,808 [9576] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 16:11:39,935 [11800] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 16:11:39,938 [11800] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:11:39,939 [11800] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 16:11:39,940 [11800] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:11:39,941 [11800] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 16:11:40,849 [6696] DEBUG Servicebase_material - 获取动态列表
2020-01-04 16:11:40,849 [6696] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 16:11:40,850 [6696] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 16:11:47,176 [9576] DEBUG Servicebase_material - 编辑记录
2020-01-04 16:11:47,176 [9576] DEBUG Servicebase_material - 获取动态对象
2020-01-04 16:11:47,182 [9576] DEBUG Erp - select base_material.* from base_material where  id =  '2'
2020-01-04 16:11:47,221 [9576] DEBUG Erp - update base_material set [name] = 'aaaaa', [type] = '', [unit] = '米', [price] = '3', [guige] = '28888', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:08:38', [create_username] = '超级管理员' where  id =  '2'
2020-01-04 16:11:53,369 [13444] DEBUG Servicebase_material - 编辑记录
2020-01-04 16:11:53,369 [13444] DEBUG Servicebase_material - 获取动态对象
2020-01-04 16:11:53,397 [13444] DEBUG Erp - select base_material.* from base_material where  id =  '2'
2020-01-04 16:11:53,398 [13444] DEBUG Erp - update base_material set [name] = 'aaaaa', [type] = '主料', [unit] = '米', [price] = '3', [guige] = '28888', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 15:08:38', [create_username] = '超级管理员' where  id =  '2'
2020-01-04 16:11:57,499 [11800] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 16:11:57,502 [11800] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:11:57,502 [11800] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 16:11:57,504 [11800] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:11:57,504 [11800] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 16:11:57,998 [3844] DEBUG Servicebase_material - 获取动态列表
2020-01-04 16:11:57,999 [3844] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 16:11:57,999 [3844] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 16:12:05,752 [13444] DEBUG Servicebase_material - 编辑记录
2020-01-04 16:12:05,753 [13444] DEBUG Servicebase_material - 获取动态对象
2020-01-04 16:12:05,755 [13444] DEBUG Erp - select base_material.* from base_material where  id =  '2'
2020-01-04 16:12:05,765 [13444] DEBUG Erp - update base_material set [name] = 'aaaaa', [type] = '主料', [unit] = '米', [price] = '3', [guige] = '28888', [isenable] = 'true', [remark] = '11', [create_time] = '2020/1/4 15:08:38', [create_username] = '超级管理员' where  id =  '2'
2020-01-04 16:12:05,781 [13444] DEBUG Servicebase_material - 获取动态对象
2020-01-04 16:12:05,781 [13444] DEBUG Erp - select base_material.* from base_material where  id =  '3'
2020-01-04 16:12:05,783 [13444] DEBUG Erp - update base_material set [name] = '不干胶', [type] = '主料', [unit] = '米', [price] = '2', [guige] = '30*10', [isenable] = 'true', [remark] = '222', [create_time] = '2020/1/4 15:27:20', [create_username] = '超级管理员' where  id =  '3'
2020-01-04 16:12:07,351 [9576] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 16:12:07,355 [9576] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:12:07,355 [9576] DEBUG Erp - select name as value,name as text from base_data where  type =  '1'
2020-01-04 16:12:07,358 [9576] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:12:07,358 [9576] DEBUG Erp - select name as value,name as text from base_data where  type =  '2'
2020-01-04 16:12:08,000 [11800] DEBUG Servicebase_material - 获取动态列表
2020-01-04 16:12:08,000 [11800] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 16:12:08,013 [11800] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 16:24:39,463 [5092] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:24:39,489 [5092] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:24:39,495 [5092] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:24:39,495 [5092] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:24:39,500 [5092] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:24:39,501 [5092] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:24:39,956 [6696] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/BaseData/Index','/Erp/BaseData')
2020-01-04 16:24:53,329 [4148] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/parameter/Index','/Sys/parameter')
2020-01-04 16:24:55,509 [8188] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2020-01-04 16:24:56,758 [4600] DEBUG Servicesys_menu - 获取动态列表
2020-01-04 16:24:56,763 [11800] DEBUG Servicesys_parameter - 获取实体列表
2020-01-04 16:24:56,770 [4600] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-04 16:24:56,774 [11800] DEBUG Sys - select top 20 sys_parameter.* from sys_parameter order by ParamCode
2020-01-04 16:24:56,792 [11800] DEBUG Sys - select count(*) from ( select sys_parameter.* from sys_parameter ) tb_temp
2020-01-04 16:26:26,323 [12192] DEBUG Servicesys_menu - 编辑记录
2020-01-04 16:26:26,362 [12192] DEBUG Servicesys_menu - 获取动态对象
2020-01-04 16:26:26,373 [12192] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '1f3179ce-d347-4da6-9521-69825f071975'
2020-01-04 16:26:26,432 [12192] DEBUG Sys - insert into 
        sys_menu
    ([MenuName],[MenuCode],[ParentCode],[IconClass],[URL],[IsVisible],[IsEnable],[MenuSeq],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('基础参数','10002','10000','icon-disk_multiple','/rrp/basedata','true','true','2','超级管理员','2020/1/4 16:26:26','超级管理员','2020/1/4 16:26:26')
2020-01-04 16:26:26,480 [12192] DEBUG Sys - insert into sys_log([UserCode],[UserName],[Position],[Target],[Type],[Message],[Date]) values('super','超级管理员','api/mms/send','菜单数据','修改','{"list":{"deleted":[],"inserted":[{"_id":"1f3179ce-d347-4da6-9521-69825f071975","MenuName":"基础参数","MenuCode":"10002","ParentCode":"10000","IconClass":"icon-disk_multiple","URL":"/rrp/basedata","IsVisible":"true","IsEnable":"true","MenuSeq":"2"}],"updated":[],"_changed":true}}','2020/1/4 16:26:26')
2020-01-04 16:26:26,749 [7776] DEBUG Servicesys_menu - 获取动态列表
2020-01-04 16:26:26,749 [7776] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-04 16:26:45,350 [4148] DEBUG Servicesys_menu - 编辑记录
2020-01-04 16:26:45,350 [4148] DEBUG Servicesys_menu - 获取动态对象
2020-01-04 16:26:45,351 [4148] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '10002'
2020-01-04 16:26:45,380 [4148] DEBUG Sys - update 
        sys_menu
     set [MenuName] = '基础参数', [MenuCode] = '10002', [ParentCode] = '10000', [IconClass] = 'icon-disk_multiple', [URL] = '/erp/basedata', [IsVisible] = 'true', [IsEnable] = 'true', [MenuSeq] = '2', [UpdatePerson] = '超级管理员', [UpdateDate] = '2020/1/4 16:26:45' where  MenuCode =  '10002'
2020-01-04 16:26:45,448 [4148] DEBUG Sys - insert into sys_log([UserCode],[UserName],[Position],[Target],[Type],[Message],[Date]) values('super','超级管理员','api/mms/send','菜单数据','修改','{"list":{"deleted":[],"inserted":[],"updated":[{"_id":"10002","MenuName":"基础参数","MenuCode":"10002","ParentCode":"10000","IconClass":"icon-disk_multiple","URL":"/erp/basedata","IsVisible":"true","IsEnable":"true","MenuSeq":"2"}],"_changed":true}}','2020/1/4 16:26:45')
2020-01-04 16:26:45,670 [6852] DEBUG Servicesys_menu - 获取动态列表
2020-01-04 16:26:45,670 [6852] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-04 16:27:01,656 [4148] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-04 16:27:01,698 [4148] DEBUG Servicesys_user - 获取动态列表
2020-01-04 16:27:01,700 [4148] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-04 16:27:01,733 [4148] DEBUG Servicesys_organize - 获取动态列表
2020-01-04 16:27:01,734 [4148] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-04 16:27:03,536 [4600] DEBUG Servicesys_role - 获取实体列表
2020-01-04 16:27:03,537 [4600] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-04 16:27:07,969 [4148] DEBUG Servicesys_permission - 获取动态列表
2020-01-04 16:27:07,970 [4148] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2020-01-04 16:27:07,976 [6852] DEBUG Sys - select * from sys_button order by ButtonSeq
2020-01-04 16:27:08,003 [6852] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='super'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2020-01-04 16:27:08,364 [6852] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2020-01-04 16:27:12,892 [12192] DEBUG Servicesys_role - 修改角色菜单权限
2020-01-04 16:27:12,900 [12192] DEBUG Sys - delete from sys_roleMenuMap where [RoleCode] = 'super'
2020-01-04 16:27:12,906 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10')
2020-01-04 16:27:12,912 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1019')
2020-01-04 16:27:12,917 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1002')
2020-01-04 16:27:12,918 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1001')
2020-01-04 16:27:12,923 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1009')
2020-01-04 16:27:12,924 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1010')
2020-01-04 16:27:12,925 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1013')
2020-01-04 16:27:12,926 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1007')
2020-01-04 16:27:12,927 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1006')
2020-01-04 16:27:12,928 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1011')
2020-01-04 16:27:12,928 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1003')
2020-01-04 16:27:12,929 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1012')
2020-01-04 16:27:12,930 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1008')
2020-01-04 16:27:12,930 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1005')
2020-01-04 16:27:12,931 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1004')
2020-01-04 16:27:12,932 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0101')
2020-01-04 16:27:12,933 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100101')
2020-01-04 16:27:12,937 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100201')
2020-01-04 16:27:12,938 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100312')
2020-01-04 16:27:12,940 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100401')
2020-01-04 16:27:12,946 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100501')
2020-01-04 16:27:12,947 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100601')
2020-01-04 16:27:12,947 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100701')
2020-01-04 16:27:12,948 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100801')
2020-01-04 16:27:12,949 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100901')
2020-01-04 16:27:12,950 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101001')
2020-01-04 16:27:12,951 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101101')
2020-01-04 16:27:12,952 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101201')
2020-01-04 16:27:12,953 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101301')
2020-01-04 16:27:12,954 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','11')
2020-01-04 16:27:12,955 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1105')
2020-01-04 16:27:12,956 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1101')
2020-01-04 16:27:12,957 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1102')
2020-01-04 16:27:12,957 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1103')
2020-01-04 16:27:12,958 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1104')
2020-01-04 16:27:12,959 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1109')
2020-01-04 16:27:12,960 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','03')
2020-01-04 16:27:12,961 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0301')
2020-01-04 16:27:12,962 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0302')
2020-01-04 16:27:12,963 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0303')
2020-01-04 16:27:12,964 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0304')
2020-01-04 16:27:12,965 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','12')
2020-01-04 16:27:12,970 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1204')
2020-01-04 16:27:12,971 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1201')
2020-01-04 16:27:12,972 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1202')
2020-01-04 16:27:12,972 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1203')
2020-01-04 16:27:12,973 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','99')
2020-01-04 16:27:12,974 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9902')
2020-01-04 16:27:12,975 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9903')
2020-01-04 16:27:12,976 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9910')
2020-01-04 16:27:12,976 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9904')
2020-01-04 16:27:12,977 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9905')
2020-01-04 16:27:12,978 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9906')
2020-01-04 16:27:12,979 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9911')
2020-01-04 16:27:12,980 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9907')
2020-01-04 16:27:12,981 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','98')
2020-01-04 16:27:12,983 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9810')
2020-01-04 16:27:12,986 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9915')
2020-01-04 16:27:12,987 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9920')
2020-01-04 16:27:12,988 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9950')
2020-01-04 16:27:12,989 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9960')
2020-01-04 16:27:12,990 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9961')
2020-01-04 16:27:12,991 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10000')
2020-01-04 16:27:12,995 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10001')
2020-01-04 16:27:12,996 [12192] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10002')
2020-01-04 16:27:13,003 [12192] DEBUG Servicesys_role - 修改角色菜单按钮权限
2020-01-04 16:27:13,005 [12192] DEBUG Sys - delete from sys_roleMenuButtonMap where [RoleCode] = 'super'
2020-01-04 16:27:13,009 [12192] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','add')
2020-01-04 16:27:13,016 [12192] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','edit')
2020-01-04 16:27:13,022 [12192] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','delete')
2020-01-04 16:27:13,032 [12192] DEBUG Servicesys_role - 修改角色数据权限
2020-01-04 16:27:13,034 [12192] DEBUG Sys - delete from sys_rolePermissionMap where [RoleCode] = 'super'
2020-01-04 16:27:13,042 [12192] DEBUG Servicesys_role - 修改角色数据列权限
2020-01-04 16:27:13,047 [12192] DEBUG Sys - delete from sys_roleMenuColumnMap where [RoleCode] = 'super'
2020-01-04 16:27:13,064 [12192] DEBUG Sys - insert into sys_roleMenuColumnMap([RoleCode],[MenuCode],[IsReject],[FieldName]) values('super','1001','True','BillNo')
2020-01-04 16:27:16,790 [11348] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 16:27:20,761 [4600] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 16:27:21,487 [6852] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-04 16:27:21,506 [6852] DEBUG Servicesys_user - 获取动态列表
2020-01-04 16:27:21,506 [6852] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-04 16:27:21,529 [6852] DEBUG Servicesys_organize - 获取动态列表
2020-01-04 16:27:21,529 [6852] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-04 16:27:22,789 [12192] DEBUG Servicesys_role - 获取实体列表
2020-01-04 16:27:22,789 [12192] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-04 16:27:24,442 [10440] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 16:27:26,920 [4148] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:27:26,920 [4148] DEBUG Erp - select top 20 * from base_data order by id
2020-01-04 16:27:26,934 [4148] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 16:40:24,841 [13020] DEBUG Servicebase_data - 编辑记录
2020-01-04 16:40:24,842 [13020] DEBUG Servicebase_data - 获取动态对象
2020-01-04 16:40:24,870 [13020] DEBUG Erp - select base_data.* from base_data where  id =  ''
2020-01-04 16:40:24,878 [13020] DEBUG Erp - insert into base_data([name],[type],[isenable],[remark],[create_username],[create_time]) values('张','单位类型','true','','超级管理员','2020/1/4 16:40:24')
2020-01-04 16:40:29,717 [11348] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 16:40:30,289 [9576] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:40:30,303 [9576] DEBUG Erp - select top 20 * from base_data order by id
2020-01-04 16:40:30,304 [9576] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 16:47:44,287 [12192] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 16:47:44,558 [9740] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 16:47:45,595 [13020] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 16:47:48,140 [12192] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:47:48,140 [12192] DEBUG Erp - select top 20 * from base_data order by id
2020-01-04 16:47:48,141 [12192] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 16:48:10,098 [9296] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:48:10,122 [9296] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:48:10,127 [9296] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:48:10,127 [9296] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:48:10,131 [9296] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:48:10,131 [9296] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:48:10,617 [11456] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 16:48:13,794 [8948] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 16:48:14,172 [9740] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 16:48:15,912 [11456] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:48:15,919 [11456] DEBUG Erp - select top 20 * from base_data order by id
2020-01-04 16:48:15,926 [11456] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 16:48:15,945 [11456] ERROR /api/erp/BaseData - Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: 无法将类型“System.Collections.Generic.KeyValuePair<string,object>”转换为“ERP.Web.Models.base_data”
   在 CallSite.Target(Closure , CallSite , Object )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute1[T0,TRet](CallSite site, T0 arg0)
   在 ERP.Web.Areas.Erp.Controllers.BaseDataApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\BaseDataController.cs:行号 69
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-04 16:48:20,912 [8948] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 16:48:21,378 [13468] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:48:21,379 [13468] DEBUG Erp - select top 20 * from base_data order by id
2020-01-04 16:48:21,380 [13468] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 16:48:21,392 [13468] ERROR /api/erp/BaseData - Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: 无法将类型“System.Collections.Generic.KeyValuePair<string,object>”转换为“ERP.Web.Models.base_data”
   在 CallSite.Target(Closure , CallSite , Object )
   在 ERP.Web.Areas.Erp.Controllers.BaseDataApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\BaseDataController.cs:行号 69
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-04 16:50:01,580 [9296] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:50:01,600 [9296] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:50:01,606 [9296] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:50:01,606 [9296] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:50:01,610 [9296] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:50:01,610 [9296] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:50:01,999 [12624] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 16:50:02,002 [8308] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/BaseData/Index','/Erp/BaseData')
2020-01-04 16:50:04,606 [13468] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:50:04,613 [13468] DEBUG Erp - select top 20 * from base_data order by id
2020-01-04 16:50:04,621 [13468] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 16:50:04,648 [13468] ERROR /api/erp/BaseData - Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: 无法将类型“System.Collections.Generic.KeyValuePair<string,object>”转换为“ERP.Web.Models.base_data”
   在 CallSite.Target(Closure , CallSite , Object )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute1[T0,TRet](CallSite site, T0 arg0)
   在 ERP.Web.Areas.Erp.Controllers.BaseDataApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\BaseDataController.cs:行号 69
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-04 16:50:05,785 [1388] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 16:50:09,735 [12624] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 16:50:10,754 [12192] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 16:50:11,304 [14296] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:50:11,304 [14296] DEBUG Erp - select top 20 * from base_data order by id
2020-01-04 16:50:11,305 [14296] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 16:50:11,319 [14296] ERROR /api/erp/BaseData - Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: 无法将类型“System.Collections.Generic.KeyValuePair<string,object>”转换为“ERP.Web.Models.base_data”
   在 CallSite.Target(Closure , CallSite , Object )
   在 ERP.Web.Areas.Erp.Controllers.BaseDataApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\BaseDataController.cs:行号 69
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-04 16:50:13,434 [8308] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 16:50:14,159 [12624] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:50:14,160 [12624] DEBUG Erp - select top 20 * from base_data order by id
2020-01-04 16:50:14,162 [12624] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 16:50:14,183 [12624] ERROR /api/erp/BaseData - Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: 无法将类型“System.Collections.Generic.KeyValuePair<string,object>”转换为“ERP.Web.Models.base_data”
   在 CallSite.Target(Closure , CallSite , Object )
   在 ERP.Web.Areas.Erp.Controllers.BaseDataApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\BaseDataController.cs:行号 69
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-04 16:57:12,191 [12372] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:57:12,205 [12372] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:57:12,209 [12372] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:57:12,209 [12372] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:57:12,212 [12372] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:57:12,212 [12372] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:57:12,601 [2916] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 16:57:14,870 [2916] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 16:57:18,531 [12224] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 16:57:20,821 [11032] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:57:20,836 [11032] DEBUG Erp - select top 20 * from base_data order by id
2020-01-04 16:57:20,851 [11032] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 16:57:20,880 [11032] ERROR /api/erp/BaseData - Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: 无法将类型“System.Collections.Generic.KeyValuePair<string,object>”转换为“ERP.Web.Models.base_data”
   在 CallSite.Target(Closure , CallSite , Object )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute1[T0,TRet](CallSite site, T0 arg0)
   在 ERP.Web.Areas.Erp.Controllers.BaseDataApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\BaseDataController.cs:行号 69
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-04 16:57:22,838 [12972] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 16:57:23,469 [9328] DEBUG Servicebase_data - 获取动态列表
2020-01-04 16:57:23,469 [9328] DEBUG Erp - select top 20 * from base_data order by id
2020-01-04 16:57:23,478 [9328] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 16:57:23,515 [9328] ERROR /api/erp/BaseData - Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: 无法将类型“System.Collections.Generic.KeyValuePair<string,object>”转换为“ERP.Web.Models.base_data”
   在 CallSite.Target(Closure , CallSite , Object )
   在 ERP.Web.Areas.Erp.Controllers.BaseDataApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\BaseDataController.cs:行号 69
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-04 16:59:05,731 [9588] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:59:05,746 [9588] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:59:05,750 [9588] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:59:05,751 [9588] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:59:05,754 [9588] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:59:05,754 [9588] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 16:59:06,015 [6188] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/BaseData/Index','/Erp/BaseData')
2020-01-04 16:59:12,642 [12232] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/BaseData/Index','/Erp/BaseData')
2020-01-04 17:00:55,261 [9588] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 17:00:55,284 [9588] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 17:00:55,290 [9588] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 17:00:55,290 [9588] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 17:00:55,295 [9588] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 17:00:55,295 [9588] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 17:00:55,720 [6188] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/BaseData/Index','/Erp/BaseData')
2020-01-04 17:00:55,756 [12972] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 17:00:59,391 [5092] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 17:01:03,483 [12972] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 17:01:03,696 [6188] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 17:01:04,390 [11048] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 17:01:05,166 [5092] DEBUG Servicebase_data - 获取动态列表
2020-01-04 17:01:05,178 [5092] DEBUG Erp - select top 20 * from base_data order by create_time
2020-01-04 17:01:05,192 [5092] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 17:01:15,852 [9920] DEBUG Servicebase_data - 编辑记录
2020-01-04 17:01:15,880 [9920] DEBUG Servicebase_data - 获取动态对象
2020-01-04 17:01:15,889 [9920] DEBUG Erp - select base_data.* from base_data where  id =  '4'
2020-01-04 17:01:15,915 [9920] DEBUG Erp - update base_data set [name] = '张', [type] = '单位类型', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 16:40:24', [create_username] = '超级管理员' where  id =  '4'
2020-01-04 17:01:18,779 [12972] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 17:01:19,418 [2916] DEBUG Servicebase_data - 获取动态列表
2020-01-04 17:01:19,427 [2916] DEBUG Erp - select top 20 * from base_data order by create_time
2020-01-04 17:01:19,428 [2916] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 17:01:55,321 [9920] DEBUG Servicebase_data - 编辑记录
2020-01-04 17:01:55,322 [9920] DEBUG Servicebase_data - 获取动态对象
2020-01-04 17:01:55,329 [9920] DEBUG Erp - select base_data.* from base_data where  id =  '1'
2020-01-04 17:01:55,337 [9920] DEBUG Erp - update base_data set [name] = '主料', [type] = '2', [isenable] = 'true', [remark] = '11', [create_time] = '2020/1/4 13:36:42', [create_username] = '11' where  id =  '1'
2020-01-04 17:01:55,361 [9920] DEBUG Servicebase_data - 获取动态对象
2020-01-04 17:01:55,361 [9920] DEBUG Erp - select base_data.* from base_data where  id =  '3'
2020-01-04 17:01:55,366 [9920] DEBUG Erp - update base_data set [name] = '米', [type] = '1', [isenable] = 'true', [remark] = '米', [create_time] = '2020/1/4 13:36:42', [create_username] = '1' where  id =  '3'
2020-01-04 17:01:55,373 [9920] DEBUG Servicebase_data - 获取动态对象
2020-01-04 17:01:55,373 [9920] DEBUG Erp - select base_data.* from base_data where  id =  '4'
2020-01-04 17:01:55,375 [9920] DEBUG Erp - update base_data set [name] = '张', [type] = '1', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 16:40:24', [create_username] = '超级管理员' where  id =  '4'
2020-01-04 17:02:06,138 [5092] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 17:02:06,914 [12232] DEBUG Servicebase_data - 获取动态列表
2020-01-04 17:02:06,914 [12232] DEBUG Erp - select top 20 * from base_data order by create_time
2020-01-04 17:02:06,923 [12232] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 17:02:16,944 [11032] DEBUG Servicebase_data - 获取动态列表
2020-01-04 17:02:16,945 [11032] DEBUG Erp - select top 20 * from base_data where  type =  '1' order by create_time
2020-01-04 17:02:16,950 [11032] DEBUG Erp - select count(*) from ( select * from base_data where  type =  '1' ) tb_temp
2020-01-04 17:03:00,369 [6188] DEBUG Servicebase_data - 获取动态列表
2020-01-04 17:03:00,369 [6188] DEBUG Erp - select top 20 * from base_data order by create_time
2020-01-04 17:03:00,371 [6188] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 17:03:05,461 [5092] DEBUG Servicebase_data - 获取动态列表
2020-01-04 17:03:05,461 [5092] DEBUG Erp - select top 20 * from base_data order by create_time
2020-01-04 17:03:05,463 [5092] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 17:04:47,851 [6188] DEBUG Servicebase_data - 获取动态列表
2020-01-04 17:04:47,851 [6188] DEBUG Erp - select top 20 * from base_data order by create_time
2020-01-04 17:04:47,852 [6188] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 17:04:49,328 [10996] DEBUG Servicebase_data - 获取动态列表
2020-01-04 17:04:49,329 [10996] DEBUG Erp - select top 20 * from base_data order by create_time
2020-01-04 17:04:49,330 [10996] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 17:04:54,013 [7784] DEBUG Servicebase_data - 获取动态列表
2020-01-04 17:04:54,013 [7784] DEBUG Erp - select top 20 * from base_data order by create_time
2020-01-04 17:04:54,016 [7784] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 17:04:57,648 [10996] DEBUG Servicebase_data - 获取动态列表
2020-01-04 17:04:57,648 [10996] DEBUG Erp - select top 20 * from base_data order by create_time
2020-01-04 17:04:57,651 [10996] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 17:07:31,991 [12372] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 17:07:32,023 [12372] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 17:07:32,030 [12372] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 17:07:32,030 [12372] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 17:07:32,035 [12372] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 17:07:32,036 [12372] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 17:07:32,534 [10084] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 17:07:35,703 [10996] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 17:07:41,108 [12972] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 17:07:41,130 [12972] DEBUG Servicebase_data - 获取动态列表
2020-01-04 17:07:41,137 [12972] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 17:07:41,138 [12972] DEBUG Servicebase_data - 获取动态列表
2020-01-04 17:07:41,139 [12972] DEBUG Erp - select name as value,name as text from base_data where  type =  '物料'and isenable =  '1'
2020-01-04 17:07:41,946 [9208] DEBUG Servicebase_material - 获取动态列表
2020-01-04 17:07:41,946 [9208] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 17:07:41,956 [9208] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 17:07:48,326 [6188] DEBUG Servicebase_material - 获取动态列表
2020-01-04 17:07:48,327 [6188] DEBUG Erp - select top 20 * from base_material order by remark asc
2020-01-04 17:07:48,328 [6188] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 17:07:55,905 [10272] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 17:07:58,037 [9208] DEBUG Servicebase_data - 获取动态列表
2020-01-04 17:07:58,037 [9208] DEBUG Erp - select top 20 * from base_data order by create_time
2020-01-04 17:07:58,050 [9208] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 17:08:21,761 [10996] DEBUG Servicebase_data - 编辑记录
2020-01-04 17:08:21,790 [10996] DEBUG Servicebase_data - 获取动态对象
2020-01-04 17:08:21,796 [10996] DEBUG Erp - select base_data.* from base_data where  id =  '4'
2020-01-04 17:08:21,824 [10996] DEBUG Erp - update base_data set [name] = '张', [type] = '单位', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 16:40:24', [create_username] = '超级管理员' where  id =  '4'
2020-01-04 17:08:21,836 [10996] DEBUG Servicebase_data - 获取动态对象
2020-01-04 17:08:21,836 [10996] DEBUG Erp - select base_data.* from base_data where  id =  '1'
2020-01-04 17:08:21,839 [10996] DEBUG Erp - update base_data set [name] = '主料', [type] = '物料', [isenable] = 'true', [remark] = '11', [create_time] = '2020/1/4 13:36:42', [create_username] = '11' where  id =  '1'
2020-01-04 17:08:21,845 [10996] DEBUG Servicebase_data - 获取动态对象
2020-01-04 17:08:21,845 [10996] DEBUG Erp - select base_data.* from base_data where  id =  '3'
2020-01-04 17:08:21,846 [10996] DEBUG Erp - update base_data set [name] = '米', [type] = '单位', [isenable] = 'true', [remark] = '米', [create_time] = '2020/1/4 13:36:42', [create_username] = '1' where  id =  '3'
2020-01-04 17:08:25,224 [10440] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 17:08:25,262 [10440] DEBUG Servicebase_data - 获取动态列表
2020-01-04 17:08:25,275 [10440] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 17:08:25,277 [10440] DEBUG Servicebase_data - 获取动态列表
2020-01-04 17:08:25,277 [10440] DEBUG Erp - select name as value,name as text from base_data where  type =  '物料'and isenable =  '1'
2020-01-04 17:08:26,188 [7784] DEBUG Servicebase_material - 获取动态列表
2020-01-04 17:08:26,188 [7784] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 17:08:26,189 [7784] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 17:08:50,344 [13804] DEBUG Servicebase_data - 编辑记录
2020-01-04 17:08:50,344 [13804] DEBUG Servicebase_data - 获取动态对象
2020-01-04 17:08:50,347 [13804] DEBUG Erp - select base_data.* from base_data where  id =  '3'
2020-01-04 17:08:50,364 [13804] DEBUG Erp - update base_data set [name] = '米', [type] = '单位', [isenable] = 'false', [remark] = '米', [create_time] = '2020/1/4 13:36:42', [create_username] = '1' where  id =  '3'
2020-01-04 17:08:53,641 [12232] DEBUG Servicebase_material - 获取动态列表
2020-01-04 17:08:53,642 [12232] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 17:08:53,643 [12232] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 17:09:04,838 [10272] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 17:09:05,583 [5092] DEBUG Servicebase_data - 获取动态列表
2020-01-04 17:09:05,584 [5092] DEBUG Erp - select top 20 * from base_data order by create_time
2020-01-04 17:09:05,600 [5092] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 17:09:08,597 [12980] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 17:09:08,600 [12980] DEBUG Servicebase_data - 获取动态列表
2020-01-04 17:09:08,601 [12980] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 17:09:08,602 [12980] DEBUG Servicebase_data - 获取动态列表
2020-01-04 17:09:08,602 [12980] DEBUG Erp - select name as value,name as text from base_data where  type =  '物料'and isenable =  '1'
2020-01-04 17:09:09,498 [13804] DEBUG Servicebase_material - 获取动态列表
2020-01-04 17:09:09,498 [13804] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 17:09:09,500 [13804] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 18:01:06,383 [1276] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 18:01:07,088 [10532] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:01:07,104 [10532] DEBUG Erp - select top 20 * from base_data order by create_time
2020-01-04 18:01:07,105 [10532] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 18:25:52,709 [9504] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/material/Index','/Mms/material')
2020-01-04 18:25:54,167 [8424] DEBUG Servicemms_materialType - 获取动态列表
2020-01-04 18:25:54,175 [8424] DEBUG Mms - select mms_materialType.* from mms_materialType order by MaterialType
2020-01-04 18:25:54,201 [1348] DEBUG Servicemms_material - 获取实体列表
2020-01-04 18:25:54,203 [1348] DEBUG Mms - select top 20 mms_material.* from mms_material order by MaterialCode
2020-01-04 18:25:54,219 [1348] DEBUG Mms - select count(*) from ( select mms_material.* from mms_material ) tb_temp
2020-01-04 18:26:08,231 [1348] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/parameter/Index','/Sys/parameter')
2020-01-04 18:26:09,874 [10280] DEBUG Servicesys_parameter - 获取实体列表
2020-01-04 18:26:09,875 [10280] DEBUG Sys - select top 20 sys_parameter.* from sys_parameter order by ParamCode
2020-01-04 18:26:09,888 [10280] DEBUG Sys - select count(*) from ( select sys_parameter.* from sys_parameter ) tb_temp
2020-01-04 18:26:21,202 [13192] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2020-01-04 18:26:23,119 [11392] DEBUG Servicesys_menu - 获取动态列表
2020-01-04 18:26:23,119 [11392] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-04 18:27:22,323 [10280] DEBUG Servicesys_menu - 编辑记录
2020-01-04 18:27:22,324 [10280] DEBUG Servicesys_menu - 获取动态对象
2020-01-04 18:27:22,325 [10280] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  'f838477f-8a97-42bf-944b-27f1a1d9de81'
2020-01-04 18:27:22,345 [10280] DEBUG Sys - insert into 
        sys_menu
    ([MenuName],[MenuCode],[ParentCode],[IconClass],[URL],[IsVisible],[IsEnable],[MenuSeq],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('产品管理','10003','10000','icon-application_view_tile','/erp/product','true','true','3','超级管理员','2020/1/4 18:27:22','超级管理员','2020/1/4 18:27:22')
2020-01-04 18:27:22,415 [10280] DEBUG Sys - insert into sys_log([UserCode],[UserName],[Position],[Target],[Type],[Message],[Date]) values('super','超级管理员','api/mms/send','菜单数据','修改','{"list":{"deleted":[],"inserted":[{"_id":"f838477f-8a97-42bf-944b-27f1a1d9de81","MenuName":"产品管理","MenuCode":"10003","ParentCode":"10000","IconClass":"icon-application_view_tile","URL":"/erp/product","IsVisible":"true","IsEnable":"true","MenuSeq":"3"}],"updated":[],"_changed":true}}','2020/1/4 18:27:22')
2020-01-04 18:27:22,725 [2096] DEBUG Servicesys_menu - 获取动态列表
2020-01-04 18:27:22,726 [2096] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-04 18:27:25,399 [8424] DEBUG Sys - 
select A.*,
       case when B.ID is null then 0 else 1 end as Selected
from sys_button A
left join sys_menuButtonMap B on B.MenuCode = '10003' and B.ButtonCode = A.ButtonCode
order by ButtonSeq
2020-01-04 18:27:33,152 [2096] DEBUG Servicesys_button - 获取实体列表
2020-01-04 18:27:33,153 [2096] DEBUG Sys - select sys_button.* from sys_button order by ButtonSeq
2020-01-04 18:29:10,511 [9848] DEBUG Servicesys_menu - 编辑记录
2020-01-04 18:29:10,511 [9848] DEBUG Servicesys_menu - 获取动态对象
2020-01-04 18:29:10,528 [9848] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  'ced3f1f3-1fc0-4cfa-b7e8-3228e04c5e45'
2020-01-04 18:29:10,530 [9848] DEBUG Sys - insert into 
        sys_menu
    ([MenuName],[MenuCode],[ParentCode],[IconClass],[URL],[IsVisible],[IsEnable],[MenuSeq],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('客户管理','10004','10000','icon-bookmark_add','/erp/customer','true','true','4','超级管理员','2020/1/4 18:29:10','超级管理员','2020/1/4 18:29:10')
2020-01-04 18:29:10,538 [9848] DEBUG Sys - insert into sys_log([UserCode],[UserName],[Position],[Target],[Type],[Message],[Date]) values('super','超级管理员','api/mms/send','菜单数据','修改','{"list":{"deleted":[],"inserted":[{"_id":"ced3f1f3-1fc0-4cfa-b7e8-3228e04c5e45","MenuName":"客户管理","MenuCode":"10004","ParentCode":"10000","IconClass":"icon-bookmark_add","URL":"/erp/customer","IsVisible":"true","IsEnable":"true","MenuSeq":"4"}],"updated":[],"_changed":true}}','2020/1/4 18:29:10')
2020-01-04 18:29:10,790 [11392] DEBUG Servicesys_menu - 获取动态列表
2020-01-04 18:29:10,790 [11392] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-04 18:30:00,841 [10280] DEBUG Servicesys_menu - 编辑记录
2020-01-04 18:30:00,842 [10280] DEBUG Servicesys_menu - 获取动态对象
2020-01-04 18:30:00,842 [10280] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '91ea8549-47ac-4760-bd00-95c0755234a1'
2020-01-04 18:30:00,844 [10280] DEBUG Sys - insert into 
        sys_menu
    ([MenuName],[MenuCode],[ParentCode],[IconClass],[URL],[IsVisible],[IsEnable],[MenuSeq],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('供应商管理','10005','10000','icon-calendar_edit','/erp/supplier','true','true','5','超级管理员','2020/1/4 18:30:00','超级管理员','2020/1/4 18:30:00')
2020-01-04 18:30:00,851 [10280] DEBUG Sys - insert into sys_log([UserCode],[UserName],[Position],[Target],[Type],[Message],[Date]) values('super','超级管理员','api/mms/send','菜单数据','修改','{"list":{"deleted":[],"inserted":[{"_id":"91ea8549-47ac-4760-bd00-95c0755234a1","MenuName":"供应商管理","MenuCode":"10005","ParentCode":"10000","IconClass":"icon-calendar_edit","URL":"/erp/supplier","IsVisible":"true","IsEnable":"true","MenuSeq":"5"}],"updated":[],"_changed":true}}','2020/1/4 18:30:00')
2020-01-04 18:30:01,139 [1348] DEBUG Servicesys_menu - 获取动态列表
2020-01-04 18:30:01,139 [1348] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-04 18:39:11,317 [10280] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/organize/Index','/Sys/organize')
2020-01-04 18:39:11,329 [10280] DEBUG Servicesys_organize - 获取实体列表
2020-01-04 18:39:11,330 [10280] DEBUG Sys - select sys_organize.* from sys_organize
2020-01-04 18:39:14,590 [9256] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-04 18:39:14,597 [9256] DEBUG Servicesys_user - 获取动态列表
2020-01-04 18:39:14,597 [9256] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-04 18:39:14,599 [9256] DEBUG Servicesys_organize - 获取动态列表
2020-01-04 18:39:14,599 [9256] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-04 18:39:16,277 [4276] DEBUG Servicesys_role - 获取实体列表
2020-01-04 18:39:16,277 [4276] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-04 18:39:27,171 [4276] DEBUG Sys - select * from sys_button order by ButtonSeq
2020-01-04 18:39:27,173 [4276] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='undefined' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='undefined'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='undefined'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='undefined'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='undefined'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='undefined'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='undefined'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='undefined'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='undefined'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='undefined'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='undefined'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='undefined'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='undefined'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='undefined'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='undefined'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2020-01-04 18:39:27,263 [9256] DEBUG Servicesys_permission - 获取动态列表
2020-01-04 18:39:27,272 [9256] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='undefined' and B.PermissionCode = A.PermissionCode 
2020-01-04 18:39:27,457 [4276] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'undefined'
2020-01-04 18:39:39,342 [4276] DEBUG Sys - select * from sys_button order by ButtonSeq
2020-01-04 18:39:39,345 [4276] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='super'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2020-01-04 18:39:39,434 [8424] DEBUG Servicesys_permission - 获取动态列表
2020-01-04 18:39:39,435 [8424] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2020-01-04 18:39:39,646 [4276] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2020-01-04 18:39:51,374 [9096] DEBUG Servicesys_role - 修改角色菜单权限
2020-01-04 18:39:51,383 [9096] DEBUG Sys - delete from sys_roleMenuMap where [RoleCode] = 'super'
2020-01-04 18:39:51,385 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10')
2020-01-04 18:39:51,386 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1019')
2020-01-04 18:39:51,387 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1002')
2020-01-04 18:39:51,388 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1001')
2020-01-04 18:39:51,389 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1009')
2020-01-04 18:39:51,390 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1010')
2020-01-04 18:39:51,390 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1013')
2020-01-04 18:39:51,391 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1007')
2020-01-04 18:39:51,393 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1006')
2020-01-04 18:39:51,394 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1011')
2020-01-04 18:39:51,395 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1003')
2020-01-04 18:39:51,396 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1012')
2020-01-04 18:39:51,396 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1008')
2020-01-04 18:39:51,397 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1005')
2020-01-04 18:39:51,398 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1004')
2020-01-04 18:39:51,399 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0101')
2020-01-04 18:39:51,400 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100101')
2020-01-04 18:39:51,401 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100201')
2020-01-04 18:39:51,402 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100312')
2020-01-04 18:39:51,403 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100401')
2020-01-04 18:39:51,404 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100501')
2020-01-04 18:39:51,404 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100601')
2020-01-04 18:39:51,405 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100701')
2020-01-04 18:39:51,406 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100801')
2020-01-04 18:39:51,407 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100901')
2020-01-04 18:39:51,408 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101001')
2020-01-04 18:39:51,409 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101101')
2020-01-04 18:39:51,410 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101201')
2020-01-04 18:39:51,411 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101301')
2020-01-04 18:39:51,412 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','11')
2020-01-04 18:39:51,413 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1105')
2020-01-04 18:39:51,414 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1101')
2020-01-04 18:39:51,415 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1102')
2020-01-04 18:39:51,416 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1103')
2020-01-04 18:39:51,417 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1104')
2020-01-04 18:39:51,418 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1109')
2020-01-04 18:39:51,419 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','03')
2020-01-04 18:39:51,420 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0301')
2020-01-04 18:39:51,421 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0302')
2020-01-04 18:39:51,422 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0303')
2020-01-04 18:39:51,423 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0304')
2020-01-04 18:39:51,424 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','12')
2020-01-04 18:39:51,425 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1204')
2020-01-04 18:39:51,425 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1201')
2020-01-04 18:39:51,426 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1202')
2020-01-04 18:39:51,427 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1203')
2020-01-04 18:39:51,428 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','99')
2020-01-04 18:39:51,429 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9902')
2020-01-04 18:39:51,430 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9903')
2020-01-04 18:39:51,431 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9910')
2020-01-04 18:39:51,432 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9904')
2020-01-04 18:39:51,432 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9905')
2020-01-04 18:39:51,433 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9906')
2020-01-04 18:39:51,434 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9911')
2020-01-04 18:39:51,435 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9907')
2020-01-04 18:39:51,436 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','98')
2020-01-04 18:39:51,437 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9810')
2020-01-04 18:39:51,438 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9915')
2020-01-04 18:39:51,439 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9920')
2020-01-04 18:39:51,440 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9950')
2020-01-04 18:39:51,440 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9960')
2020-01-04 18:39:51,441 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9961')
2020-01-04 18:39:51,442 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10000')
2020-01-04 18:39:51,443 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10001')
2020-01-04 18:39:51,444 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10002')
2020-01-04 18:39:51,445 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10003')
2020-01-04 18:39:51,446 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10004')
2020-01-04 18:39:51,447 [9096] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10005')
2020-01-04 18:39:51,453 [9096] DEBUG Servicesys_role - 修改角色菜单按钮权限
2020-01-04 18:39:51,455 [9096] DEBUG Sys - delete from sys_roleMenuButtonMap where [RoleCode] = 'super'
2020-01-04 18:39:51,456 [9096] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','add')
2020-01-04 18:39:51,457 [9096] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','edit')
2020-01-04 18:39:51,458 [9096] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','delete')
2020-01-04 18:39:51,463 [9096] DEBUG Servicesys_role - 修改角色数据权限
2020-01-04 18:39:51,465 [9096] DEBUG Sys - delete from sys_rolePermissionMap where [RoleCode] = 'super'
2020-01-04 18:39:51,471 [9096] DEBUG Servicesys_role - 修改角色数据列权限
2020-01-04 18:39:51,476 [9096] DEBUG Sys - delete from sys_roleMenuColumnMap where [RoleCode] = 'super'
2020-01-04 18:39:51,492 [9096] DEBUG Sys - insert into sys_roleMenuColumnMap([RoleCode],[MenuCode],[IsReject],[FieldName]) values('super','1001','True','BillNo')
2020-01-04 18:39:54,680 [10016] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-04 18:39:54,685 [10016] DEBUG Servicesys_user - 获取动态列表
2020-01-04 18:39:54,685 [10016] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-04 18:39:54,686 [10016] DEBUG Servicesys_organize - 获取动态列表
2020-01-04 18:39:54,686 [10016] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-04 18:39:55,191 [4276] DEBUG Servicesys_role - 获取实体列表
2020-01-04 18:39:55,191 [4276] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-04 18:39:56,823 [8536] DEBUG Sys - select * from sys_button order by ButtonSeq
2020-01-04 18:39:56,826 [8536] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='super'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2020-01-04 18:39:56,912 [9096] DEBUG Servicesys_permission - 获取动态列表
2020-01-04 18:39:56,913 [9096] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2020-01-04 18:39:56,963 [8536] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2020-01-04 18:40:03,529 [8536] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 18:40:03,877 [9848] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 18:40:05,030 [10280] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-04 18:40:05,036 [10280] DEBUG Servicesys_user - 获取动态列表
2020-01-04 18:40:05,036 [10280] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-04 18:40:05,038 [10280] DEBUG Servicesys_organize - 获取动态列表
2020-01-04 18:40:05,038 [10280] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-04 18:40:05,741 [4276] DEBUG Servicesys_role - 获取实体列表
2020-01-04 18:40:05,741 [4276] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-04 18:45:23,674 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 18:45:23,690 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 18:45:23,695 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 18:45:23,696 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 18:45:23,700 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 18:45:23,700 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 18:45:24,021 [11424] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Customer/Index','/Erp/Customer')
2020-01-04 18:45:24,041 [11424] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:45:24,047 [11424] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 18:45:31,076 [10280] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 18:45:35,318 [13192] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 18:45:45,958 [10040] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/product/Index','/Erp/product')
2020-01-04 18:45:45,966 [10040] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:45:45,967 [10040] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 18:45:45,967 [10040] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:45:45,967 [10040] DEBUG Erp - select name as value,name as text from base_data where  type =  '产品'and isenable =  '1'
2020-01-04 18:45:48,561 [13192] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 18:45:49,293 [9256] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:45:49,293 [9256] DEBUG Erp - select top 20 * from base_data order by create_time
2020-01-04 18:45:49,300 [9256] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 18:46:13,960 [9096] DEBUG Servicebase_data - 编辑记录
2020-01-04 18:46:13,995 [9096] DEBUG Servicebase_data - 获取动态对象
2020-01-04 18:46:14,002 [9096] DEBUG Erp - select base_data.* from base_data where  id =  ''
2020-01-04 18:46:14,029 [9096] DEBUG Erp - insert into base_data([name],[type],[isenable],[remark],[create_username],[create_time]) values('成品','产品','true','','超级管理员','2020/1/4 18:46:14')
2020-01-04 18:46:35,400 [9848] DEBUG Servicebase_data - 编辑记录
2020-01-04 18:46:35,402 [9848] DEBUG Servicebase_data - 获取动态对象
2020-01-04 18:46:35,435 [9848] DEBUG Erp - select base_data.* from base_data where  id =  ''
2020-01-04 18:46:35,437 [9848] DEBUG Erp - insert into base_data([name],[type],[isenable],[remark],[create_username],[create_time]) values('半成品','产品','true','','超级管理员','2020/1/4 18:46:35')
2020-01-04 18:47:18,975 [9096] DEBUG Servicebase_data - 编辑记录
2020-01-04 18:47:18,976 [9096] DEBUG Servicebase_data - 获取动态对象
2020-01-04 18:47:19,000 [9096] DEBUG Erp - select base_data.* from base_data where  id =  ''
2020-01-04 18:47:19,011 [9096] DEBUG Erp - insert into base_data([name],[type],[isenable],[remark],[create_username],[create_time]) values('A级','客户等级','true','','超级管理员','2020/1/4 18:47:19')
2020-01-04 18:47:34,570 [9256] DEBUG Servicebase_data - 编辑记录
2020-01-04 18:47:34,570 [9256] DEBUG Servicebase_data - 获取动态对象
2020-01-04 18:47:34,573 [9256] DEBUG Erp - select base_data.* from base_data where  id =  ''
2020-01-04 18:47:34,574 [9256] DEBUG Erp - insert into base_data([name],[type],[isenable],[remark],[create_username],[create_time]) values('B级别','客户等级','true','','超级管理员','2020/1/4 18:47:34')
2020-01-04 18:47:52,182 [9256] DEBUG Servicebase_data - 编辑记录
2020-01-04 18:47:52,183 [9256] DEBUG Servicebase_data - 获取动态对象
2020-01-04 18:47:52,194 [9256] DEBUG Erp - select base_data.* from base_data where  id =  '3'
2020-01-04 18:47:52,221 [9256] DEBUG Erp - update base_data set [name] = '米', [type] = '单位', [isenable] = 'true', [remark] = '米', [create_time] = '2020/1/4 13:36:42', [create_username] = '1' where  id =  '3'
2020-01-04 18:48:00,171 [10016] DEBUG Servicebase_data - 编辑记录
2020-01-04 18:48:00,172 [10016] DEBUG Servicebase_data - 获取动态对象
2020-01-04 18:48:00,173 [10016] DEBUG Erp - select base_data.* from base_data where  id =  ''
2020-01-04 18:48:00,175 [10016] DEBUG Erp - update base_data set [name] = 'B级', [type] = '客户等级', [isenable] = 'true', [remark] = '', [create_time] = '', [create_username] = '' where  id =  ''
2020-01-04 18:48:13,887 [10280] DEBUG Servicebase_data - 编辑记录
2020-01-04 18:48:13,888 [10280] DEBUG Servicebase_data - 获取动态对象
2020-01-04 18:48:13,901 [10280] DEBUG Erp - select base_data.* from base_data where  id =  ''
2020-01-04 18:48:13,906 [10280] DEBUG Erp - insert into base_data([name],[type],[isenable],[remark],[create_username],[create_time]) values('C级','客户等级','true','','超级管理员','2020/1/4 18:48:13')
2020-01-04 18:48:18,330 [9256] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/supplier/Index','/Erp/supplier')
2020-01-04 18:48:18,349 [9256] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:48:18,349 [9256] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 18:48:18,418 [9256] ERROR /erp/supplier - System.InvalidOperationException: 未找到视图“Index”或其母版视图，或没有视图引擎支持搜索的位置。搜索了以下位置: 
~/Areas/Erp/Views/supplier/Index.aspx
~/Areas/Erp/Views/supplier/Index.ascx
~/Areas/Erp/Views/Shared/Index.aspx
~/Areas/Erp/Views/Shared/Index.ascx
~/Views/supplier/Index.aspx
~/Views/supplier/Index.ascx
~/Views/Shared/Index.aspx
~/Views/Shared/Index.ascx
~/Areas/Erp/Views/supplier/Index.cshtml
~/Areas/Erp/Views/supplier/Index.vbhtml
~/Areas/Erp/Views/Shared/Index.cshtml
~/Areas/Erp/Views/Shared/Index.vbhtml
~/Views/supplier/Index.cshtml
~/Views/supplier/Index.vbhtml
~/Views/Shared/Index.cshtml
~/Views/Shared/Index.vbhtml
   在 System.Web.Mvc.ViewResult.FindView(ControllerContext context)
   在 System.Web.Mvc.ViewResultBase.ExecuteResult(ControllerContext context)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionResult(ControllerContext controllerContext, ActionResult actionResult)
   在 System.Web.Mvc.ControllerActionInvoker.<>c__DisplayClass1a.<InvokeActionResultWithFilters>b__17()
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilter(IResultFilter filter, ResultExecutingContext preContext, Func`1 continuation)
   在 System.Web.Mvc.ControllerActionInvoker.<>c__DisplayClass1a.<>c__DisplayClass1c.<InvokeActionResultWithFilters>b__19()
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilter(IResultFilter filter, ResultExecutingContext preContext, Func`1 continuation)
   在 System.Web.Mvc.ControllerActionInvoker.<>c__DisplayClass1a.<>c__DisplayClass1c.<InvokeActionResultWithFilters>b__19()
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilter(IResultFilter filter, ResultExecutingContext preContext, Func`1 continuation)
   在 System.Web.Mvc.ControllerActionInvoker.<>c__DisplayClass1a.<>c__DisplayClass1c.<InvokeActionResultWithFilters>b__19()
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionResultWithFilters(ControllerContext controllerContext, IList`1 filters, ActionResult actionResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass25.<>c__DisplayClass2a.<BeginInvokeAction>b__20()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass25.<BeginInvokeAction>b__22(IAsyncResult asyncResult)
2020-01-04 18:48:22,302 [4312] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/customer/Index','/Erp/customer')
2020-01-04 18:48:22,318 [4312] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:48:22,319 [4312] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 18:48:23,072 [13516] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 18:48:23,073 [13516] DEBUG Sys - select top 20 * from base_Customer order by id
2020-01-04 18:48:23,078 [13516] ERROR Servicebase_customer - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_Customer' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:68ad9d94-5a03-41d7-9e11-7a7f392e7c19
Error Number:208,State:1,Class:16
2020-01-04 18:48:23,150 [13516] ERROR /api/erp/Customer - System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_Customer' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.CustomerApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\CustomerController.cs:行号 68
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:68ad9d94-5a03-41d7-9e11-7a7f392e7c19
Error Number:208,State:1,Class:16
2020-01-04 18:48:29,536 [13516] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/customer/Index','/Erp/customer')
2020-01-04 18:48:29,543 [13516] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:48:29,543 [13516] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 18:48:30,244 [10040] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 18:48:30,245 [10040] DEBUG Sys - select top 20 * from base_Customer order by id
2020-01-04 18:48:30,267 [10040] ERROR Servicebase_customer - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_Customer' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:68ad9d94-5a03-41d7-9e11-7a7f392e7c19
Error Number:208,State:1,Class:16
2020-01-04 18:48:30,284 [10040] ERROR /api/erp/Customer - System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_Customer' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.CustomerApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\CustomerController.cs:行号 68
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:68ad9d94-5a03-41d7-9e11-7a7f392e7c19
Error Number:208,State:1,Class:16
2020-01-04 18:48:36,378 [13192] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 18:48:37,144 [9848] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:48:37,145 [9848] DEBUG Erp - select top 20 * from base_data order by create_time
2020-01-04 18:48:37,146 [9848] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 18:48:41,323 [13192] DEBUG Servicebase_data - 编辑记录
2020-01-04 18:48:41,324 [13192] DEBUG Servicebase_data - 获取动态对象
2020-01-04 18:48:41,325 [13192] DEBUG Erp - select base_data.* from base_data where  id =  '8'
2020-01-04 18:48:41,326 [13192] DEBUG Erp - update base_data set [name] = 'B级', [type] = '客户等级', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 18:47:34', [create_username] = '超级管理员' where  id =  '8'
2020-01-04 18:48:44,926 [10040] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 18:48:44,926 [10040] DEBUG Sys - select top 20 * from base_Customer order by id
2020-01-04 18:48:44,928 [10040] ERROR Servicebase_customer - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_Customer' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:68ad9d94-5a03-41d7-9e11-7a7f392e7c19
Error Number:208,State:1,Class:16
2020-01-04 18:48:44,946 [10040] ERROR /api/erp/Customer - System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_Customer' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.CustomerApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\CustomerController.cs:行号 68
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:68ad9d94-5a03-41d7-9e11-7a7f392e7c19
Error Number:208,State:1,Class:16
2020-01-04 18:48:50,974 [9256] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 18:48:51,702 [8424] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:48:51,703 [8424] DEBUG Erp - select top 20 * from base_data order by create_time
2020-01-04 18:48:51,708 [8424] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 18:48:54,597 [9848] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/product/Index','/Erp/product')
2020-01-04 18:48:54,620 [9848] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:48:54,621 [9848] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 18:48:54,641 [9848] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:48:54,641 [9848] DEBUG Erp - select name as value,name as text from base_data where  type =  '产品'and isenable =  '1'
2020-01-04 18:48:55,372 [9256] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/customer/Index','/Erp/customer')
2020-01-04 18:48:55,376 [9256] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:48:55,376 [9256] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 18:48:56,287 [8424] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 18:48:56,288 [8424] DEBUG Sys - select top 20 * from base_Customer order by id
2020-01-04 18:48:56,294 [8424] ERROR Servicebase_customer - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_Customer' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:68ad9d94-5a03-41d7-9e11-7a7f392e7c19
Error Number:208,State:1,Class:16
2020-01-04 18:48:56,312 [8424] ERROR /api/erp/Customer - System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_Customer' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.CustomerApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\CustomerController.cs:行号 68
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:68ad9d94-5a03-41d7-9e11-7a7f392e7c19
Error Number:208,State:1,Class:16
2020-01-04 18:49:03,066 [8424] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 18:49:03,066 [8424] DEBUG Sys - select top 20 * from base_Customer order by id
2020-01-04 18:49:03,069 [8424] ERROR Servicebase_customer - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_Customer' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:68ad9d94-5a03-41d7-9e11-7a7f392e7c19
Error Number:208,State:1,Class:16
2020-01-04 18:49:03,085 [8424] ERROR /api/erp/Customer - System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_Customer' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.CustomerApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\CustomerController.cs:行号 68
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:68ad9d94-5a03-41d7-9e11-7a7f392e7c19
Error Number:208,State:1,Class:16
2020-01-04 18:50:03,728 [8424] DEBUG Servicebase_customer - 编辑记录
2020-01-04 18:50:03,729 [8424] DEBUG Servicebase_customer - 获取动态对象
2020-01-04 18:50:03,733 [8424] DEBUG Sys - select base_Customer.* from base_Customer where  id =  ''
2020-01-04 18:50:03,740 [8424] ERROR Servicebase_customer - 获取动态对象失败
System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_Customer' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Data.SelectBuilder`1.QuerySingleDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 155
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass47_0.<GetDynamic>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 59
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:68ad9d94-5a03-41d7-9e11-7a7f392e7c19
Error Number:208,State:1,Class:16
2020-01-04 18:50:03,743 [8424] ERROR Servicebase_customer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_Customer' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamic(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 59
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 115
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:68ad9d94-5a03-41d7-9e11-7a7f392e7c19
Error Number:208,State:1,Class:16
2020-01-04 18:50:03,768 [8424] ERROR /api/erp/Customer/edit - System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_Customer' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , base_customerService , Object , RequestWrapper , Object )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 ERP.Web.Areas.Erp.Controllers.CustomerApiController.Edit(Object data) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\CustomerController.cs:行号 83
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:68ad9d94-5a03-41d7-9e11-7a7f392e7c19
Error Number:208,State:1,Class:16
2020-01-04 18:52:01,292 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 18:52:01,303 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 18:52:01,307 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 18:52:01,307 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 18:52:01,310 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 18:52:01,311 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 18:52:01,590 [10280] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 18:52:03,632 [9256] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 18:52:12,453 [9256] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 18:52:12,749 [10280] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 18:52:16,372 [13192] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/customer/Index','/Erp/customer')
2020-01-04 18:52:16,386 [13192] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:52:16,401 [13192] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 18:52:17,913 [10040] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 18:52:17,913 [10040] DEBUG Sys - select top 20 * from base_customer order by id
2020-01-04 18:52:17,916 [10040] ERROR Servicebase_customer - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_customer' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:e107566e-e7b4-4b88-8c80-60a7eeccb5cf
Error Number:208,State:1,Class:16
2020-01-04 18:52:17,952 [10040] ERROR /api/erp/Customer - System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_customer' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.CustomerApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\CustomerController.cs:行号 68
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:e107566e-e7b4-4b88-8c80-60a7eeccb5cf
Error Number:208,State:1,Class:16
2020-01-04 18:52:27,975 [10040] DEBUG Servicebase_customer - 编辑记录
2020-01-04 18:52:27,998 [10040] DEBUG Servicebase_customer - 获取动态对象
2020-01-04 18:52:28,003 [10040] DEBUG Sys - select base_customer.* from base_customer where  id =  ''
2020-01-04 18:52:28,007 [10040] ERROR Servicebase_customer - 获取动态对象失败
System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_customer' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Data.SelectBuilder`1.QuerySingleDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 155
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass47_0.<GetDynamic>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 59
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:e107566e-e7b4-4b88-8c80-60a7eeccb5cf
Error Number:208,State:1,Class:16
2020-01-04 18:52:28,009 [10040] ERROR Servicebase_customer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_customer' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamic(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 59
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 115
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:e107566e-e7b4-4b88-8c80-60a7eeccb5cf
Error Number:208,State:1,Class:16
2020-01-04 18:52:28,028 [10040] ERROR /api/erp/Customer/edit - System.Data.SqlClient.SqlException (0x80131904): 对象名 'base_customer' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , base_customerService , Object , RequestWrapper , Object )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 ERP.Web.Areas.Erp.Controllers.CustomerApiController.Edit(Object data) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\CustomerController.cs:行号 83
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:e107566e-e7b4-4b88-8c80-60a7eeccb5cf
Error Number:208,State:1,Class:16
2020-01-04 18:54:33,765 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 18:54:33,779 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 18:54:33,783 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 18:54:33,784 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 18:54:33,787 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 18:54:33,787 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 18:54:34,068 [1940] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 18:54:36,137 [13192] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 18:54:41,508 [11788] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/customer/Index','/Erp/customer')
2020-01-04 18:54:41,546 [11788] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:54:41,566 [11788] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 18:54:43,238 [1940] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 18:54:43,239 [1940] DEBUG Erp - select top 20 * from base_customer order by id
2020-01-04 18:54:43,255 [1940] DEBUG Erp - select count(*) from ( select * from base_customer ) tb_temp
2020-01-04 18:54:44,617 [9256] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/product/Index','/Erp/product')
2020-01-04 18:54:44,628 [9256] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:54:44,628 [9256] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 18:54:44,641 [9256] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:54:44,642 [9256] DEBUG Erp - select name as value,name as text from base_data where  type =  '产品'and isenable =  '1'
2020-01-04 18:54:50,152 [10280] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/product/Index','/Erp/product')
2020-01-04 18:54:50,156 [10280] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:54:50,157 [10280] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 18:54:50,157 [10280] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:54:50,158 [10280] DEBUG Erp - select name as value,name as text from base_data where  type =  '产品'and isenable =  '1'
2020-01-04 18:54:57,796 [1940] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/customer/Index','/Erp/customer')
2020-01-04 18:54:57,800 [1940] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:54:57,801 [1940] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 18:54:58,567 [13192] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 18:54:58,567 [13192] DEBUG Erp - select top 20 * from base_customer order by id
2020-01-04 18:54:58,568 [13192] DEBUG Erp - select count(*) from ( select * from base_customer ) tb_temp
2020-01-04 18:55:00,111 [10040] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/product/Index','/Erp/product')
2020-01-04 18:55:00,115 [10040] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:55:00,115 [10040] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 18:55:00,116 [10040] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:55:00,117 [10040] DEBUG Erp - select name as value,name as text from base_data where  type =  '产品'and isenable =  '1'
2020-01-04 18:55:06,965 [1940] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 18:55:08,847 [10280] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:55:08,847 [10280] DEBUG Erp - select top 20 * from base_data order by create_time
2020-01-04 18:55:08,860 [10280] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 18:55:10,411 [11788] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/product/Index','/Erp/product')
2020-01-04 18:55:10,415 [11788] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:55:10,415 [11788] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 18:55:10,416 [11788] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:55:10,416 [11788] DEBUG Erp - select name as value,name as text from base_data where  type =  '产品'and isenable =  '1'
2020-01-04 18:55:12,407 [10040] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/product/Index','/Erp/product')
2020-01-04 18:55:12,410 [10040] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:55:12,410 [10040] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 18:55:12,411 [10040] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:55:12,411 [10040] DEBUG Erp - select name as value,name as text from base_data where  type =  '产品'and isenable =  '1'
2020-01-04 18:56:08,083 [1940] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 18:56:09,079 [9848] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 18:56:10,401 [10280] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/product/Index','/Erp/product')
2020-01-04 18:56:10,404 [10280] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:56:10,404 [10280] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 18:56:10,405 [10280] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:56:10,405 [10280] DEBUG Erp - select name as value,name as text from base_data where  type =  '产品'and isenable =  '1'
2020-01-04 18:56:13,080 [13192] DEBUG Servicebase_product - 获取动态列表
2020-01-04 18:56:13,081 [13192] DEBUG Erp - select top 20 * from base_Product order by id
2020-01-04 18:56:13,101 [13192] DEBUG Erp - select count(*) from ( select * from base_Product ) tb_temp
2020-01-04 18:57:07,515 [10280] DEBUG Servicebase_product - 编辑记录
2020-01-04 18:57:07,541 [10280] DEBUG Servicebase_product - 获取动态对象
2020-01-04 18:57:07,547 [10280] DEBUG Erp - select base_Product.* from base_Product where  id =  ''
2020-01-04 18:57:07,575 [10280] DEBUG Erp - insert into base_Product([name],[type],[unit],[price],[guige],[isenable],[remark],[create_username],[create_time]) values('FSC礼盒','成品','米','2.52','20*30','true','','超级管理员','2020/1/4 18:57:07')
2020-01-04 18:57:39,609 [10280] DEBUG Servicebase_product - 编辑记录
2020-01-04 18:57:39,609 [10280] DEBUG Servicebase_product - 获取动态对象
2020-01-04 18:57:39,611 [10280] DEBUG Erp - select base_Product.* from base_Product where  id =  ''
2020-01-04 18:57:39,614 [10280] DEBUG Erp - insert into base_Product([name],[type],[unit],[price],[guige],[isenable],[remark],[create_username],[create_time]) values('吊牌','成品','米','135.00','40*90','true','','超级管理员','2020/1/4 18:57:39')
2020-01-04 18:57:47,883 [10040] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/customer/Index','/Erp/customer')
2020-01-04 18:57:47,888 [10040] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:57:47,900 [10040] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 18:57:48,957 [10280] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 18:57:48,958 [10280] DEBUG Erp - select top 20 * from base_customer order by id
2020-01-04 18:57:48,960 [10280] DEBUG Erp - select count(*) from ( select * from base_customer ) tb_temp
2020-01-04 18:59:28,805 [10040] DEBUG Servicebase_customer - 编辑记录
2020-01-04 18:59:28,806 [10040] DEBUG Servicebase_customer - 获取动态对象
2020-01-04 18:59:28,807 [10040] DEBUG Erp - select base_customer.* from base_customer where  id =  ''
2020-01-04 18:59:28,812 [10040] DEBUG Erp - insert into base_customer([jc_name],[name],[contacts],[contacts_phone],[email],[grade],[address],[isenable],[remark],[create_username],[create_time]) values('上海德华','上海德华贸易股份有限公司','张宇','187525249857','eurj42343@132','A级','上海市浦东新区针德路90123','true','','超级管理员','2020/1/4 18:59:28')
2020-01-04 18:59:34,173 [10040] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/customer/Index','/Erp/customer')
2020-01-04 18:59:34,177 [10040] DEBUG Servicebase_data - 获取动态列表
2020-01-04 18:59:34,178 [10040] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 18:59:35,021 [1276] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 18:59:35,022 [1276] DEBUG Erp - select top 20 * from base_customer order by id
2020-01-04 18:59:35,025 [1276] DEBUG Erp - select count(*) from ( select * from base_customer ) tb_temp
2020-01-04 19:00:13,979 [13192] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 19:00:14,527 [10280] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 19:00:15,380 [1940] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/customer/Index','/Erp/customer')
2020-01-04 19:00:15,383 [1940] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:00:15,383 [1940] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 19:00:18,156 [10280] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 19:00:18,156 [10280] DEBUG Erp - select top 20 * from base_customer order by id
2020-01-04 19:00:18,158 [10280] DEBUG Erp - select count(*) from ( select * from base_customer ) tb_temp
2020-01-04 19:00:31,698 [2592] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 19:00:32,190 [10040] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 19:00:32,870 [1940] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/customer/Index','/Erp/customer')
2020-01-04 19:00:32,873 [1940] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:00:32,873 [1940] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 19:00:34,455 [2592] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 19:00:34,455 [2592] DEBUG Erp - select top 20 * from base_customer order by id
2020-01-04 19:00:34,457 [2592] DEBUG Erp - select count(*) from ( select * from base_customer ) tb_temp
2020-01-04 19:01:04,707 [4128] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 19:01:05,461 [13516] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 19:01:06,241 [1276] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/customer/Index','/Erp/customer')
2020-01-04 19:01:06,243 [1276] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:01:06,244 [1276] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 19:01:07,605 [4128] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 19:01:07,605 [4128] DEBUG Erp - select top 20 * from base_customer order by id
2020-01-04 19:01:07,606 [4128] DEBUG Erp - select count(*) from ( select * from base_customer ) tb_temp
2020-01-04 19:01:27,209 [9256] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 19:01:27,958 [13516] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 19:01:28,744 [10040] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/customer/Index','/Erp/customer')
2020-01-04 19:01:28,746 [10040] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:01:28,746 [10040] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 19:01:31,191 [2592] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 19:01:31,192 [2592] DEBUG Erp - select top 20 * from base_customer order by id
2020-01-04 19:01:31,201 [2592] DEBUG Erp - select count(*) from ( select * from base_customer ) tb_temp
2020-01-04 19:01:40,219 [9256] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/customer/Index','/Erp/customer')
2020-01-04 19:01:40,222 [9256] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:01:40,222 [9256] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 19:01:40,655 [4128] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 19:01:40,655 [4128] DEBUG Erp - select top 20 * from base_customer order by id
2020-01-04 19:01:40,657 [4128] DEBUG Erp - select count(*) from ( select * from base_customer ) tb_temp
2020-01-04 19:01:46,577 [2592] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 19:01:46,578 [2592] DEBUG Erp - select top 20 * from base_customer where  grade =  'B级' order by id
2020-01-04 19:01:46,588 [2592] DEBUG Erp - select count(*) from ( select * from base_customer where  grade =  'B级' ) tb_temp
2020-01-04 19:01:50,188 [1276] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 19:01:50,189 [1276] DEBUG Erp - select top 20 * from base_customer order by id
2020-01-04 19:01:50,190 [1276] DEBUG Erp - select count(*) from ( select * from base_customer ) tb_temp
2020-01-04 19:01:54,362 [2592] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 19:01:54,362 [2592] DEBUG Erp - select top 20 * from base_customer where  grade =  'A级' order by id
2020-01-04 19:01:54,366 [2592] DEBUG Erp - select count(*) from ( select * from base_customer where  grade =  'A级' ) tb_temp
2020-01-04 19:02:45,219 [4128] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/customer/Index','/Erp/customer')
2020-01-04 19:02:45,223 [4128] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:02:45,223 [4128] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 19:02:45,963 [13516] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 19:02:45,963 [13516] DEBUG Erp - select top 20 * from base_customer order by id
2020-01-04 19:02:45,964 [13516] DEBUG Erp - select count(*) from ( select * from base_customer ) tb_temp
2020-01-04 19:02:47,676 [10280] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 19:02:47,677 [10280] DEBUG Erp - select top 20 * from base_customer order by id
2020-01-04 19:02:47,678 [10280] DEBUG Erp - select count(*) from ( select * from base_customer ) tb_temp
2020-01-04 19:02:54,337 [9256] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 19:02:54,344 [9256] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:02:54,344 [9256] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 19:02:54,346 [9256] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:02:54,346 [9256] DEBUG Erp - select name as value,name as text from base_data where  type =  '物料'and isenable =  '1'
2020-01-04 19:02:56,537 [13516] DEBUG Servicebase_material - 获取动态列表
2020-01-04 19:02:56,537 [13516] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 19:02:56,571 [13516] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 19:03:56,123 [13516] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 19:03:56,127 [13516] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:03:56,127 [13516] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 19:03:56,128 [13516] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:03:56,128 [13516] DEBUG Erp - select name as value,name as text from base_data where  type =  '物料'and isenable =  '1'
2020-01-04 19:03:57,025 [11932] DEBUG Servicebase_material - 获取动态列表
2020-01-04 19:03:57,025 [11932] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 19:03:57,029 [11932] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 19:03:58,843 [1276] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/product/Index','/Erp/product')
2020-01-04 19:03:58,846 [1276] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:03:58,847 [1276] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 19:03:58,849 [1276] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:03:58,850 [1276] DEBUG Erp - select name as value,name as text from base_data where  type =  '产品'and isenable =  '1'
2020-01-04 19:03:59,471 [10280] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/customer/Index','/Erp/customer')
2020-01-04 19:03:59,475 [10280] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:03:59,475 [10280] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 19:03:59,542 [2592] DEBUG Servicebase_product - 获取动态列表
2020-01-04 19:03:59,542 [2592] DEBUG Erp - select top 20 * from base_Product order by id
2020-01-04 19:03:59,543 [2592] DEBUG Erp - select count(*) from ( select * from base_Product ) tb_temp
2020-01-04 19:04:00,073 [13516] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 19:04:00,073 [13516] DEBUG Erp - select top 20 * from base_customer order by id
2020-01-04 19:04:00,074 [13516] DEBUG Erp - select count(*) from ( select * from base_customer ) tb_temp
2020-01-04 19:04:53,935 [11932] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/supplier/Index','/Erp/supplier')
2020-01-04 19:04:53,938 [11932] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:04:53,938 [11932] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 19:04:55,064 [9256] DEBUG Servicebase_supplier - 获取动态列表
2020-01-04 19:04:55,065 [9256] DEBUG Erp - select top 20 * from base_Supplier order by id
2020-01-04 19:04:55,072 [9256] DEBUG Erp - select count(*) from ( select * from base_Supplier ) tb_temp
2020-01-04 19:07:04,731 [2592] DEBUG Servicebase_supplier - 编辑记录
2020-01-04 19:07:04,731 [2592] DEBUG Servicebase_supplier - 获取动态对象
2020-01-04 19:07:04,733 [2592] DEBUG Erp - select base_Supplier.* from base_Supplier where  id =  ''
2020-01-04 19:07:04,740 [2592] DEBUG Erp - insert into base_Supplier([jc_name],[name],[contacts],[contacts_phone],[email],[grade],[address],[isenable],[remark],[create_username],[create_time]) values('利达纸业','江苏利达纸业有限公司','张三','18752542560','98984934@173.com','B级','江苏省宿迁市湖南路1901号','true','','超级管理员','2020/1/4 19:07:04')
2020-01-04 19:07:10,828 [11720] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/customer/Index','/Erp/customer')
2020-01-04 19:07:10,832 [11720] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:07:10,843 [11720] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 19:07:11,221 [2592] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/product/Index','/Erp/product')
2020-01-04 19:07:11,225 [2592] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:07:11,226 [2592] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 19:07:11,226 [2592] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:07:11,226 [2592] DEBUG Erp - select name as value,name as text from base_data where  type =  '产品'and isenable =  '1'
2020-01-04 19:07:11,706 [11560] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 19:07:12,058 [9256] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 19:07:12,058 [9256] DEBUG Erp - select top 20 * from base_customer order by id
2020-01-04 19:07:12,059 [9256] DEBUG Erp - select count(*) from ( select * from base_customer ) tb_temp
2020-01-04 19:07:12,100 [11720] DEBUG Servicebase_product - 获取动态列表
2020-01-04 19:07:12,100 [11720] DEBUG Erp - select top 20 * from base_Product order by id
2020-01-04 19:07:12,101 [11720] DEBUG Erp - select count(*) from ( select * from base_Product ) tb_temp
2020-01-04 19:07:12,142 [2592] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 19:07:12,146 [2592] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:07:12,146 [2592] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 19:07:12,147 [2592] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:07:12,147 [2592] DEBUG Erp - select name as value,name as text from base_data where  type =  '物料'and isenable =  '1'
2020-01-04 19:07:12,484 [11560] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:07:12,484 [11560] DEBUG Erp - select top 20 * from base_data order by create_time
2020-01-04 19:07:12,485 [11560] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 19:07:12,851 [11932] DEBUG Servicebase_material - 获取动态列表
2020-01-04 19:07:12,851 [11932] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 19:07:12,854 [11932] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 19:09:12,806 [11560] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 19:09:13,168 [13192] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 19:09:14,019 [4128] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 19:09:14,022 [4128] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:09:14,022 [4128] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 19:09:14,023 [4128] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:09:14,023 [4128] DEBUG Erp - select name as value,name as text from base_data where  type =  '物料'and isenable =  '1'
2020-01-04 19:09:14,818 [1276] DEBUG Servicebase_material - 获取动态列表
2020-01-04 19:09:14,819 [1276] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 19:09:14,819 [1276] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 19:09:22,964 [4128] DEBUG Servicebase_material - 编辑记录
2020-01-04 19:09:22,965 [4128] DEBUG Servicebase_material - 获取动态对象
2020-01-04 19:09:22,966 [4128] DEBUG Erp - select base_material.* from base_material where  id =  '2'
2020-01-04 19:09:22,989 [4128] DEBUG Erp - update base_material set [name] = 'aaaaa', [type] = '主料', [unit] = '米', [price] = '3', [guige] = '28888', [isenable] = 'true', [remark] = '11', [create_time] = '2020/1/4 15:08:38', [create_username] = '超级管理员' where  id =  '2'
2020-01-04 19:09:33,613 [11932] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 19:09:33,617 [11932] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:09:33,617 [11932] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 19:09:33,618 [11932] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:09:33,618 [11932] DEBUG Erp - select name as value,name as text from base_data where  type =  '物料'and isenable =  '1'
2020-01-04 19:09:34,408 [13192] DEBUG Servicebase_material - 获取动态列表
2020-01-04 19:09:34,409 [13192] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 19:09:34,410 [13192] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 19:09:37,617 [4128] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 19:09:37,621 [4128] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:09:37,622 [4128] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 19:09:37,622 [4128] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:09:37,623 [4128] DEBUG Erp - select name as value,name as text from base_data where  type =  '物料'and isenable =  '1'
2020-01-04 19:09:38,252 [8476] DEBUG Servicebase_material - 获取动态列表
2020-01-04 19:09:38,253 [8476] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 19:09:38,271 [8476] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 19:09:40,052 [11932] DEBUG Servicebase_material - 获取动态列表
2020-01-04 19:09:40,053 [11932] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 19:09:40,054 [11932] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 19:09:41,027 [11932] DEBUG Servicebase_material - 获取动态列表
2020-01-04 19:09:41,028 [11932] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 19:09:41,029 [11932] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 19:09:42,304 [13192] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-04 19:09:42,859 [4128] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:09:42,860 [4128] DEBUG Erp - select top 20 * from base_data order by create_time
2020-01-04 19:09:42,870 [4128] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-04 19:09:46,645 [2592] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/product/Index','/Erp/product')
2020-01-04 19:09:46,657 [2592] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:09:46,657 [2592] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 19:09:46,658 [2592] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:09:46,658 [2592] DEBUG Erp - select name as value,name as text from base_data where  type =  '产品'and isenable =  '1'
2020-01-04 19:09:47,329 [1276] DEBUG Servicebase_product - 获取动态列表
2020-01-04 19:09:47,329 [1276] DEBUG Erp - select top 20 * from base_Product order by id
2020-01-04 19:09:47,334 [1276] DEBUG Erp - select count(*) from ( select * from base_Product ) tb_temp
2020-01-04 19:09:48,329 [13192] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/supplier/Index','/Erp/supplier')
2020-01-04 19:09:48,334 [13192] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:09:48,335 [13192] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 19:09:50,421 [9256] DEBUG Servicebase_supplier - 获取动态列表
2020-01-04 19:09:50,421 [9256] DEBUG Erp - select top 20 * from base_Supplier order by id
2020-01-04 19:09:50,431 [9256] DEBUG Erp - select count(*) from ( select * from base_Supplier ) tb_temp
2020-01-04 19:09:51,477 [2592] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/customer/Index','/Erp/customer')
2020-01-04 19:09:51,481 [2592] DEBUG Servicebase_data - 获取动态列表
2020-01-04 19:09:51,481 [2592] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 19:09:52,121 [1276] DEBUG Servicebase_customer - 获取动态列表
2020-01-04 19:09:52,122 [1276] DEBUG Erp - select top 20 * from base_customer order by id
2020-01-04 19:09:52,123 [1276] DEBUG Erp - select count(*) from ( select * from base_customer ) tb_temp
2020-01-04 20:31:04,090 [11192] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2020-01-04 20:31:04,834 [12956] DEBUG Servicesys_menu - 获取动态列表
2020-01-04 20:31:04,835 [12956] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-04 20:31:49,489 [6484] DEBUG Sys - 
select A.*,
       case when B.ID is null then 0 else 1 end as Selected
from sys_button A
left join sys_menuButtonMap B on B.MenuCode = '10006' and B.ButtonCode = A.ButtonCode
order by ButtonSeq
2020-01-04 20:31:52,835 [9736] DEBUG Servicesys_menu - 编辑记录
2020-01-04 20:31:52,836 [9736] DEBUG Servicesys_menu - 获取动态对象
2020-01-04 20:31:52,847 [9736] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '122d1970-f95a-4ae1-9e1a-381a2596ebf0'
2020-01-04 20:31:52,854 [9736] DEBUG Sys - insert into 
        sys_menu
    ([MenuName],[MenuCode],[ParentCode],[IconClass],[URL],[IsVisible],[IsEnable],[MenuSeq],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('仓库维护','10006','10000','icon-book','/erp/warehouse','true','true','6','超级管理员','2020/1/4 20:31:52','超级管理员','2020/1/4 20:31:52')
2020-01-04 20:31:52,902 [9736] DEBUG Sys - insert into sys_log([UserCode],[UserName],[Position],[Target],[Type],[Message],[Date]) values('super','超级管理员','api/mms/send','菜单数据','修改','{"list":{"deleted":[],"inserted":[{"_id":"122d1970-f95a-4ae1-9e1a-381a2596ebf0","MenuName":"仓库维护","MenuCode":"10006","ParentCode":"10000","IconClass":"icon-book","URL":"/erp/warehouse","IsVisible":"true","IsEnable":"true","MenuSeq":"6"}],"updated":[],"_changed":true}}','2020/1/4 20:31:52')
2020-01-04 20:31:53,150 [7076] DEBUG Servicesys_menu - 获取动态列表
2020-01-04 20:31:53,150 [7076] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-04 20:31:58,431 [11964] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/organize/Index','/Sys/organize')
2020-01-04 20:31:58,442 [11964] DEBUG Servicesys_organize - 获取实体列表
2020-01-04 20:31:58,445 [11964] DEBUG Sys - select sys_organize.* from sys_organize
2020-01-04 20:32:02,492 [12956] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/organize/Index','/Sys/organize')
2020-01-04 20:32:02,498 [12956] DEBUG Servicesys_organize - 获取实体列表
2020-01-04 20:32:02,498 [12956] DEBUG Sys - select sys_organize.* from sys_organize
2020-01-04 20:32:09,210 [9736] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/organize/Index','/Sys/organize')
2020-01-04 20:32:09,214 [9736] DEBUG Servicesys_organize - 获取实体列表
2020-01-04 20:32:09,214 [9736] DEBUG Sys - select sys_organize.* from sys_organize
2020-01-04 20:32:12,517 [11932] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/permission/Index','/Sys/permission')
2020-01-04 20:32:13,485 [6484] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-04 20:32:13,491 [6484] DEBUG Servicesys_user - 获取动态列表
2020-01-04 20:32:13,492 [6484] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-04 20:32:13,510 [6484] DEBUG Servicesys_organize - 获取动态列表
2020-01-04 20:32:13,511 [6484] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-04 20:32:14,242 [6848] DEBUG Servicesys_permission - 获取动态列表
2020-01-04 20:32:14,243 [6848] DEBUG Sys - select A.*,B.PermissionName as ParentName from sys_permission A left join sys_permission B on B.PermissionCode = A.ParentCode
2020-01-04 20:32:15,321 [11192] DEBUG Servicesys_role - 获取实体列表
2020-01-04 20:32:15,323 [11192] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-04 20:32:20,102 [9736] DEBUG Sys - select * from sys_button order by ButtonSeq
2020-01-04 20:32:20,113 [9736] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='super'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2020-01-04 20:32:20,198 [6484] DEBUG Servicesys_permission - 获取动态列表
2020-01-04 20:32:20,199 [6484] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2020-01-04 20:32:20,239 [9736] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2020-01-04 20:32:25,265 [11932] DEBUG Servicesys_role - 修改角色菜单权限
2020-01-04 20:32:25,278 [11932] DEBUG Sys - delete from sys_roleMenuMap where [RoleCode] = 'super'
2020-01-04 20:32:25,280 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10')
2020-01-04 20:32:25,281 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1019')
2020-01-04 20:32:25,281 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1002')
2020-01-04 20:32:25,282 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1001')
2020-01-04 20:32:25,283 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1009')
2020-01-04 20:32:25,284 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1010')
2020-01-04 20:32:25,285 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1013')
2020-01-04 20:32:25,286 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1007')
2020-01-04 20:32:25,287 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1006')
2020-01-04 20:32:25,288 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1011')
2020-01-04 20:32:25,288 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1003')
2020-01-04 20:32:25,289 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1012')
2020-01-04 20:32:25,290 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1008')
2020-01-04 20:32:25,291 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1005')
2020-01-04 20:32:25,292 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1004')
2020-01-04 20:32:25,293 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0101')
2020-01-04 20:32:25,293 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100101')
2020-01-04 20:32:25,294 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100201')
2020-01-04 20:32:25,295 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100312')
2020-01-04 20:32:25,296 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100401')
2020-01-04 20:32:25,297 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100501')
2020-01-04 20:32:25,298 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100601')
2020-01-04 20:32:25,299 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100701')
2020-01-04 20:32:25,300 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100801')
2020-01-04 20:32:25,302 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100901')
2020-01-04 20:32:25,304 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101001')
2020-01-04 20:32:25,305 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101101')
2020-01-04 20:32:25,306 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101201')
2020-01-04 20:32:25,307 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101301')
2020-01-04 20:32:25,308 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','11')
2020-01-04 20:32:25,309 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1105')
2020-01-04 20:32:25,310 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1101')
2020-01-04 20:32:25,310 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1102')
2020-01-04 20:32:25,311 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1103')
2020-01-04 20:32:25,312 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1104')
2020-01-04 20:32:25,313 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1109')
2020-01-04 20:32:25,314 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','03')
2020-01-04 20:32:25,315 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0301')
2020-01-04 20:32:25,316 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0302')
2020-01-04 20:32:25,316 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0303')
2020-01-04 20:32:25,317 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0304')
2020-01-04 20:32:25,318 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','12')
2020-01-04 20:32:25,319 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1204')
2020-01-04 20:32:25,320 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1201')
2020-01-04 20:32:25,320 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1202')
2020-01-04 20:32:25,321 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1203')
2020-01-04 20:32:25,322 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','99')
2020-01-04 20:32:25,323 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9902')
2020-01-04 20:32:25,324 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9903')
2020-01-04 20:32:25,325 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9910')
2020-01-04 20:32:25,326 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9904')
2020-01-04 20:32:25,327 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9905')
2020-01-04 20:32:25,327 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9906')
2020-01-04 20:32:25,328 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9911')
2020-01-04 20:32:25,329 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9907')
2020-01-04 20:32:25,330 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','98')
2020-01-04 20:32:25,331 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9810')
2020-01-04 20:32:25,332 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9915')
2020-01-04 20:32:25,333 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9920')
2020-01-04 20:32:25,334 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9950')
2020-01-04 20:32:25,334 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9960')
2020-01-04 20:32:25,335 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9961')
2020-01-04 20:32:25,336 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10000')
2020-01-04 20:32:25,337 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10001')
2020-01-04 20:32:25,338 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10002')
2020-01-04 20:32:25,339 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10003')
2020-01-04 20:32:25,340 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10004')
2020-01-04 20:32:25,340 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10005')
2020-01-04 20:32:25,342 [11932] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10006')
2020-01-04 20:32:25,352 [11932] DEBUG Servicesys_role - 修改角色菜单按钮权限
2020-01-04 20:32:25,354 [11932] DEBUG Sys - delete from sys_roleMenuButtonMap where [RoleCode] = 'super'
2020-01-04 20:32:25,356 [11932] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','add')
2020-01-04 20:32:25,356 [11932] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','edit')
2020-01-04 20:32:25,357 [11932] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','delete')
2020-01-04 20:32:25,365 [11932] DEBUG Servicesys_role - 修改角色数据权限
2020-01-04 20:32:25,366 [11932] DEBUG Sys - delete from sys_rolePermissionMap where [RoleCode] = 'super'
2020-01-04 20:32:25,372 [11932] DEBUG Servicesys_role - 修改角色数据列权限
2020-01-04 20:32:25,378 [11932] DEBUG Sys - delete from sys_roleMenuColumnMap where [RoleCode] = 'super'
2020-01-04 20:32:25,389 [11932] DEBUG Sys - insert into sys_roleMenuColumnMap([RoleCode],[MenuCode],[IsReject],[FieldName]) values('super','1001','True','BillNo')
2020-01-04 20:32:27,358 [7076] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 20:32:27,671 [6848] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 20:32:28,667 [11932] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-04 20:32:28,671 [11932] DEBUG Servicesys_user - 获取动态列表
2020-01-04 20:32:28,671 [11932] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-04 20:32:28,672 [11932] DEBUG Servicesys_organize - 获取动态列表
2020-01-04 20:32:28,672 [11932] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-04 20:32:29,424 [11192] DEBUG Servicesys_role - 获取实体列表
2020-01-04 20:32:29,425 [11192] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-04 20:33:05,689 [14248] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 20:33:05,705 [14248] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 20:33:05,709 [14248] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 20:33:05,710 [14248] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 20:33:05,713 [14248] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 20:33:05,713 [14248] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 20:33:06,059 [11964] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Warehouse/Index','/Erp/Warehouse')
2020-01-04 20:33:11,462 [9736] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Warehouse/Index','/Erp/Warehouse')
2020-01-04 20:33:16,739 [12956] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 20:33:19,957 [6848] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 20:33:20,314 [6484] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-04 20:33:21,157 [11932] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:33:21,162 [11932] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-04 20:33:21,169 [11932] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-04 20:33:39,080 [9736] DEBUG Servicebase_warehouse - 编辑记录
2020-01-04 20:33:39,106 [9736] DEBUG Servicebase_warehouse - 获取动态对象
2020-01-04 20:33:39,113 [9736] DEBUG Erp - select base_Warehouse.* from base_Warehouse where  id =  ''
2020-01-04 20:33:39,136 [9736] DEBUG Erp - insert into base_Warehouse([name],[isenable],[remark],[create_username],[create_time]) values('成品仓库','true','','超级管理员','2020/1/4 20:33:39')
2020-01-04 20:34:10,755 [12956] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-04 20:34:12,238 [6848] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:34:12,247 [6848] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-04 20:34:12,248 [6848] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-04 20:34:49,618 [11932] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-04 20:34:51,703 [12028] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:34:51,703 [12028] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-04 20:34:51,704 [12028] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-04 20:35:11,021 [12028] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-04 20:35:12,925 [11192] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:35:12,925 [11192] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-04 20:35:12,926 [11192] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-04 20:35:36,763 [7076] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-04 20:35:39,038 [12956] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:35:39,038 [12956] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-04 20:35:39,039 [12956] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-04 20:35:54,177 [7076] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-04 20:35:56,447 [11964] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:35:56,447 [11964] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-04 20:35:56,448 [11964] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-04 20:35:58,131 [13076] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-04 20:35:59,574 [6484] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:35:59,574 [6484] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-04 20:35:59,575 [6484] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-04 20:36:09,110 [7076] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-04 20:36:10,798 [13076] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:36:10,799 [13076] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-04 20:36:10,800 [13076] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-04 20:36:49,572 [11192] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-04 20:36:51,004 [12956] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:36:51,004 [12956] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-04 20:36:51,009 [12956] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-04 20:37:06,732 [12028] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-04 20:37:08,175 [13076] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:37:08,175 [13076] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-04 20:37:08,176 [13076] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-04 20:37:19,708 [7076] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-04 20:37:21,179 [11192] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:37:21,179 [11192] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-04 20:37:21,182 [11192] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-04 20:37:34,899 [12028] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-04 20:37:36,668 [11932] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:37:36,668 [11932] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-04 20:37:36,673 [11932] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-04 20:37:37,805 [7076] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-04 20:37:39,771 [11192] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:37:39,772 [11192] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-04 20:37:39,772 [11192] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-04 20:37:43,230 [6848] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:37:43,230 [6848] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-04 20:37:43,233 [6848] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-04 20:37:49,570 [12028] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-04 20:37:51,122 [6484] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:37:51,122 [6484] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-04 20:37:51,127 [6484] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-04 20:38:06,966 [6848] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-04 20:38:08,355 [11932] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:38:08,355 [11932] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-04 20:38:08,357 [11932] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-04 20:38:20,441 [9588] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 20:38:20,474 [9588] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 20:38:20,482 [9588] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 20:38:20,483 [9588] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 20:38:20,489 [9588] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 20:38:20,490 [9588] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 20:38:20,981 [6848] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-04 20:38:26,212 [7076] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:38:26,230 [7076] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-04 20:38:26,250 [7076] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-04 20:38:33,177 [13076] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 20:38:33,190 [13076] DEBUG Servicebase_data - 获取动态列表
2020-01-04 20:38:33,194 [13076] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 20:38:33,195 [13076] DEBUG Servicebase_data - 获取动态列表
2020-01-04 20:38:33,196 [13076] DEBUG Erp - select name as value,name as text from base_data where  type =  '物料'and isenable =  '1'
2020-01-04 20:38:34,834 [11932] DEBUG Servicebase_material - 获取动态列表
2020-01-04 20:38:34,835 [11932] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 20:38:34,847 [11932] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 20:38:40,266 [12956] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-04 20:38:40,677 [6848] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:38:40,677 [6848] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-04 20:38:40,683 [6848] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-04 20:40:05,942 [11932] DEBUG Servicebase_warehouse - 编辑记录
2020-01-04 20:40:05,972 [11932] DEBUG Servicebase_warehouse - 获取动态对象
2020-01-04 20:40:05,980 [11932] DEBUG Erp - select base_Warehouse.* from base_Warehouse where  id =  ''
2020-01-04 20:40:06,034 [11932] DEBUG Erp - insert into base_Warehouse([name],[isenable],[remark],[create_username],[create_time]) values('半成品仓库','true','','超级管理员','2020/1/4 20:40:05')
2020-01-04 20:40:06,048 [11932] DEBUG Servicebase_warehouse - 获取动态对象
2020-01-04 20:40:06,048 [11932] DEBUG Erp - select base_Warehouse.* from base_Warehouse where  id =  ''
2020-01-04 20:40:06,049 [11932] DEBUG Erp - insert into base_Warehouse([name],[isenable],[remark],[create_username],[create_time]) values('原材料仓库','true','','超级管理员','2020/1/4 20:40:06')
2020-01-04 20:48:01,086 [6848] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 20:48:01,988 [11192] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 20:48:02,461 [11932] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-04 20:48:03,595 [6848] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:48:03,601 [6848] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-04 20:48:03,602 [6848] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-04 20:48:26,109 [12372] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 20:48:26,129 [12372] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 20:48:26,134 [12372] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 20:48:26,134 [12372] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 20:48:26,139 [12372] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 20:48:26,140 [12372] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 20:48:26,529 [7784] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Area/Index','/Erp/Area')
2020-01-04 20:50:17,024 [11192] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/generator/Index','/Sys/generator')
2020-01-04 20:50:24,184 [12028] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 20:50:24,201 [12028] DEBUG Servicebase_data - 获取动态列表
2020-01-04 20:50:24,233 [12028] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 20:50:24,237 [12028] DEBUG Servicebase_data - 获取动态列表
2020-01-04 20:50:24,237 [12028] DEBUG Erp - select name as value,name as text from base_data where  type =  '物料'and isenable =  '1'
2020-01-04 20:50:27,529 [8412] DEBUG Servicebase_material - 获取动态列表
2020-01-04 20:50:27,530 [8412] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 20:50:27,557 [8412] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 20:50:31,022 [12348] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/supplier/Index','/Erp/supplier')
2020-01-04 20:50:31,029 [12348] DEBUG Servicebase_data - 获取动态列表
2020-01-04 20:50:31,029 [12348] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-04 20:50:33,085 [7784] DEBUG Servicebase_supplier - 获取动态列表
2020-01-04 20:50:33,086 [7784] DEBUG Erp - select top 20 * from base_Supplier order by id
2020-01-04 20:50:33,100 [7784] DEBUG Erp - select count(*) from ( select * from base_Supplier ) tb_temp
2020-01-04 20:50:38,310 [11932] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-04 20:50:40,517 [11192] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:50:40,518 [11192] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-04 20:50:40,532 [11192] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-04 20:50:44,189 [11932] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-04 20:50:44,851 [13532] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:50:44,852 [13532] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-04 20:50:44,853 [13532] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-04 20:50:47,777 [12348] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2020-01-04 20:50:49,838 [11192] DEBUG Servicesys_menu - 获取动态列表
2020-01-04 20:50:49,838 [11192] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-04 20:51:46,862 [11932] DEBUG Servicesys_menu - 编辑记录
2020-01-04 20:51:46,891 [11932] DEBUG Servicesys_menu - 获取动态对象
2020-01-04 20:51:46,897 [11932] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '708220c2-7fba-4965-ac73-2c2b48512758'
2020-01-04 20:51:46,937 [11932] DEBUG Sys - insert into 
        sys_menu
    ([MenuName],[MenuCode],[ParentCode],[IconClass],[URL],[IsVisible],[IsEnable],[MenuSeq],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('库区维护','10007','10000','icon-award_star_gold_1','/erp/area','true','true','7','超级管理员','2020/1/4 20:51:46','超级管理员','2020/1/4 20:51:46')
2020-01-04 20:51:46,946 [11932] DEBUG Servicesys_menu - 获取动态对象
2020-01-04 20:51:46,946 [11932] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '9911'
2020-01-04 20:51:46,962 [11932] DEBUG Sys - update 
        sys_menu
     set [MenuName] = '系统参数', [MenuCode] = '9911', [ParentCode] = '99', [IconClass] = 'icon-page_white_wrench', [URL] = '/sys/parameter', [IsVisible] = 'true', [IsEnable] = 'true', [MenuSeq] = '255', [UpdatePerson] = '超级管理员', [UpdateDate] = '2020/1/4 20:51:46' where  MenuCode =  '9911'
2020-01-04 20:51:47,011 [11932] DEBUG Sys - insert into sys_log([UserCode],[UserName],[Position],[Target],[Type],[Message],[Date]) values('super','超级管理员','api/mms/send','菜单数据','修改','{"list":{"deleted":[],"inserted":[{"_id":"708220c2-7fba-4965-ac73-2c2b48512758","MenuName":"库区维护","MenuCode":"10007","ParentCode":"10000","IconClass":"icon-award_star_gold_1","URL":"/erp/area","IsVisible":"true","IsEnable":"true","MenuSeq":"7"}],"updated":[{"_id":"9911","MenuName":"系统参数","MenuCode":"9911","ParentCode":"99","IconClass":"icon-page_white_wrench","URL":"/sys/parameter","IsVisible":"true","IsEnable":"true","MenuSeq":"255"}],"_changed":true}}','2020/1/4 20:51:47')
2020-01-04 20:51:47,230 [12348] DEBUG Servicesys_menu - 获取动态列表
2020-01-04 20:51:47,230 [12348] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-04 20:51:55,490 [8412] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2020-01-04 20:51:56,140 [12348] DEBUG Servicesys_menu - 获取动态列表
2020-01-04 20:51:56,140 [12348] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-04 20:52:03,297 [13532] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/user/Index','/Sys/user')
2020-01-04 20:52:04,916 [12028] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-04 20:52:04,927 [12028] DEBUG Servicesys_user - 获取动态列表
2020-01-04 20:52:04,928 [12028] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-04 20:52:04,930 [12028] DEBUG Servicesys_organize - 获取动态列表
2020-01-04 20:52:04,931 [12028] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-04 20:52:05,310 [160] DEBUG Servicesys_organize - 获取实体列表
2020-01-04 20:52:05,313 [160] DEBUG Sys - select sys_organize.* from sys_organize
2020-01-04 20:52:05,330 [12348] DEBUG Servicesys_user - 获取实体列表
2020-01-04 20:52:05,331 [12348] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2020-01-04 20:52:05,365 [12348] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2020-01-04 20:52:06,712 [10624] DEBUG Servicesys_role - 获取实体列表
2020-01-04 20:52:06,713 [10624] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-04 20:52:09,669 [10624] DEBUG Servicesys_permission - 获取动态列表
2020-01-04 20:52:09,670 [10624] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2020-01-04 20:52:09,672 [13532] DEBUG Sys - select * from sys_button order by ButtonSeq
2020-01-04 20:52:09,688 [13532] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='super'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2020-01-04 20:52:09,854 [13532] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2020-01-04 20:52:13,898 [160] DEBUG Servicesys_role - 修改角色菜单权限
2020-01-04 20:52:13,907 [160] DEBUG Sys - delete from sys_roleMenuMap where [RoleCode] = 'super'
2020-01-04 20:52:13,909 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10')
2020-01-04 20:52:13,910 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1019')
2020-01-04 20:52:13,911 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1002')
2020-01-04 20:52:13,912 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1001')
2020-01-04 20:52:13,913 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1009')
2020-01-04 20:52:13,914 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1010')
2020-01-04 20:52:13,914 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1013')
2020-01-04 20:52:13,915 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1007')
2020-01-04 20:52:13,916 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1006')
2020-01-04 20:52:13,917 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1011')
2020-01-04 20:52:13,918 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1003')
2020-01-04 20:52:13,919 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1012')
2020-01-04 20:52:13,920 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1008')
2020-01-04 20:52:13,923 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1005')
2020-01-04 20:52:13,924 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1004')
2020-01-04 20:52:13,924 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0101')
2020-01-04 20:52:13,925 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100101')
2020-01-04 20:52:13,926 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100201')
2020-01-04 20:52:13,927 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100312')
2020-01-04 20:52:13,928 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100401')
2020-01-04 20:52:13,929 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100501')
2020-01-04 20:52:13,930 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100601')
2020-01-04 20:52:13,931 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100701')
2020-01-04 20:52:13,931 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100801')
2020-01-04 20:52:13,932 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100901')
2020-01-04 20:52:13,933 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101001')
2020-01-04 20:52:13,934 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101101')
2020-01-04 20:52:13,935 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101201')
2020-01-04 20:52:13,936 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101301')
2020-01-04 20:52:13,937 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','11')
2020-01-04 20:52:13,938 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1105')
2020-01-04 20:52:13,938 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1101')
2020-01-04 20:52:13,939 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1102')
2020-01-04 20:52:13,940 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1103')
2020-01-04 20:52:13,941 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1104')
2020-01-04 20:52:13,942 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1109')
2020-01-04 20:52:13,943 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','03')
2020-01-04 20:52:13,944 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0301')
2020-01-04 20:52:13,945 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0302')
2020-01-04 20:52:13,946 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0303')
2020-01-04 20:52:13,946 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0304')
2020-01-04 20:52:13,947 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','12')
2020-01-04 20:52:13,948 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1204')
2020-01-04 20:52:13,949 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1201')
2020-01-04 20:52:13,950 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1202')
2020-01-04 20:52:13,951 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1203')
2020-01-04 20:52:13,952 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','99')
2020-01-04 20:52:13,953 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9902')
2020-01-04 20:52:13,954 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9903')
2020-01-04 20:52:13,955 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9910')
2020-01-04 20:52:13,956 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9904')
2020-01-04 20:52:13,957 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9905')
2020-01-04 20:52:13,957 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9906')
2020-01-04 20:52:13,958 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9911')
2020-01-04 20:52:13,959 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9907')
2020-01-04 20:52:13,960 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','98')
2020-01-04 20:52:13,961 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9810')
2020-01-04 20:52:13,962 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9915')
2020-01-04 20:52:13,962 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9920')
2020-01-04 20:52:13,963 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9950')
2020-01-04 20:52:13,964 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9960')
2020-01-04 20:52:13,965 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9961')
2020-01-04 20:52:13,966 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10000')
2020-01-04 20:52:13,967 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10001')
2020-01-04 20:52:13,968 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10002')
2020-01-04 20:52:13,969 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10003')
2020-01-04 20:52:13,970 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10004')
2020-01-04 20:52:13,970 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10005')
2020-01-04 20:52:13,971 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10006')
2020-01-04 20:52:13,973 [160] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10007')
2020-01-04 20:52:13,980 [160] DEBUG Servicesys_role - 修改角色菜单按钮权限
2020-01-04 20:52:13,982 [160] DEBUG Sys - delete from sys_roleMenuButtonMap where [RoleCode] = 'super'
2020-01-04 20:52:13,987 [160] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','add')
2020-01-04 20:52:13,988 [160] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','edit')
2020-01-04 20:52:13,989 [160] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','delete')
2020-01-04 20:52:13,996 [160] DEBUG Servicesys_role - 修改角色数据权限
2020-01-04 20:52:13,998 [160] DEBUG Sys - delete from sys_rolePermissionMap where [RoleCode] = 'super'
2020-01-04 20:52:14,003 [160] DEBUG Servicesys_role - 修改角色数据列权限
2020-01-04 20:52:14,009 [160] DEBUG Sys - delete from sys_roleMenuColumnMap where [RoleCode] = 'super'
2020-01-04 20:52:14,021 [160] DEBUG Sys - insert into sys_roleMenuColumnMap([RoleCode],[MenuCode],[IsReject],[FieldName]) values('super','1001','True','BillNo')
2020-01-04 20:52:16,066 [11192] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-04 20:52:16,069 [11192] DEBUG Servicesys_user - 获取动态列表
2020-01-04 20:52:16,070 [11192] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-04 20:52:16,071 [11192] DEBUG Servicesys_organize - 获取动态列表
2020-01-04 20:52:16,071 [11192] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-04 20:52:16,516 [8412] DEBUG Servicesys_role - 获取实体列表
2020-01-04 20:52:16,517 [8412] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-04 20:52:18,934 [7784] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 20:52:23,182 [12348] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 20:52:24,304 [13532] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-04 20:52:24,309 [13532] DEBUG Servicesys_user - 获取动态列表
2020-01-04 20:52:24,309 [13532] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-04 20:52:24,314 [13532] DEBUG Servicesys_organize - 获取动态列表
2020-01-04 20:52:24,314 [13532] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-04 20:52:24,786 [11192] DEBUG Servicesys_role - 获取实体列表
2020-01-04 20:52:24,787 [11192] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-04 20:52:27,746 [11932] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 20:52:27,770 [11932] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:52:27,770 [11932] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 20:52:29,587 [11192] DEBUG Servicebase_area - 获取动态列表
2020-01-04 20:52:29,588 [11192] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 20:52:29,622 [11192] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 20:52:36,103 [12028] DEBUG Servicebase_area - 获取动态列表
2020-01-04 20:52:36,103 [12028] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by b.name asc
2020-01-04 20:52:36,111 [12028] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 20:53:16,160 [12028] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 20:53:16,163 [12028] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:53:16,164 [12028] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 20:53:18,081 [13532] DEBUG Servicebase_area - 获取动态列表
2020-01-04 20:53:18,082 [13532] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 20:53:18,089 [13532] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 20:53:40,364 [7784] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 20:53:40,367 [7784] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:53:40,367 [7784] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 20:53:41,737 [11192] DEBUG Servicebase_area - 获取动态列表
2020-01-04 20:53:41,738 [11192] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 20:53:41,738 [11192] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 20:54:08,653 [12348] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-04 20:54:08,658 [12348] DEBUG Servicebase_data - 获取动态列表
2020-01-04 20:54:08,658 [12348] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-04 20:54:08,659 [12348] DEBUG Servicebase_data - 获取动态列表
2020-01-04 20:54:08,660 [12348] DEBUG Erp - select name as value,name as text from base_data where  type =  '物料'and isenable =  '1'
2020-01-04 20:54:09,317 [5080] DEBUG Servicebase_material - 获取动态列表
2020-01-04 20:54:09,317 [5080] DEBUG Erp - select top 20 * from base_material order by id
2020-01-04 20:54:09,324 [5080] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-04 20:54:42,264 [5080] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 20:54:42,415 [7784] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 20:54:42,996 [10624] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 20:54:42,998 [10624] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:54:42,998 [10624] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 20:54:43,459 [5080] DEBUG Servicebase_area - 获取动态列表
2020-01-04 20:54:43,459 [5080] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 20:54:43,460 [5080] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 20:55:31,675 [5080] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 20:55:32,251 [10624] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 20:55:33,224 [13532] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 20:55:33,227 [13532] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:55:33,228 [13532] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 20:55:34,433 [7784] DEBUG Servicebase_area - 获取动态列表
2020-01-04 20:55:34,434 [7784] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 20:55:34,434 [7784] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 20:56:09,105 [13532] DEBUG Servicebase_area - 编辑记录
2020-01-04 20:56:09,106 [13532] DEBUG Servicebase_area - 获取动态对象
2020-01-04 20:56:09,107 [13532] DEBUG Erp - select base_Area.* from base_Area where  id =  ''
2020-01-04 20:56:09,112 [13532] DEBUG Erp - insert into base_Area([name],[warehouse_id],[isenable],[remark],[create_username],[create_time]) values('成品货架A','1','true','','超级管理员','2020/1/4 20:56:09')
2020-01-04 20:56:13,287 [10624] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 20:56:13,291 [10624] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 20:56:13,302 [10624] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 20:56:14,237 [9720] DEBUG Servicebase_area - 获取动态列表
2020-01-04 20:56:14,237 [9720] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 20:56:14,250 [9720] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 20:56:47,963 [12348] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/project/Index','/Mms/project')
2020-01-04 20:56:47,988 [12348] DEBUG Servicemms_project - 获取实体对象
2020-01-04 20:56:48,001 [12348] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-04 20:56:48,010 [12348] DEBUG Servicemms_project - 获取上一条下一条数据
2020-01-04 20:56:48,060 [12348] DEBUG Servicemms_project - 获取字段
2020-01-04 20:56:48,062 [12348] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 20:56:48,071 [12348] DEBUG Servicemms_project - 获取字段
2020-01-04 20:56:48,072 [12348] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode < '201306030001'and ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 20:56:48,077 [12348] DEBUG Servicemms_project - 获取字段
2020-01-04 20:56:48,078 [12348] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode >  '201306030001'and ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 20:56:48,083 [12348] DEBUG Servicemms_project - 获取字段
2020-01-04 20:56:48,083 [12348] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 20:56:48,137 [12348] DEBUG Servicesys_code - 获取动态列表
2020-01-04 20:56:48,138 [12348] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'PartAttr'
2020-01-04 20:56:48,139 [12348] DEBUG Servicesys_code - 获取动态列表
2020-01-04 20:56:48,140 [12348] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'ImagePart'
2020-01-04 20:56:51,886 [13532] DEBUG Servicemms_buildPart - 获取实体列表
2020-01-04 20:56:51,887 [13532] DEBUG Mms - select mms_buildPart.* from mms_buildPart where  ProjectCode =  '201306030001'
2020-01-04 20:56:51,902 [160] DEBUG Servicemms_project - 获取动态列表
2020-01-04 20:56:51,930 [160] DEBUG Mms - select ProjectName as text,ProjectCode as id,ParentCode as pid from mms_project
2020-01-04 20:56:52,137 [12348] DEBUG Servicemms_project - 获取实体对象
2020-01-04 20:56:52,138 [12348] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-04 20:56:52,139 [12348] DEBUG Servicemms_project - 获取上一条下一条数据
2020-01-04 20:56:52,139 [12348] DEBUG Servicemms_project - 获取字段
2020-01-04 20:56:52,139 [12348] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 20:56:52,140 [12348] DEBUG Servicemms_project - 获取字段
2020-01-04 20:56:52,140 [12348] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode < '201306030001'and ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 20:56:52,141 [12348] DEBUG Servicemms_project - 获取字段
2020-01-04 20:56:52,141 [12348] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode >  '201306030001'and ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 20:56:52,141 [12348] DEBUG Servicemms_project - 获取字段
2020-01-04 20:56:52,141 [12348] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 20:56:58,134 [9720] DEBUG Servicemms_project - 获取新主键
2020-01-04 20:56:58,137 [9720] DEBUG Mms - select isnull(max(ProjectCode),0) from mms_project  where 1 = 1 
2020-01-04 20:56:58,477 [13532] DEBUG Servicemms_buildPart - 获取实体列表
2020-01-04 20:56:58,478 [13532] DEBUG Mms - select mms_buildPart.* from mms_buildPart where  ProjectCode =  '201306030003'
2020-01-04 20:57:00,929 [9720] DEBUG Servicemms_project - 获取新主键
2020-01-04 20:57:00,930 [9720] DEBUG Mms - select isnull(max(ProjectCode),0) from mms_project  where 1 = 1 
2020-01-04 20:57:01,047 [13532] DEBUG Servicemms_buildPart - 获取实体列表
2020-01-04 20:57:01,048 [13532] DEBUG Mms - select mms_buildPart.* from mms_buildPart where  ProjectCode =  '201306030004'
2020-01-04 20:57:02,496 [7784] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/project/Index','/Mms/project')
2020-01-04 20:57:02,500 [7784] DEBUG Servicemms_project - 获取实体对象
2020-01-04 20:57:02,500 [7784] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-04 20:57:02,502 [7784] DEBUG Servicemms_project - 获取上一条下一条数据
2020-01-04 20:57:02,502 [7784] DEBUG Servicemms_project - 获取字段
2020-01-04 20:57:02,502 [7784] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 20:57:02,503 [7784] DEBUG Servicemms_project - 获取字段
2020-01-04 20:57:02,503 [7784] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode < '201306030001'and ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 20:57:02,504 [7784] DEBUG Servicemms_project - 获取字段
2020-01-04 20:57:02,504 [7784] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode >  '201306030001'and ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 20:57:02,505 [7784] DEBUG Servicemms_project - 获取字段
2020-01-04 20:57:02,505 [7784] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 20:57:02,506 [7784] DEBUG Servicesys_code - 获取动态列表
2020-01-04 20:57:02,506 [7784] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'PartAttr'
2020-01-04 20:57:02,507 [7784] DEBUG Servicesys_code - 获取动态列表
2020-01-04 20:57:02,507 [7784] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'ImagePart'
2020-01-04 20:57:04,178 [12028] DEBUG Servicemms_project - 获取动态列表
2020-01-04 20:57:04,178 [12028] DEBUG Mms - select ProjectName as text,ProjectCode as id,ParentCode as pid from mms_project
2020-01-04 20:57:04,259 [11192] DEBUG Servicemms_buildPart - 获取实体列表
2020-01-04 20:57:04,259 [11192] DEBUG Mms - select mms_buildPart.* from mms_buildPart where  ProjectCode =  '201306030001'
2020-01-04 20:57:04,294 [13532] DEBUG Servicemms_project - 获取实体对象
2020-01-04 20:57:04,294 [13532] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-04 20:57:04,296 [13532] DEBUG Servicemms_project - 获取上一条下一条数据
2020-01-04 20:57:04,296 [13532] DEBUG Servicemms_project - 获取字段
2020-01-04 20:57:04,296 [13532] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 20:57:04,297 [13532] DEBUG Servicemms_project - 获取字段
2020-01-04 20:57:04,297 [13532] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode < '201306030001'and ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 20:57:04,298 [13532] DEBUG Servicemms_project - 获取字段
2020-01-04 20:57:04,298 [13532] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode >  '201306030001'and ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 20:57:04,298 [13532] DEBUG Servicemms_project - 获取字段
2020-01-04 20:57:04,299 [13532] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 20:57:07,383 [12028] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/merchant/Index','/Mms/merchant')
2020-01-04 20:57:09,123 [7784] DEBUG Servicemms_merchants - 获取实体列表
2020-01-04 20:57:09,124 [7784] DEBUG Mms - select top 20 mms_merchants.* from mms_merchants order by MerchantsCode
2020-01-04 20:57:09,127 [13532] DEBUG Servicemms_merchantsType - 获取动态列表
2020-01-04 20:57:09,137 [13532] DEBUG Mms - select mms_merchantsType.* from mms_merchantsType order by MerchantsTypeCode
2020-01-04 20:57:09,157 [7784] DEBUG Mms - select count(*) from ( select mms_merchants.* from mms_merchants ) tb_temp
2020-01-04 20:57:23,484 [7784] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/send/Index','/Mms/send')
2020-01-04 20:57:23,504 [7784] DEBUG Servicemms_warehouse - 获取动态列表
2020-01-04 20:57:23,505 [7784] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where  ProjectCode =  '201306030001'
2020-01-04 20:57:23,508 [7784] DEBUG Servicesys_code - 获取动态列表
2020-01-04 20:57:23,508 [7784] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'Pricing'
2020-01-04 20:57:23,510 [7784] DEBUG Servicesys_code - 获取动态列表
2020-01-04 20:57:23,510 [7784] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'MaterialUse'
2020-01-04 20:57:25,239 [7784] DEBUG Sys - select MenuCode from sys_menu where URL = '/mms/send'
2020-01-04 20:57:25,243 [7784] DEBUG Sys - 
select *
from sys_roleMenuColumnMap 
where MenuCode = '1001'
and RoleCode in (
select RoleCode
from sys_userRoleMap
where userCode = 'super'
union
select A.RoleCode
from sys_organizeRoleMap A
inner join sys_userOrganizeMap B on B.OrganizeCode = A.OrganizeCode
where B.UserCode = 'super'
)
2020-01-04 20:57:25,298 [7784] DEBUG Sys - select MenuCode from sys_menu where URL = '/mms/send'
2020-01-04 20:57:25,299 [7784] DEBUG Sys - 
select A.*
from sys_button A
inner join sys_roleMenuButtonMap B on B.MenuCode = '1001' and B.ButtonCode = A.ButtonCode
where RoleCode in (
select RoleCode
from sys_userRoleMap
where userCode = 'super'
union
select A.RoleCode
from sys_organizeRoleMap A
inner join sys_userOrganizeMap B on B.OrganizeCode = A.OrganizeCode
where B.UserCode = 'super'
)
order by ButtonSeq
2020-01-04 20:57:29,807 [11192] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/user/Index','/Sys/user')
2020-01-04 20:57:30,579 [5080] DEBUG Servicesys_user - 获取实体列表
2020-01-04 20:57:30,580 [5080] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2020-01-04 20:57:30,584 [5080] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2020-01-04 20:57:30,586 [10624] DEBUG Servicesys_organize - 获取实体列表
2020-01-04 20:57:30,586 [10624] DEBUG Sys - select sys_organize.* from sys_organize
2020-01-04 20:57:35,308 [11192] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/permission/Index','/Sys/permission')
2020-01-04 20:57:36,109 [12028] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-04 20:57:36,113 [12028] DEBUG Servicesys_user - 获取动态列表
2020-01-04 20:57:36,113 [12028] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-04 20:57:36,115 [12028] DEBUG Servicesys_organize - 获取动态列表
2020-01-04 20:57:36,115 [12028] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-04 20:57:37,188 [12348] DEBUG Servicesys_role - 获取实体列表
2020-01-04 20:57:37,188 [12348] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-04 20:57:37,275 [160] DEBUG Servicesys_permission - 获取动态列表
2020-01-04 20:57:37,276 [160] DEBUG Sys - select A.*,B.PermissionName as ParentName from sys_permission A left join sys_permission B on B.PermissionCode = A.ParentCode
2020-01-04 20:57:46,152 [12028] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/merchant/Index','/Mms/merchant')
2020-01-04 20:57:46,534 [12348] DEBUG Servicemms_merchantsType - 获取动态列表
2020-01-04 20:57:46,534 [12348] DEBUG Mms - select mms_merchantsType.* from mms_merchantsType order by MerchantsTypeCode
2020-01-04 20:57:46,755 [13532] DEBUG Servicemms_merchants - 获取实体列表
2020-01-04 20:57:46,755 [13532] DEBUG Mms - select top 20 mms_merchants.* from mms_merchants order by MerchantsCode
2020-01-04 20:57:46,763 [13532] DEBUG Mms - select count(*) from ( select mms_merchants.* from mms_merchants ) tb_temp
2020-01-04 20:57:48,136 [5080] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/project/Index','/Mms/project')
2020-01-04 20:57:48,140 [5080] DEBUG Servicemms_project - 获取实体对象
2020-01-04 20:57:48,141 [5080] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-04 20:57:48,142 [5080] DEBUG Servicemms_project - 获取上一条下一条数据
2020-01-04 20:57:48,142 [5080] DEBUG Servicemms_project - 获取字段
2020-01-04 20:57:48,143 [5080] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 20:57:48,143 [5080] DEBUG Servicemms_project - 获取字段
2020-01-04 20:57:48,144 [5080] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode < '201306030001'and ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 20:57:48,144 [5080] DEBUG Servicemms_project - 获取字段
2020-01-04 20:57:48,145 [5080] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode >  '201306030001'and ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 20:57:48,146 [5080] DEBUG Servicemms_project - 获取字段
2020-01-04 20:57:48,146 [5080] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 20:57:48,147 [5080] DEBUG Servicesys_code - 获取动态列表
2020-01-04 20:57:48,147 [5080] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'PartAttr'
2020-01-04 20:57:48,148 [5080] DEBUG Servicesys_code - 获取动态列表
2020-01-04 20:57:48,148 [5080] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'ImagePart'
2020-01-04 20:57:49,474 [12348] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/warehouse/Index','/Mms/warehouse')
2020-01-04 20:57:49,576 [13532] DEBUG Servicemms_project - 获取动态列表
2020-01-04 20:57:49,576 [13532] DEBUG Mms - select ProjectName as text,ProjectCode as id,ParentCode as pid from mms_project
2020-01-04 20:57:49,647 [160] DEBUG Servicemms_buildPart - 获取实体列表
2020-01-04 20:57:49,647 [160] DEBUG Mms - select mms_buildPart.* from mms_buildPart where  ProjectCode =  '201306030001'
2020-01-04 20:57:49,678 [10624] DEBUG Servicemms_project - 获取实体对象
2020-01-04 20:57:49,679 [10624] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-04 20:57:49,681 [10624] DEBUG Servicemms_project - 获取上一条下一条数据
2020-01-04 20:57:49,681 [10624] DEBUG Servicemms_project - 获取字段
2020-01-04 20:57:49,681 [10624] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 20:57:49,681 [10624] DEBUG Servicemms_project - 获取字段
2020-01-04 20:57:49,682 [10624] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode < '201306030001'and ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 20:57:49,682 [10624] DEBUG Servicemms_project - 获取字段
2020-01-04 20:57:49,682 [10624] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode >  '201306030001'and ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 20:57:49,682 [10624] DEBUG Servicemms_project - 获取字段
2020-01-04 20:57:49,682 [10624] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 20:57:50,727 [5080] DEBUG Servicemms_project - 获取动态列表
2020-01-04 20:57:50,727 [5080] DEBUG Mms - select ProjectName as text,ProjectCode as id,ParentCode as pid from mms_project
2020-01-04 20:57:50,754 [7784] DEBUG Servicemms_warehouse - 获取实体列表
2020-01-04 20:57:50,755 [7784] DEBUG Mms - select top 20 mms_warehouse.* from mms_warehouse order by WarehouseCode
2020-01-04 20:57:50,767 [7784] DEBUG Mms - select count(*) from ( select mms_warehouse.* from mms_warehouse ) tb_temp
2020-01-04 20:57:56,397 [11192] DEBUG Servicemms_warehouse - 获取实体列表
2020-01-04 20:57:56,397 [11192] DEBUG Mms - select top 20 mms_warehouse.* from mms_warehouse where  ProjectCode =  '201306030002' order by WarehouseCode
2020-01-04 20:57:56,418 [11192] DEBUG Mms - select count(*) from ( select mms_warehouse.* from mms_warehouse where  ProjectCode =  '201306030002' ) tb_temp
2020-01-04 20:57:57,060 [12348] DEBUG Servicemms_warehouse - 获取新主键
2020-01-04 20:57:57,060 [12348] DEBUG Mms - select isnull(max(WarehouseCode),0) from mms_warehouse  where 1 = 1 
2020-01-04 20:58:03,742 [12348] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/warehouse/Index','/Mms/warehouse')
2020-01-04 20:58:04,213 [7784] DEBUG Servicemms_warehouse - 获取实体列表
2020-01-04 20:58:04,214 [7784] DEBUG Mms - select top 20 mms_warehouse.* from mms_warehouse order by WarehouseCode
2020-01-04 20:58:04,217 [7784] DEBUG Mms - select count(*) from ( select mms_warehouse.* from mms_warehouse ) tb_temp
2020-01-04 20:58:04,232 [13532] DEBUG Servicemms_project - 获取动态列表
2020-01-04 20:58:04,233 [13532] DEBUG Mms - select ProjectName as text,ProjectCode as id,ParentCode as pid from mms_project
2020-01-04 20:58:17,213 [12348] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/warehouse/Index','/Mms/warehouse')
2020-01-04 20:58:17,603 [1376] DEBUG Servicemms_project - 获取动态列表
2020-01-04 20:58:17,603 [1376] DEBUG Mms - select ProjectName as text,ProjectCode as id,ParentCode as pid from mms_project
2020-01-04 20:58:17,746 [7784] DEBUG Servicemms_warehouse - 获取实体列表
2020-01-04 20:58:17,746 [7784] DEBUG Mms - select top 20 mms_warehouse.* from mms_warehouse order by WarehouseCode
2020-01-04 20:58:17,753 [7784] DEBUG Mms - select count(*) from ( select mms_warehouse.* from mms_warehouse ) tb_temp
2020-01-04 20:58:27,925 [160] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/deal/Index','/Mms/deal')
2020-01-04 20:58:27,945 [160] DEBUG Servicesys_code - 获取动态列表
2020-01-04 20:58:27,946 [160] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'DisposalType'
2020-01-04 20:58:27,956 [160] DEBUG Servicesys_code - 获取动态列表
2020-01-04 20:58:27,956 [160] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'DisposalWay'
2020-01-04 20:58:30,168 [5080] DEBUG Servicemms_deal - 获取动态列表
2020-01-04 20:58:30,168 [5080] DEBUG Mms - select top 20 
        A.*, B.ProjectName
     from 
        mms_deal A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
     where  A.ProjectCode =  '201306030001' order by A.BillNo
2020-01-04 20:58:30,185 [5080] DEBUG Mms - select count(*) from ( select 
        A.*, B.ProjectName
     from 
        mms_deal A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
     where  A.ProjectCode =  '201306030001' ) tb_temp
2020-01-04 20:58:31,862 [12028] DEBUG Servicemms_deal - 获取新主键
2020-01-04 20:58:31,863 [12028] DEBUG Mms - select isnull(max(BillNo),0) from mms_deal
2020-01-04 20:58:31,957 [11192] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/deal/edit')
2020-01-04 20:58:32,002 [11192] DEBUG Servicemms_deal - 获取实体对象
2020-01-04 20:58:32,003 [11192] DEBUG Mms - select mms_deal.* from mms_deal where  BillNo =  '202001040001'
2020-01-04 20:58:32,008 [11192] DEBUG Servicemms_deal - 获取上一条下一条数据
2020-01-04 20:58:32,011 [11192] DEBUG Servicemms_deal - 获取字段
2020-01-04 20:58:32,011 [11192] DEBUG Mms - select top 1 BillNo from mms_deal where  ProjectCode =  '201306030001' order by BillNo
2020-01-04 20:58:32,016 [11192] DEBUG Servicemms_deal - 获取字段
2020-01-04 20:58:32,016 [11192] DEBUG Mms - select top 1 BillNo from mms_deal where  BillNo < '202001040001'and ProjectCode =  '201306030001' order by BillNo desc
2020-01-04 20:58:32,021 [11192] DEBUG Servicemms_deal - 获取字段
2020-01-04 20:58:32,021 [11192] DEBUG Mms - select top 1 BillNo from mms_deal where  BillNo >  '202001040001'and ProjectCode =  '201306030001' order by BillNo
2020-01-04 20:58:32,026 [11192] DEBUG Servicemms_deal - 获取字段
2020-01-04 20:58:32,026 [11192] DEBUG Mms - select top 1 BillNo from mms_deal where  ProjectCode =  '201306030001' order by BillNo desc
2020-01-04 20:58:32,072 [11192] DEBUG Servicesys_code - 获取动态列表
2020-01-04 20:58:32,072 [11192] DEBUG Sys - select Text as value,Text as text from sys_code where  CodeType =  'MeasureUnit'
2020-01-04 20:58:32,075 [11192] DEBUG Servicesys_code - 获取动态列表
2020-01-04 20:58:32,075 [11192] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'DisposalType'
2020-01-04 20:58:32,076 [11192] DEBUG Servicesys_code - 获取动态列表
2020-01-04 20:58:32,076 [11192] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'DisposalWay'
2020-01-04 20:58:32,078 [11192] DEBUG Servicesys_code - 获取字段
2020-01-04 20:58:32,078 [11192] DEBUG Sys - select top 1 Code from sys_code where  CodeType =  'DisposalType'and IsEnable =  'True'and IsDefault =  'True'
2020-01-04 20:58:32,081 [11192] DEBUG Servicesys_code - 获取字段
2020-01-04 20:58:32,081 [11192] DEBUG Sys - select top 1 Code from sys_code where  CodeType =  'DisposalWay'and IsEnable =  'True'and IsDefault =  'True'
2020-01-04 20:58:34,181 [160] DEBUG Servicemms_dealDetail - 获取动态列表
2020-01-04 20:58:34,181 [160] DEBUG Mms - select 
        A.*,B.MerchantsName as ExpendCompanyName
     from 
        mms_dealDetail A
        left join mms_merchants B on B.MerchantsCode = A.ExpendCompany
     where  BillNo =  '202001040001' order by A.RowId
2020-01-04 20:58:36,511 [1376] DEBUG Servicemms_materialType - 获取动态列表
2020-01-04 20:58:36,511 [1376] DEBUG Mms - select 
        MaterialTypeName as text,MaterialType as id,ParentCode as pid
     from 
        mms_materialType
     order by MaterialType
2020-01-04 20:58:36,560 [12348] DEBUG Servicemms_material - 获取动态列表
2020-01-04 20:58:36,562 [12348] DEBUG Mms - select top 10 A.* from 
    mms_material A
   order by A.MaterialCode
2020-01-04 20:58:36,584 [12348] DEBUG Mms - select count(*) from ( select A.* from 
    mms_material A
   ) tb_temp
2020-01-04 21:01:24,803 [11192] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/generator/Index','/Sys/generator')
2020-01-04 21:01:33,191 [1376] DEBUG Erp - SELECT Name as TableName FROM sys.tables order by Name
2020-01-04 21:01:33,232 [160] DEBUG Erp - 
SELECT	sys.columns.name						AS ColumnName, 
		type_name(sys.columns.system_type_id)	AS SqlTypeName,
		sys.columns.max_length					AS MaxLength,
		sys.columns.is_nullable					AS IsNullable,
		sys.columns.is_identity					AS IsIdentity,
		(case when exists(select 1  
						 from   syscolumns 
						 join   sysindexkeys on syscolumns.id  =sysindexkeys.id and syscolumns.colid=sysindexkeys.colid and syscolumns.id=sys.columns.object_id 
						 join   sysindexes   on syscolumns.id  =sysindexes.id   and sysindexkeys.indid=sysindexes.indid   
						 join   sysobjects   on sysindexes.name=sysobjects.name and sysobjects.xtype= 'PK '
						 where syscolumns.name = sys.columns.name) then 1 else 0 end) AS IsPrimaryKey,
		(select value from sys.extended_properties where sys.extended_properties.major_id = sys.columns.object_id and sys.extended_properties.minor_id = sys.columns.column_id) as Description
FROM sys.columns    
WHERE sys.columns.object_id = object_id('undefined')
ORDER BY sys.columns.column_id
2020-01-04 21:01:35,496 [12348] DEBUG Erp - 
SELECT	sys.columns.name						AS ColumnName, 
		type_name(sys.columns.system_type_id)	AS SqlTypeName,
		sys.columns.max_length					AS MaxLength,
		sys.columns.is_nullable					AS IsNullable,
		sys.columns.is_identity					AS IsIdentity,
		(case when exists(select 1  
						 from   syscolumns 
						 join   sysindexkeys on syscolumns.id  =sysindexkeys.id and syscolumns.colid=sysindexkeys.colid and syscolumns.id=sys.columns.object_id 
						 join   sysindexes   on syscolumns.id  =sysindexes.id   and sysindexkeys.indid=sysindexes.indid   
						 join   sysobjects   on sysindexes.name=sysobjects.name and sysobjects.xtype= 'PK '
						 where syscolumns.name = sys.columns.name) then 1 else 0 end) AS IsPrimaryKey,
		(select value from sys.extended_properties where sys.extended_properties.major_id = sys.columns.object_id and sys.extended_properties.minor_id = sys.columns.column_id) as Description
FROM sys.columns    
WHERE sys.columns.object_id = object_id('base_area')
ORDER BY sys.columns.column_id
2020-01-04 21:01:49,793 [11364] DEBUG Erp - 
SELECT	sys.columns.name						AS ColumnName, 
		type_name(sys.columns.system_type_id)	AS SqlTypeName,
		sys.columns.max_length					AS MaxLength,
		sys.columns.is_nullable					AS IsNullable,
		sys.columns.is_identity					AS IsIdentity,
		(case when exists(select 1  
						 from   syscolumns 
						 join   sysindexkeys on syscolumns.id  =sysindexkeys.id and syscolumns.colid=sysindexkeys.colid and syscolumns.id=sys.columns.object_id 
						 join   sysindexes   on syscolumns.id  =sysindexes.id   and sysindexkeys.indid=sysindexes.indid   
						 join   sysobjects   on sysindexes.name=sysobjects.name and sysobjects.xtype= 'PK '
						 where syscolumns.name = sys.columns.name) then 1 else 0 end) AS IsPrimaryKey,
		(select value from sys.extended_properties where sys.extended_properties.major_id = sys.columns.object_id and sys.extended_properties.minor_id = sys.columns.column_id) as Description
FROM sys.columns    
WHERE sys.columns.object_id = object_id('base_area')
ORDER BY sys.columns.column_id
2020-01-04 21:01:49,804 [11364] DEBUG Erp - sp_pkeys 'base_area'
2020-01-04 21:01:55,238 [11364] ERROR /api/sys/generator - System.ArgumentOutOfRangeException: 索引超出范围。必须为非负值并小于集合大小。
参数名: index
   在 System.ThrowHelper.ThrowArgumentOutOfRangeException(ExceptionArgument argument, ExceptionResource resource)
   在 System.Collections.Generic.List`1.get_Item(Int32 index)
   在 Newtonsoft.Json.Linq.JContainer.GetItem(Int32 index)
   在 CallSite.Target(Closure , CallSite , Object , Int32 )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute2[T0,T1,TRet](CallSite site, T0 arg0, T1 arg1)
   在 CompiledRazorTemplates.Dynamic.bcccfceaaf.Execute()
   在 RazorEngine.Templating.TemplateBase.RazorEngine.Templating.ITemplate.Run(ExecuteContext context) 位置 c:\_git\RazorEngine\src\Core\RazorEngine.Core\Templating\TemplateBase.cs:行号 126
   在 RazorEngine.Templating.TemplateService.Run(ITemplate template, DynamicViewBag viewBag) 位置 c:\_git\RazorEngine\src\Core\RazorEngine.Core\Templating\TemplateService.cs:行号 608
   在 RazorEngine.Templating.TemplateService.Parse(String razorTemplate, Object model, DynamicViewBag viewBag, String cacheName) 位置 c:\_git\RazorEngine\src\Core\RazorEngine.Core\Templating\TemplateService.cs:行号 437
   在 RazorEngine.Razor.Parse[T](String razorTemplate, T model) 位置 c:\_git\RazorEngine\src\Core\RazorEngine.Core\Razor.cs:行号 263
   在 ERP.Web.Areas.Sys.Controllers.GeneratorApiController.Post(JToken data) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Sys\Controllers\GeneratorController.cs:行号 103
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-04 21:02:08,991 [160] DEBUG Erp - 
SELECT	sys.columns.name						AS ColumnName, 
		type_name(sys.columns.system_type_id)	AS SqlTypeName,
		sys.columns.max_length					AS MaxLength,
		sys.columns.is_nullable					AS IsNullable,
		sys.columns.is_identity					AS IsIdentity,
		(case when exists(select 1  
						 from   syscolumns 
						 join   sysindexkeys on syscolumns.id  =sysindexkeys.id and syscolumns.colid=sysindexkeys.colid and syscolumns.id=sys.columns.object_id 
						 join   sysindexes   on syscolumns.id  =sysindexes.id   and sysindexkeys.indid=sysindexes.indid   
						 join   sysobjects   on sysindexes.name=sysobjects.name and sysobjects.xtype= 'PK '
						 where syscolumns.name = sys.columns.name) then 1 else 0 end) AS IsPrimaryKey,
		(select value from sys.extended_properties where sys.extended_properties.major_id = sys.columns.object_id and sys.extended_properties.minor_id = sys.columns.column_id) as Description
FROM sys.columns    
WHERE sys.columns.object_id = object_id('base_area')
ORDER BY sys.columns.column_id
2020-01-04 21:02:09,032 [11364] DEBUG Erp - 
SELECT	sys.columns.name						AS ColumnName, 
		type_name(sys.columns.system_type_id)	AS SqlTypeName,
		sys.columns.max_length					AS MaxLength,
		sys.columns.is_nullable					AS IsNullable,
		sys.columns.is_identity					AS IsIdentity,
		(case when exists(select 1  
						 from   syscolumns 
						 join   sysindexkeys on syscolumns.id  =sysindexkeys.id and syscolumns.colid=sysindexkeys.colid and syscolumns.id=sys.columns.object_id 
						 join   sysindexes   on syscolumns.id  =sysindexes.id   and sysindexkeys.indid=sysindexes.indid   
						 join   sysobjects   on sysindexes.name=sysobjects.name and sysobjects.xtype= 'PK '
						 where syscolumns.name = sys.columns.name) then 1 else 0 end) AS IsPrimaryKey,
		(select value from sys.extended_properties where sys.extended_properties.major_id = sys.columns.object_id and sys.extended_properties.minor_id = sys.columns.column_id) as Description
FROM sys.columns    
WHERE sys.columns.object_id = object_id('base_area')
ORDER BY sys.columns.column_id
2020-01-04 21:02:20,505 [10624] DEBUG Erp - 
SELECT	sys.columns.name						AS ColumnName, 
		type_name(sys.columns.system_type_id)	AS SqlTypeName,
		sys.columns.max_length					AS MaxLength,
		sys.columns.is_nullable					AS IsNullable,
		sys.columns.is_identity					AS IsIdentity,
		(case when exists(select 1  
						 from   syscolumns 
						 join   sysindexkeys on syscolumns.id  =sysindexkeys.id and syscolumns.colid=sysindexkeys.colid and syscolumns.id=sys.columns.object_id 
						 join   sysindexes   on syscolumns.id  =sysindexes.id   and sysindexkeys.indid=sysindexes.indid   
						 join   sysobjects   on sysindexes.name=sysobjects.name and sysobjects.xtype= 'PK '
						 where syscolumns.name = sys.columns.name) then 1 else 0 end) AS IsPrimaryKey,
		(select value from sys.extended_properties where sys.extended_properties.major_id = sys.columns.object_id and sys.extended_properties.minor_id = sys.columns.column_id) as Description
FROM sys.columns    
WHERE sys.columns.object_id = object_id('erp_parts')
ORDER BY sys.columns.column_id
2020-01-04 21:02:42,303 [11192] DEBUG Erp - 
SELECT	sys.columns.name						AS ColumnName, 
		type_name(sys.columns.system_type_id)	AS SqlTypeName,
		sys.columns.max_length					AS MaxLength,
		sys.columns.is_nullable					AS IsNullable,
		sys.columns.is_identity					AS IsIdentity,
		(case when exists(select 1  
						 from   syscolumns 
						 join   sysindexkeys on syscolumns.id  =sysindexkeys.id and syscolumns.colid=sysindexkeys.colid and syscolumns.id=sys.columns.object_id 
						 join   sysindexes   on syscolumns.id  =sysindexes.id   and sysindexkeys.indid=sysindexes.indid   
						 join   sysobjects   on sysindexes.name=sysobjects.name and sysobjects.xtype= 'PK '
						 where syscolumns.name = sys.columns.name) then 1 else 0 end) AS IsPrimaryKey,
		(select value from sys.extended_properties where sys.extended_properties.major_id = sys.columns.object_id and sys.extended_properties.minor_id = sys.columns.column_id) as Description
FROM sys.columns    
WHERE sys.columns.object_id = object_id('base_area')
ORDER BY sys.columns.column_id
2020-01-04 21:02:42,321 [11192] DEBUG Erp - sp_pkeys 'base_area'
2020-01-04 21:02:47,181 [11192] ERROR /api/sys/generator - System.ArgumentOutOfRangeException: 索引超出范围。必须为非负值并小于集合大小。
参数名: index
   在 System.ThrowHelper.ThrowArgumentOutOfRangeException(ExceptionArgument argument, ExceptionResource resource)
   在 System.Collections.Generic.List`1.get_Item(Int32 index)
   在 Newtonsoft.Json.Linq.JContainer.GetItem(Int32 index)
   在 CallSite.Target(Closure , CallSite , Object , Int32 )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute2[T0,T1,TRet](CallSite site, T0 arg0, T1 arg1)
   在 CompiledRazorTemplates.Dynamic.cfcccbedfdfcdbe.Execute()
   在 RazorEngine.Templating.TemplateBase.RazorEngine.Templating.ITemplate.Run(ExecuteContext context) 位置 c:\_git\RazorEngine\src\Core\RazorEngine.Core\Templating\TemplateBase.cs:行号 126
   在 RazorEngine.Templating.TemplateService.Run(ITemplate template, DynamicViewBag viewBag) 位置 c:\_git\RazorEngine\src\Core\RazorEngine.Core\Templating\TemplateService.cs:行号 608
   在 RazorEngine.Templating.TemplateService.Parse(String razorTemplate, Object model, DynamicViewBag viewBag, String cacheName) 位置 c:\_git\RazorEngine\src\Core\RazorEngine.Core\Templating\TemplateService.cs:行号 437
   在 RazorEngine.Razor.Parse[T](String razorTemplate, T model) 位置 c:\_git\RazorEngine\src\Core\RazorEngine.Core\Razor.cs:行号 263
   在 ERP.Web.Areas.Sys.Controllers.GeneratorApiController.Post(JToken data) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Sys\Controllers\GeneratorController.cs:行号 103
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-04 21:02:53,155 [5080] DEBUG Erp - 
SELECT	sys.columns.name						AS ColumnName, 
		type_name(sys.columns.system_type_id)	AS SqlTypeName,
		sys.columns.max_length					AS MaxLength,
		sys.columns.is_nullable					AS IsNullable,
		sys.columns.is_identity					AS IsIdentity,
		(case when exists(select 1  
						 from   syscolumns 
						 join   sysindexkeys on syscolumns.id  =sysindexkeys.id and syscolumns.colid=sysindexkeys.colid and syscolumns.id=sys.columns.object_id 
						 join   sysindexes   on syscolumns.id  =sysindexes.id   and sysindexkeys.indid=sysindexes.indid   
						 join   sysobjects   on sysindexes.name=sysobjects.name and sysobjects.xtype= 'PK '
						 where syscolumns.name = sys.columns.name) then 1 else 0 end) AS IsPrimaryKey,
		(select value from sys.extended_properties where sys.extended_properties.major_id = sys.columns.object_id and sys.extended_properties.minor_id = sys.columns.column_id) as Description
FROM sys.columns    
WHERE sys.columns.object_id = object_id('base_area')
ORDER BY sys.columns.column_id
2020-01-04 21:02:53,203 [1376] DEBUG Erp - 
SELECT	sys.columns.name						AS ColumnName, 
		type_name(sys.columns.system_type_id)	AS SqlTypeName,
		sys.columns.max_length					AS MaxLength,
		sys.columns.is_nullable					AS IsNullable,
		sys.columns.is_identity					AS IsIdentity,
		(case when exists(select 1  
						 from   syscolumns 
						 join   sysindexkeys on syscolumns.id  =sysindexkeys.id and syscolumns.colid=sysindexkeys.colid and syscolumns.id=sys.columns.object_id 
						 join   sysindexes   on syscolumns.id  =sysindexes.id   and sysindexkeys.indid=sysindexes.indid   
						 join   sysobjects   on sysindexes.name=sysobjects.name and sysobjects.xtype= 'PK '
						 where syscolumns.name = sys.columns.name) then 1 else 0 end) AS IsPrimaryKey,
		(select value from sys.extended_properties where sys.extended_properties.major_id = sys.columns.object_id and sys.extended_properties.minor_id = sys.columns.column_id) as Description
FROM sys.columns    
WHERE sys.columns.object_id = object_id('base_area')
ORDER BY sys.columns.column_id
2020-01-04 21:02:59,141 [10624] DEBUG Erp - 
SELECT	sys.columns.name						AS ColumnName, 
		type_name(sys.columns.system_type_id)	AS SqlTypeName,
		sys.columns.max_length					AS MaxLength,
		sys.columns.is_nullable					AS IsNullable,
		sys.columns.is_identity					AS IsIdentity,
		(case when exists(select 1  
						 from   syscolumns 
						 join   sysindexkeys on syscolumns.id  =sysindexkeys.id and syscolumns.colid=sysindexkeys.colid and syscolumns.id=sys.columns.object_id 
						 join   sysindexes   on syscolumns.id  =sysindexes.id   and sysindexkeys.indid=sysindexes.indid   
						 join   sysobjects   on sysindexes.name=sysobjects.name and sysobjects.xtype= 'PK '
						 where syscolumns.name = sys.columns.name) then 1 else 0 end) AS IsPrimaryKey,
		(select value from sys.extended_properties where sys.extended_properties.major_id = sys.columns.object_id and sys.extended_properties.minor_id = sys.columns.column_id) as Description
FROM sys.columns    
WHERE sys.columns.object_id = object_id('base_area')
ORDER BY sys.columns.column_id
2020-01-04 21:02:59,150 [10624] DEBUG Erp - sp_pkeys 'base_area'
2020-01-04 21:12:54,261 [1376] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:12:54,265 [1376] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:12:54,318 [1376] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:12:56,423 [9068] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:12:56,424 [9068] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 21:12:56,425 [9068] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 21:13:26,063 [12028] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:13:26,067 [12028] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:13:26,068 [12028] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:13:27,876 [11192] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:13:27,876 [11192] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 21:13:27,877 [11192] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 21:15:55,478 [5632] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:15:55,482 [5632] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:15:55,482 [5632] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:15:57,097 [11364] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:15:57,097 [11364] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 21:15:57,098 [11364] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 21:16:20,447 [160] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:16:20,451 [160] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:16:20,451 [160] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:16:20,964 [5632] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:16:20,964 [5632] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 21:16:20,965 [5632] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 21:16:28,347 [5080] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 21:16:29,214 [11192] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 21:16:30,036 [12028] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:16:30,038 [12028] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:16:30,039 [12028] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:16:31,010 [13512] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:16:31,011 [13512] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 21:16:31,020 [13512] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 21:16:53,643 [160] DEBUG Servicebase_area - 编辑记录
2020-01-04 21:16:53,644 [160] DEBUG Servicebase_area - 获取动态对象
2020-01-04 21:16:53,711 [160] DEBUG Erp - select base_Area.* from base_Area where  id =  ''
2020-01-04 21:16:53,714 [160] DEBUG Erp - insert into base_Area([name],[warehouse_id],[isenable],[remark],[create_username],[create_time]) values('成品仓库B','1','false','','超级管理员','2020/1/4 21:16:53')
2020-01-04 21:16:56,058 [11364] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:16:56,061 [11364] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:16:56,062 [11364] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:16:56,767 [160] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:16:56,768 [160] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 21:16:56,773 [160] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 21:17:13,797 [11364] DEBUG Servicebase_area - 编辑记录
2020-01-04 21:17:13,798 [11364] DEBUG Servicebase_area - 获取动态对象
2020-01-04 21:17:13,800 [11364] DEBUG Erp - select base_Area.* from base_Area where  id =  '2'
2020-01-04 21:17:13,805 [11364] DEBUG Erp - update base_Area set [name] = '成品仓库B', [warehouse_id] = '1', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 21:16:53', [create_username] = '超级管理员' where  id =  '2'
2020-01-04 21:17:21,038 [11364] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:17:21,049 [11364] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by b.name asc
2020-01-04 21:17:21,057 [11364] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 21:17:21,821 [160] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:17:21,822 [160] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by b.name desc
2020-01-04 21:17:21,833 [160] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 21:17:40,408 [5632] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 21:17:41,363 [8432] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 21:17:42,439 [13824] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:17:42,442 [13824] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:17:42,442 [13824] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:17:43,262 [12028] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:17:43,263 [12028] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 21:17:43,263 [12028] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 21:18:09,785 [5080] DEBUG Servicebase_area - 编辑记录
2020-01-04 21:18:09,785 [5080] DEBUG Servicebase_area - 获取动态对象
2020-01-04 21:18:09,816 [5080] DEBUG Erp - select base_Area.* from base_Area where  id =  ''
2020-01-04 21:18:09,833 [5080] DEBUG Erp - insert into base_Area([name],[warehouse_id],[isenable],[remark],[create_username],[create_time]) values('成品仓库C','1','false','','超级管理员','2020/1/4 21:18:09')
2020-01-04 21:18:09,835 [5080] DEBUG Servicebase_area - 获取动态对象
2020-01-04 21:18:09,836 [5080] DEBUG Erp - select base_Area.* from base_Area where  id =  '1'
2020-01-04 21:18:09,838 [5080] DEBUG Erp - update base_Area set [name] = '成品货架A', [warehouse_id] = '1', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 20:56:09', [create_username] = '超级管理员' where  id =  '1'
2020-01-04 21:18:26,286 [12028] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:18:26,290 [12028] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:18:26,290 [12028] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:18:27,262 [11364] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:18:27,262 [11364] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 21:18:27,263 [11364] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 21:18:37,088 [13824] DEBUG Servicebase_area - 编辑记录
2020-01-04 21:18:37,088 [13824] DEBUG Servicebase_area - 获取动态对象
2020-01-04 21:18:37,101 [13824] DEBUG Erp - select base_Area.* from base_Area where  id =  '3'
2020-01-04 21:18:37,105 [13824] DEBUG Erp - update base_Area set [name] = '成品仓库C', [warehouse_id] = '1', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 21:18:09', [create_username] = '超级管理员' where  id =  '3'
2020-01-04 21:18:44,028 [11364] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:18:44,028 [11364] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id where  warehouse_id =  '2' order by a.id
2020-01-04 21:18:44,031 [11364] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id where  warehouse_id =  '2' ) tb_temp
2020-01-04 21:18:48,128 [12028] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:18:48,128 [12028] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id where  warehouse_id =  '1' order by a.id
2020-01-04 21:18:48,134 [12028] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id where  warehouse_id =  '1' ) tb_temp
2020-01-04 21:18:49,605 [13408] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:18:49,609 [13408] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:18:49,609 [13408] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:18:50,410 [11192] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:18:50,411 [11192] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 21:18:50,412 [11192] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 21:18:51,806 [8432] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:18:51,807 [8432] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 21:18:51,808 [8432] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 21:21:35,647 [14064] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 21:21:36,132 [8432] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 21:21:37,190 [160] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:21:37,194 [160] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:21:37,195 [160] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:21:38,217 [8432] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:21:38,217 [8432] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 21:21:38,228 [8432] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 21:38:57,109 [14064] DEBUG Servicesys_user - 获取实体对象
2020-01-04 21:38:57,122 [14064] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'super'and Password =  '1234'and IsEnable =  'True'
2020-01-04 21:38:57,130 [14064] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'super' 
2020-01-04 21:38:57,149 [14064] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('super','超级管理员','4S6DBKLDWJUEQVW','localhost','上海市','2020/1/4 21:38:57')
2020-01-04 21:38:57,152 [14064] DEBUG Servicemms_project - 获取实体对象
2020-01-04 21:38:57,163 [14064] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-04 21:38:57,218 [12120] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 21:38:57,603 [12028] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 21:39:04,511 [9672] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:39:04,515 [9672] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:39:04,525 [9672] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:39:06,536 [12120] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:39:06,536 [12120] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 21:39:06,537 [12120] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 21:39:09,509 [8432] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:39:09,513 [8432] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:39:09,514 [8432] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:39:10,064 [13396] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:39:10,064 [13396] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 21:39:10,068 [13396] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 21:39:17,229 [14064] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 21:39:17,752 [8432] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 21:39:18,633 [1208] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:39:18,635 [1208] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:39:18,636 [1208] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:39:20,022 [14064] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:39:20,022 [14064] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 21:39:20,024 [14064] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 21:40:55,150 [8432] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 21:40:55,707 [14064] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 21:40:57,112 [10624] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:40:57,124 [10624] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:40:57,124 [10624] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:40:58,751 [8432] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:40:58,751 [8432] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 21:40:58,752 [8432] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 21:44:41,687 [8432] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 21:44:42,022 [1208] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 21:44:43,140 [12120] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:44:43,143 [12120] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:44:43,144 [12120] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:44:45,698 [1208] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:44:45,699 [1208] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 21:44:45,700 [1208] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 21:46:22,319 [1196] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 21:46:22,742 [8432] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 21:46:23,448 [10360] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:46:23,450 [10360] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:46:23,450 [10360] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:46:25,850 [1208] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:46:25,850 [1208] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 21:46:25,851 [1208] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 21:49:22,147 [1208] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 21:49:22,931 [14064] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 21:49:24,568 [8432] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:49:24,572 [8432] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:49:24,572 [8432] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:49:32,209 [13408] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 21:49:32,771 [10624] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 21:49:33,997 [2960] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:49:34,000 [2960] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:49:34,000 [2960] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:49:45,173 [13408] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 21:49:45,906 [1208] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 21:49:46,964 [14064] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:49:46,968 [14064] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:49:46,968 [14064] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:50:35,081 [10624] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 21:50:35,545 [9544] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 21:50:36,523 [14120] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:50:36,526 [14120] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:50:36,527 [14120] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:50:37,380 [1196] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:50:37,380 [1196] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 21:50:37,382 [1196] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 21:50:58,453 [7664] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 21:50:58,783 [13408] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 21:50:59,437 [1124] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:50:59,439 [1124] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:50:59,439 [1124] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:51:01,041 [10624] DEBUG Servicebase_area - 获取动态列表
2020-01-04 21:51:01,041 [10624] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 21:51:01,042 [10624] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 21:54:44,074 [10624] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 21:54:44,706 [9544] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 21:54:45,616 [13408] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:54:45,620 [13408] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:54:45,620 [13408] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:56:41,142 [7664] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 21:56:41,502 [14120] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 21:56:42,502 [2960] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:56:42,505 [2960] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:56:42,505 [2960] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 21:57:04,004 [12120] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 21:57:04,290 [1196] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 21:57:05,397 [2960] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 21:57:05,434 [2960] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 21:57:05,434 [2960] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 22:01:39,386 [10360] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 22:01:39,684 [14120] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 22:01:40,406 [1124] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 22:01:40,409 [1124] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 22:01:40,415 [1124] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 22:02:21,605 [8432] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 22:02:22,062 [1124] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 22:02:22,955 [9544] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 22:02:22,958 [9544] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 22:02:22,958 [9544] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 22:02:24,531 [14120] DEBUG Servicebase_area - 获取动态列表
2020-01-04 22:02:24,532 [14120] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 22:02:24,532 [14120] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 22:03:11,865 [1208] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 22:03:12,232 [8432] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 22:03:12,972 [7664] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 22:03:12,974 [7664] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 22:03:12,974 [7664] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 22:03:55,638 [9544] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 22:03:56,262 [14120] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 22:03:57,261 [7664] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 22:03:57,264 [7664] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 22:03:57,264 [7664] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 22:08:34,661 [11576] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 22:08:35,215 [2120] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 22:08:36,114 [10360] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 22:08:36,117 [10360] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 22:08:36,125 [10360] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 22:08:37,213 [6900] DEBUG Servicebase_area - 获取动态列表
2020-01-04 22:08:37,213 [6900] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 22:08:37,215 [6900] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 22:08:59,768 [2120] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 22:08:59,772 [2120] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 22:08:59,772 [2120] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 22:09:00,542 [10360] DEBUG Servicebase_area - 获取动态列表
2020-01-04 22:09:00,542 [10360] DEBUG Erp - select top 20 a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 22:09:00,550 [10360] DEBUG Erp - select count(*) from ( select a.*,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 22:10:28,262 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:10:28,278 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:10:28,283 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:10:28,284 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:10:28,288 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:10:28,289 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:10:28,658 [13976] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 22:10:31,143 [13892] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 22:10:33,208 [2120] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 22:10:33,560 [9544] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 22:10:34,284 [10360] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 22:10:34,317 [10360] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 22:10:34,336 [10360] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 22:10:35,773 [6900] DEBUG Servicebase_area - 获取动态列表
2020-01-04 22:10:35,773 [6900] DEBUG Erp - select top 20 a.*,b.name as warehouse_id from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 22:10:35,791 [6900] DEBUG Erp - select count(*) from ( select a.*,b.name as warehouse_id from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 22:10:35,818 [6900] ERROR /api/erp/Area - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'warehouse_id'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute3[T0,T1,T2,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2)
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.AreaApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\AreaController.cs:行号 68
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:e521a368-536c-4935-9e63-7de9dd0f85c8
Error Number:8156,State:1,Class:16
2020-01-04 22:12:02,753 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:12:02,770 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:12:02,775 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:12:02,775 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:12:02,780 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:12:02,780 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:12:03,231 [1208] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 22:12:06,126 [10360] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 22:12:10,812 [12036] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 22:12:11,140 [9544] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 22:12:12,354 [1208] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 22:12:12,398 [1208] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 22:12:12,425 [1208] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 22:12:14,445 [13892] DEBUG Servicebase_area - 获取动态列表
2020-01-04 22:12:14,445 [13892] DEBUG Erp - select top 20 a.id,a.name,a.isenable,a.isenable,a.create_time,a.create_username,b.name as warehouse_id from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 22:12:14,466 [13892] DEBUG Erp - select count(*) from ( select a.id,a.name,a.isenable,a.isenable,a.create_time,a.create_username,b.name as warehouse_id from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 22:12:14,489 [13892] ERROR /api/erp/Area - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'isenable'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute3[T0,T1,T2,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2)
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.AreaApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\AreaController.cs:行号 68
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:306aff2f-4852-4120-9586-c896a8b4dbbc
Error Number:8156,State:1,Class:16
2020-01-04 22:12:23,193 [13632] DEBUG Servicebase_area - 获取动态列表
2020-01-04 22:12:23,194 [13632] DEBUG Erp - select top 20 a.id,a.name,a.isenable,a.isenable,a.create_time,a.create_username,b.name as warehouse_id from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by wname asc
2020-01-04 22:12:23,197 [13632] ERROR Servicebase_area - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'wname' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:306aff2f-4852-4120-9586-c896a8b4dbbc
Error Number:207,State:1,Class:16
2020-01-04 22:12:23,233 [13632] ERROR /api/erp/Area - System.Data.SqlClient.SqlException (0x80131904): 列名 'wname' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.AreaApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\AreaController.cs:行号 68
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:306aff2f-4852-4120-9586-c896a8b4dbbc
Error Number:207,State:1,Class:16
2020-01-04 22:12:44,263 [13976] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 22:12:44,543 [13632] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 22:12:45,639 [11224] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 22:12:45,646 [11224] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 22:12:45,646 [11224] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 22:12:47,694 [12036] DEBUG Servicebase_area - 获取动态列表
2020-01-04 22:12:47,694 [12036] DEBUG Erp - select top 20 a.id,a.name,a.isenable,a.isenable,a.create_time,a.create_username,b.name as warehouse_id from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 22:12:47,695 [12036] DEBUG Erp - select count(*) from ( select a.id,a.name,a.isenable,a.isenable,a.create_time,a.create_username,b.name as warehouse_id from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 22:12:47,705 [12036] ERROR /api/erp/Area - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'isenable'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.AreaApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\AreaController.cs:行号 68
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:306aff2f-4852-4120-9586-c896a8b4dbbc
Error Number:8156,State:1,Class:16
2020-01-04 22:12:56,907 [6900] DEBUG Servicebase_area - 编辑记录
2020-01-04 22:12:56,928 [6900] DEBUG Servicebase_area - 获取动态对象
2020-01-04 22:12:56,934 [6900] DEBUG Erp - select base_Area.* from base_Area where  id =  ''
2020-01-04 22:12:56,955 [6900] DEBUG Erp - insert into base_Area([name],[warehouse_id],[isenable],[remark],[create_username],[create_time]) values('AAA','1','true','','超级管理员','2020/1/4 22:12:56')
2020-01-04 22:12:59,151 [12584] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 22:12:59,154 [12584] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 22:12:59,160 [12584] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 22:12:59,585 [13976] DEBUG Servicebase_area - 获取动态列表
2020-01-04 22:12:59,586 [13976] DEBUG Erp - select top 20 a.id,a.name,a.isenable,a.isenable,a.create_time,a.create_username,b.name as warehouse_id from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 22:12:59,589 [13976] DEBUG Erp - select count(*) from ( select a.id,a.name,a.isenable,a.isenable,a.create_time,a.create_username,b.name as warehouse_id from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 22:12:59,599 [13976] ERROR /api/erp/Area - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'isenable'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.AreaApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\AreaController.cs:行号 68
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:aed94271-6d19-41a8-9747-06fe29c00f96
Error Number:8156,State:1,Class:16
2020-01-04 22:14:07,677 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:14:07,696 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:14:07,702 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:14:07,702 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:14:07,706 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:14:07,706 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:14:08,084 [6900] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 22:14:11,312 [11224] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 22:15:06,497 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:15:06,513 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:15:06,518 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:15:06,518 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:15:06,522 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:15:06,522 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:15:06,893 [8432] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 22:15:09,308 [13632] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 22:15:09,621 [2120] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 22:15:09,711 [13892] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 22:15:09,900 [13668] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 22:15:09,911 [13668] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 22:15:09,922 [13668] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 22:15:11,340 [8080] DEBUG Servicebase_area - 获取动态列表
2020-01-04 22:15:11,341 [8080] DEBUG Erp - select top 20 a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as warehouse_id from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 22:15:11,351 [8080] DEBUG Erp - select count(*) from ( select a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as warehouse_id from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 22:15:30,323 [13668] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 22:15:30,326 [13668] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 22:15:30,326 [13668] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 22:15:30,933 [8080] DEBUG Servicebase_area - 获取动态列表
2020-01-04 22:15:30,933 [8080] DEBUG Erp - select top 20 a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as warehouse_id from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 22:15:30,934 [8080] DEBUG Erp - select count(*) from ( select a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as warehouse_id from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 22:15:40,744 [8080] DEBUG Servicebase_area - 编辑记录
2020-01-04 22:15:40,770 [8080] DEBUG Servicebase_area - 获取动态对象
2020-01-04 22:15:40,778 [8080] DEBUG Erp - select base_Area.* from base_Area where  id =  '4'
2020-01-04 22:15:40,805 [8080] DEBUG Erp - update base_Area set [name] = '成品仓库D', [warehouse_id] = '成品仓库', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 22:12:56', [create_username] = '超级管理员' where  id =  '4'
2020-01-04 22:15:40,820 [8080] ERROR Servicebase_area - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 在将 nvarchar 值 '成品仓库' 转换成数据类型 int 时失败。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseUpdateBuilder.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Update\BaseUpdateBuilder.cs:行号 29
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__3(RequestWrapper x) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 61
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:c9111ba8-e705-4839-8bfd-c8efd901e9d4
Error Number:245,State:1,Class:16
2020-01-04 22:15:40,888 [8080] ERROR /api/erp/Area/edit - System.Data.SqlClient.SqlException (0x80131904): 在将 nvarchar 值 '成品仓库' 转换成数据类型 int 时失败。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , base_areaService , Object , RequestWrapper , Object )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 ERP.Web.Areas.Erp.Controllers.AreaApiController.Edit(Object data) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\AreaController.cs:行号 83
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:c9111ba8-e705-4839-8bfd-c8efd901e9d4
Error Number:245,State:1,Class:16
2020-01-04 22:16:08,092 [6900] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 22:16:08,095 [6900] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 22:16:08,095 [6900] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 22:16:08,570 [9544] DEBUG Servicebase_area - 获取动态列表
2020-01-04 22:16:08,571 [9544] DEBUG Erp - select top 20 a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as warehouse_id from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 22:16:08,572 [9544] DEBUG Erp - select count(*) from ( select a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as warehouse_id from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 22:16:11,485 [13668] DEBUG Servicebase_area - 编辑记录
2020-01-04 22:16:11,486 [13668] DEBUG Servicebase_area - 获取动态对象
2020-01-04 22:16:11,499 [13668] DEBUG Erp - select base_Area.* from base_Area where  id =  '4'
2020-01-04 22:16:11,515 [13668] DEBUG Erp - update base_Area set [name] = 'AAA', [warehouse_id] = '成品仓库', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 22:12:56', [create_username] = '超级管理员' where  id =  '4'
2020-01-04 22:16:11,525 [13668] ERROR Servicebase_area - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 在将 nvarchar 值 '成品仓库' 转换成数据类型 int 时失败。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseUpdateBuilder.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Update\BaseUpdateBuilder.cs:行号 29
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__3(RequestWrapper x) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 61
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:c9111ba8-e705-4839-8bfd-c8efd901e9d4
Error Number:245,State:1,Class:16
2020-01-04 22:16:11,544 [13668] ERROR /api/erp/Area/edit - System.Data.SqlClient.SqlException (0x80131904): 在将 nvarchar 值 '成品仓库' 转换成数据类型 int 时失败。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , base_areaService , Object , RequestWrapper , Object )
   在 ERP.Web.Areas.Erp.Controllers.AreaApiController.Edit(Object data) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\AreaController.cs:行号 83
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:c9111ba8-e705-4839-8bfd-c8efd901e9d4
Error Number:245,State:1,Class:16
2020-01-04 22:16:16,000 [8432] DEBUG Servicebase_area - 编辑记录
2020-01-04 22:16:16,001 [8432] DEBUG Servicebase_area - 获取动态对象
2020-01-04 22:16:16,002 [8432] DEBUG Erp - select base_Area.* from base_Area where  id =  '4'
2020-01-04 22:16:16,004 [8432] DEBUG Erp - update base_Area set [name] = 'AAA', [warehouse_id] = '2', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 22:12:56', [create_username] = '超级管理员' where  id =  '4'
2020-01-04 22:16:20,382 [13668] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 22:16:20,386 [13668] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 22:16:20,397 [13668] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 22:16:21,304 [9616] DEBUG Servicebase_area - 获取动态列表
2020-01-04 22:16:21,304 [9616] DEBUG Erp - select top 20 a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as warehouse_id from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 22:16:21,328 [9616] DEBUG Erp - select count(*) from ( select a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as warehouse_id from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 22:16:31,616 [9544] DEBUG Servicebase_area - 编辑记录
2020-01-04 22:16:31,617 [9544] DEBUG Servicebase_area - 获取动态对象
2020-01-04 22:16:31,617 [9544] DEBUG Erp - select base_Area.* from base_Area where  id =  '4'
2020-01-04 22:16:31,634 [9544] DEBUG Erp - update base_Area set [name] = 'AAA', [warehouse_id] = '1', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 22:12:56', [create_username] = '超级管理员' where  id =  '4'
2020-01-04 22:16:34,965 [12584] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 22:16:34,969 [12584] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 22:16:34,969 [12584] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 22:16:35,601 [8080] DEBUG Servicebase_area - 获取动态列表
2020-01-04 22:16:35,602 [8080] DEBUG Erp - select top 20 a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as warehouse_id from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 22:16:35,607 [8080] DEBUG Erp - select count(*) from ( select a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as warehouse_id from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 22:16:44,014 [2120] DEBUG Servicebase_area - 编辑记录
2020-01-04 22:16:44,015 [2120] DEBUG Servicebase_area - 获取动态对象
2020-01-04 22:16:44,019 [2120] DEBUG Erp - select base_Area.* from base_Area where  id =  '1'
2020-01-04 22:16:44,030 [2120] DEBUG Erp - update base_Area set [name] = '成品货架A', [warehouse_id] = '成品仓库', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 20:56:09', [create_username] = '超级管理员' where  id =  '1'
2020-01-04 22:16:44,048 [2120] ERROR Servicebase_area - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 在将 nvarchar 值 '成品仓库' 转换成数据类型 int 时失败。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseUpdateBuilder.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Update\BaseUpdateBuilder.cs:行号 29
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__3(RequestWrapper x) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 61
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:18439bae-450f-4113-a8c1-b1c815596ffe
Error Number:245,State:1,Class:16
2020-01-04 22:16:44,066 [2120] ERROR /api/erp/Area/edit - System.Data.SqlClient.SqlException (0x80131904): 在将 nvarchar 值 '成品仓库' 转换成数据类型 int 时失败。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , base_areaService , Object , RequestWrapper , Object )
   在 ERP.Web.Areas.Erp.Controllers.AreaApiController.Edit(Object data) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\AreaController.cs:行号 83
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:18439bae-450f-4113-a8c1-b1c815596ffe
Error Number:245,State:1,Class:16
2020-01-04 22:17:35,770 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:17:35,782 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:17:35,787 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:17:35,787 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:17:35,790 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:17:35,790 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-04 22:17:36,079 [13760] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 22:17:38,721 [13976] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 22:17:45,485 [13976] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/Deal/Index','/Mms/Deal')
2020-01-04 22:17:45,541 [13976] DEBUG Servicesys_code - 获取动态列表
2020-01-04 22:17:45,560 [13976] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'DisposalType'
2020-01-04 22:17:45,564 [13976] DEBUG Servicesys_code - 获取动态列表
2020-01-04 22:17:45,565 [13976] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'DisposalWay'
2020-01-04 22:17:48,052 [8432] DEBUG Servicemms_deal - 获取动态列表
2020-01-04 22:17:48,052 [8432] DEBUG Mms - select top 20 
        A.*, B.ProjectName
     from 
        mms_deal A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
     where  A.ProjectCode =  '201306030001' order by A.BillNo
2020-01-04 22:17:48,070 [8432] DEBUG Mms - select count(*) from ( select 
        A.*, B.ProjectName
     from 
        mms_deal A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
     where  A.ProjectCode =  '201306030001' ) tb_temp
2020-01-04 22:18:07,323 [12584] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/Deal/Index','/Mms/Deal')
2020-01-04 22:18:07,332 [12584] DEBUG Servicesys_code - 获取动态列表
2020-01-04 22:18:07,332 [12584] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'DisposalType'
2020-01-04 22:18:07,334 [12584] DEBUG Servicesys_code - 获取动态列表
2020-01-04 22:18:07,335 [12584] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'DisposalWay'
2020-01-04 22:18:09,503 [9616] DEBUG Servicemms_deal - 获取动态列表
2020-01-04 22:18:09,503 [9616] DEBUG Mms - select top 20 
        A.*, B.ProjectName
     from 
        mms_deal A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
     where  A.ProjectCode =  '201306030001' order by A.BillNo
2020-01-04 22:18:09,506 [9616] DEBUG Mms - select count(*) from ( select 
        A.*, B.ProjectName
     from 
        mms_deal A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
     where  A.ProjectCode =  '201306030001' ) tb_temp
2020-01-04 22:18:13,776 [9544] DEBUG Servicemms_deal - 获取新主键
2020-01-04 22:18:13,782 [9544] DEBUG Mms - select isnull(max(BillNo),0) from mms_deal
2020-01-04 22:18:29,564 [12036] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 22:18:29,582 [12036] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 22:18:29,583 [12036] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 22:18:31,817 [9544] DEBUG Servicebase_area - 获取动态列表
2020-01-04 22:18:31,818 [9544] DEBUG Erp - select top 20 a.warehouse_id,a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 22:18:31,838 [9544] DEBUG Erp - select count(*) from ( select a.warehouse_id,a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 22:18:44,872 [1208] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 22:18:45,138 [2120] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 22:18:48,536 [13760] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 22:18:48,805 [13668] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 22:26:08,667 [13976] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-04 22:26:08,673 [13976] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-04 22:26:08,696 [13976] DEBUG Erp - select id as value,name as text from base_warehouse where  isenable =  '1'
2020-01-04 22:26:09,634 [9544] DEBUG Servicebase_area - 获取动态列表
2020-01-04 22:26:09,634 [9544] DEBUG Erp - select top 20 a.warehouse_id,a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-04 22:26:09,640 [9544] DEBUG Erp - select count(*) from ( select a.warehouse_id,a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-04 22:26:42,158 [11224] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2020-01-04 22:26:43,993 [9616] DEBUG Servicesys_menu - 获取动态列表
2020-01-04 22:26:43,994 [9616] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-04 22:27:13,647 [8432] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/organize/Index','/Sys/organize')
2020-01-04 22:27:13,658 [8432] DEBUG Servicesys_organize - 获取实体列表
2020-01-04 22:27:13,661 [8432] DEBUG Sys - select sys_organize.* from sys_organize
2020-01-04 22:27:14,723 [9544] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/permission/Index','/Sys/permission')
2020-01-04 22:27:16,788 [13976] DEBUG Servicesys_permission - 获取动态列表
2020-01-04 22:27:16,788 [13976] DEBUG Sys - select A.*,B.PermissionName as ParentName from sys_permission A left join sys_permission B on B.PermissionCode = A.ParentCode
2020-01-04 22:27:27,391 [9616] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-04 22:27:27,397 [9616] DEBUG Servicesys_user - 获取动态列表
2020-01-04 22:27:27,398 [9616] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-04 22:27:27,399 [9616] DEBUG Servicesys_organize - 获取动态列表
2020-01-04 22:27:27,399 [9616] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-04 22:27:29,273 [13668] DEBUG Servicesys_role - 获取实体列表
2020-01-04 22:27:29,274 [13668] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-04 22:27:31,354 [1208] DEBUG Sys - select * from sys_button order by ButtonSeq
2020-01-04 22:27:31,356 [11224] DEBUG Servicesys_permission - 获取动态列表
2020-01-04 22:27:31,360 [1208] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='Manage' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='Manage'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='Manage'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='Manage'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='Manage'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='Manage'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='Manage'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='Manage'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='Manage'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='Manage'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='Manage'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='Manage'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='Manage'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='Manage'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='Manage'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2020-01-04 22:27:31,366 [11224] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='Manage' and B.PermissionCode = A.PermissionCode 
2020-01-04 22:27:31,654 [1208] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'Manage'
2020-01-04 22:28:40,454 [10360] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/user/Index','/Sys/user')
2020-01-04 22:28:41,743 [9544] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/code/Index','/Sys/code')
2020-01-04 22:28:42,399 [12584] DEBUG Servicesys_organize - 获取实体列表
2020-01-04 22:28:42,399 [12584] DEBUG Sys - select sys_organize.* from sys_organize
2020-01-04 22:28:42,641 [9616] DEBUG Servicesys_user - 获取实体列表
2020-01-04 22:28:42,642 [9616] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2020-01-04 22:28:42,660 [9616] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2020-01-04 22:28:44,033 [12036] DEBUG Servicesys_codeType - 获取动态列表
2020-01-04 22:28:44,033 [12036] DEBUG Sys - select sys_codeType.* from sys_codeType order by Seq,CodeType
2020-01-04 22:28:44,234 [1208] DEBUG Servicesys_code - 获取实体列表
2020-01-04 22:28:44,235 [1208] DEBUG Sys - select top 20 sys_code.* from sys_code order by Seq
2020-01-04 22:28:44,269 [1208] DEBUG Sys - select count(*) from ( select sys_code.* from sys_code ) tb_temp
2020-01-04 22:28:50,506 [13668] DEBUG Servicesys_code - 获取实体列表
2020-01-04 22:28:50,507 [13668] DEBUG Sys - select top 20 sys_code.* from sys_code where  CodeType =  'BuildingCategories' order by Seq
2020-01-04 22:28:50,546 [13668] DEBUG Sys - select count(*) from ( select sys_code.* from sys_code where  CodeType =  'BuildingCategories' ) tb_temp
2020-01-04 22:28:52,365 [12584] DEBUG Servicesys_code - 获取新主键
2020-01-04 22:28:52,366 [12584] DEBUG Sys - select isnull(max(Code),0) from sys_code  where 1 = 1 
2020-01-04 22:28:59,429 [12036] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/parameter/Index','/Sys/parameter')
2020-01-04 22:29:01,311 [12584] DEBUG Servicesys_parameter - 获取实体列表
2020-01-04 22:29:01,313 [12584] DEBUG Sys - select top 20 sys_parameter.* from sys_parameter order by ParamCode
2020-01-04 22:29:01,338 [12584] DEBUG Sys - select count(*) from ( select sys_parameter.* from sys_parameter ) tb_temp
2020-01-04 22:29:06,196 [2120] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/log/Index','/Sys/log')
2020-01-04 22:29:08,852 [1208] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/product/Index','/Mms/product')
2020-01-04 22:29:08,871 [1208] DEBUG Servicesys_code - 获取动态列表
2020-01-04 22:29:08,871 [1208] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'MeasureUnit'
2020-01-04 22:29:09,129 [10360] DEBUG Servicesys_loginHistory - 获取实体列表
2020-01-04 22:29:09,130 [10360] DEBUG Sys - select top 20 
        A.*
     from 
        sys_loginHistory A
     order by A.ID desc
2020-01-04 22:29:09,147 [10360] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_loginHistory A
     ) tb_temp
2020-01-04 22:29:09,178 [12036] DEBUG Servicesys_log - 获取实体列表
2020-01-04 22:29:09,179 [12036] DEBUG Sys - select top 20 
        A.*
     from 
        sys_log A
     order by A.ID desc
2020-01-04 22:29:09,205 [12036] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_log A
     ) tb_temp
2020-01-04 22:29:11,328 [13976] DEBUG Servicemms_product - 获取动态列表
2020-01-04 22:29:11,340 [13976] DEBUG Mms - select top 20 * from mms_product order by ID
2020-01-04 22:29:11,355 [13976] DEBUG Mms - select count(*) from ( select * from mms_product ) tb_temp
2020-01-04 22:29:12,161 [13892] DEBUG Servicemms_product - 获取新主键
2020-01-04 22:29:12,162 [13892] DEBUG Mms - select isnull(max(ID),0) from mms_product  where 1 = 1 
2020-01-04 22:29:32,133 [13892] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/staff/Index','/Mms/staff')
2020-01-04 22:29:32,151 [13892] DEBUG Servicesys_code - 获取动态列表
2020-01-04 22:29:32,152 [13892] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'PersonType'
2020-01-04 22:29:33,658 [13892] DEBUG Sys - select MenuCode from sys_menu where URL = '/mms/staff'
2020-01-04 22:29:33,662 [13892] DEBUG Sys - 
select *
from sys_roleMenuColumnMap 
where MenuCode = '9960'
and RoleCode in (
select RoleCode
from sys_userRoleMap
where userCode = 'super'
union
select A.RoleCode
from sys_organizeRoleMap A
inner join sys_userOrganizeMap B on B.OrganizeCode = A.OrganizeCode
where B.UserCode = 'super'
)
2020-01-04 22:29:33,667 [13892] DEBUG Sys - select MenuCode from sys_menu where URL = '/mms/staff'
2020-01-04 22:29:33,668 [13892] DEBUG Sys - 
select A.*
from sys_button A
inner join sys_roleMenuButtonMap B on B.MenuCode = '9960' and B.ButtonCode = A.ButtonCode
where RoleCode in (
select RoleCode
from sys_userRoleMap
where userCode = 'super'
union
select A.RoleCode
from sys_organizeRoleMap A
inner join sys_userOrganizeMap B on B.OrganizeCode = A.OrganizeCode
where B.UserCode = 'super'
)
order by ButtonSeq
2020-01-04 22:29:34,780 [9616] DEBUG ServiceREMP_Staff - 获取动态列表
2020-01-04 22:29:34,780 [9616] DEBUG Mms - select top 20 * from REMP_Staff order by EMPSID
2020-01-04 22:29:34,813 [9616] DEBUG Mms - select count(*) from ( select * from REMP_Staff ) tb_temp
2020-01-04 22:29:39,602 [13632] DEBUG ServiceREMP_Staff - 获取动态列表
2020-01-04 22:29:39,603 [13632] DEBUG Mms - select top 20 * from REMP_Staff order by EMPSID
2020-01-04 22:29:39,607 [13632] DEBUG Mms - select count(*) from ( select * from REMP_Staff ) tb_temp
2020-01-04 22:29:42,550 [2120] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/liy/Index','/Mms/liy')
2020-01-04 22:29:42,568 [2120] DEBUG Servicesys_code - 获取动态列表
2020-01-04 22:29:42,569 [2120] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'Pricing'
2020-01-04 22:29:44,775 [8080] DEBUG Servicetest_liy - 获取动态列表
2020-01-04 22:29:44,776 [8080] DEBUG Mms - select top 20 * from test_liy order by ID
2020-01-04 22:29:44,791 [8080] DEBUG Mms - select count(*) from ( select * from test_liy ) tb_temp
2020-01-04 22:29:52,414 [9544] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-04 22:29:52,816 [12584] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-04 22:30:01,027 [13760] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/merchant/Index','/Mms/merchant')
2020-01-04 22:30:03,054 [13632] DEBUG Servicemms_merchants - 获取实体列表
2020-01-04 22:30:03,055 [13632] DEBUG Mms - select top 20 mms_merchants.* from mms_merchants order by MerchantsCode
2020-01-04 22:30:03,081 [13632] DEBUG Mms - select count(*) from ( select mms_merchants.* from mms_merchants ) tb_temp
2020-01-04 22:30:03,135 [9544] DEBUG Servicemms_merchantsType - 获取动态列表
2020-01-04 22:30:03,136 [9544] DEBUG Mms - select mms_merchantsType.* from mms_merchantsType order by MerchantsTypeCode
2020-01-04 22:30:05,757 [8432] DEBUG Servicemms_merchants - 获取实体列表
2020-01-04 22:30:05,757 [8432] DEBUG Mms - select top 20 mms_merchants.* from mms_merchants where  MerchantsTypeCode =  '002' order by MerchantsCode
2020-01-04 22:30:05,763 [8432] DEBUG Mms - select count(*) from ( select mms_merchants.* from mms_merchants where  MerchantsTypeCode =  '002' ) tb_temp
2020-01-04 22:30:07,229 [11224] DEBUG Servicemms_merchants - 获取新主键
2020-01-04 22:30:07,229 [11224] DEBUG Mms - select isnull(max(MerchantsCode),0) from mms_merchants  where 1 = 1 
2020-01-04 22:30:25,406 [11224] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/merchant/Index','/Mms/merchant')
2020-01-04 22:30:26,017 [2120] DEBUG Servicemms_merchants - 获取实体列表
2020-01-04 22:30:26,018 [2120] DEBUG Mms - select top 20 mms_merchants.* from mms_merchants order by MerchantsCode
2020-01-04 22:30:26,019 [13892] DEBUG Servicemms_merchantsType - 获取动态列表
2020-01-04 22:30:26,026 [2120] DEBUG Mms - select count(*) from ( select mms_merchants.* from mms_merchants ) tb_temp
2020-01-04 22:30:26,050 [13892] DEBUG Mms - select mms_merchantsType.* from mms_merchantsType order by MerchantsTypeCode
2020-01-04 22:30:26,125 [13976] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/project/Index','/Mms/project')
2020-01-04 22:30:26,142 [13976] DEBUG Servicemms_project - 获取实体对象
2020-01-04 22:30:26,144 [13976] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-04 22:30:26,152 [13976] DEBUG Servicemms_project - 获取上一条下一条数据
2020-01-04 22:30:26,187 [13976] DEBUG Servicemms_project - 获取字段
2020-01-04 22:30:26,189 [13976] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 22:30:26,192 [13976] DEBUG Servicemms_project - 获取字段
2020-01-04 22:30:26,193 [13976] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode < '201306030001'and ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 22:30:26,195 [13976] DEBUG Servicemms_project - 获取字段
2020-01-04 22:30:26,196 [13976] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode >  '201306030001'and ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 22:30:26,198 [13976] DEBUG Servicemms_project - 获取字段
2020-01-04 22:30:26,198 [13976] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 22:30:26,237 [13976] DEBUG Servicesys_code - 获取动态列表
2020-01-04 22:30:26,237 [13976] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'PartAttr'
2020-01-04 22:30:26,238 [13976] DEBUG Servicesys_code - 获取动态列表
2020-01-04 22:30:26,238 [13976] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'ImagePart'
2020-01-04 22:30:29,775 [1208] DEBUG Servicemms_project - 获取动态列表
2020-01-04 22:30:29,776 [1208] DEBUG Mms - select ProjectName as text,ProjectCode as id,ParentCode as pid from mms_project
2020-01-04 22:30:29,859 [8080] DEBUG Servicemms_project - 获取实体对象
2020-01-04 22:30:29,860 [8080] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-04 22:30:29,867 [8080] DEBUG Servicemms_project - 获取上一条下一条数据
2020-01-04 22:30:29,867 [8080] DEBUG Servicemms_project - 获取字段
2020-01-04 22:30:29,868 [8080] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 22:30:29,868 [8080] DEBUG Servicemms_project - 获取字段
2020-01-04 22:30:29,869 [8080] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode < '201306030001'and ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 22:30:29,870 [8080] DEBUG Servicemms_project - 获取字段
2020-01-04 22:30:29,871 [8080] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode >  '201306030001'and ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 22:30:29,872 [8080] DEBUG Servicemms_project - 获取字段
2020-01-04 22:30:29,873 [8080] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 22:30:29,989 [12584] DEBUG Servicemms_buildPart - 获取实体列表
2020-01-04 22:30:29,990 [12584] DEBUG Mms - select mms_buildPart.* from mms_buildPart where  ProjectCode =  '201306030001'
2020-01-04 22:31:20,937 [2120] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/warehouse/Index','/Mms/warehouse')
2020-01-04 22:31:22,695 [12584] DEBUG Servicemms_project - 获取动态列表
2020-01-04 22:31:22,696 [12584] DEBUG Mms - select ProjectName as text,ProjectCode as id,ParentCode as pid from mms_project
2020-01-04 22:31:22,771 [1208] DEBUG Servicemms_warehouse - 获取实体列表
2020-01-04 22:31:22,772 [1208] DEBUG Mms - select top 20 mms_warehouse.* from mms_warehouse order by WarehouseCode
2020-01-04 22:31:22,792 [1208] DEBUG Mms - select count(*) from ( select mms_warehouse.* from mms_warehouse ) tb_temp
2020-01-04 22:32:01,313 [8432] DEBUG Servicemms_warehouse - 获取实体列表
2020-01-04 22:32:01,314 [8432] DEBUG Mms - select top 20 mms_warehouse.* from mms_warehouse where  ProjectCode =  '201306030002' order by WarehouseCode
2020-01-04 22:32:01,315 [8432] DEBUG Mms - select count(*) from ( select mms_warehouse.* from mms_warehouse where  ProjectCode =  '201306030002' ) tb_temp
2020-01-04 22:32:02,046 [6900] DEBUG Servicemms_warehouse - 获取新主键
2020-01-04 22:32:02,046 [6900] DEBUG Mms - select isnull(max(WarehouseCode),0) from mms_warehouse  where 1 = 1 
2020-01-04 22:33:37,313 [10360] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/project/Index','/Mms/project')
2020-01-04 22:33:37,317 [10360] DEBUG Servicemms_project - 获取实体对象
2020-01-04 22:33:37,317 [10360] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-04 22:33:37,319 [10360] DEBUG Servicemms_project - 获取上一条下一条数据
2020-01-04 22:33:37,319 [10360] DEBUG Servicemms_project - 获取字段
2020-01-04 22:33:37,319 [10360] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 22:33:37,320 [10360] DEBUG Servicemms_project - 获取字段
2020-01-04 22:33:37,320 [10360] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode < '201306030001'and ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 22:33:37,321 [10360] DEBUG Servicemms_project - 获取字段
2020-01-04 22:33:37,321 [10360] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode >  '201306030001'and ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 22:33:37,322 [10360] DEBUG Servicemms_project - 获取字段
2020-01-04 22:33:37,322 [10360] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 22:33:37,322 [10360] DEBUG Servicesys_code - 获取动态列表
2020-01-04 22:33:37,323 [10360] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'PartAttr'
2020-01-04 22:33:37,324 [10360] DEBUG Servicesys_code - 获取动态列表
2020-01-04 22:33:37,324 [10360] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'ImagePart'
2020-01-04 22:33:38,992 [11224] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/merchant/Index','/Mms/merchant')
2020-01-04 22:33:39,139 [2120] DEBUG Servicemms_project - 获取动态列表
2020-01-04 22:33:39,139 [2120] DEBUG Mms - select ProjectName as text,ProjectCode as id,ParentCode as pid from mms_project
2020-01-04 22:33:39,287 [9544] DEBUG Servicemms_buildPart - 获取实体列表
2020-01-04 22:33:39,287 [9544] DEBUG Mms - select mms_buildPart.* from mms_buildPart where  ProjectCode =  '201306030001'
2020-01-04 22:33:39,322 [13632] DEBUG Servicemms_project - 获取实体对象
2020-01-04 22:33:39,322 [13632] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-04 22:33:39,324 [13632] DEBUG Servicemms_project - 获取上一条下一条数据
2020-01-04 22:33:39,324 [13632] DEBUG Servicemms_project - 获取字段
2020-01-04 22:33:39,325 [13632] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 22:33:39,325 [13632] DEBUG Servicemms_project - 获取字段
2020-01-04 22:33:39,326 [13632] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode < '201306030001'and ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 22:33:39,326 [13632] DEBUG Servicemms_project - 获取字段
2020-01-04 22:33:39,326 [13632] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode >  '201306030001'and ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 22:33:39,327 [13632] DEBUG Servicemms_project - 获取字段
2020-01-04 22:33:39,327 [13632] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 22:33:39,355 [8080] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/merchant/Index','/Mms/merchant')
2020-01-04 22:33:39,540 [13976] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/merchant/Index','/Mms/merchant')
2020-01-04 22:33:39,978 [13668] DEBUG Servicemms_merchantsType - 获取动态列表
2020-01-04 22:33:39,978 [13668] DEBUG Mms - select mms_merchantsType.* from mms_merchantsType order by MerchantsTypeCode
2020-01-04 22:33:40,014 [6900] DEBUG Servicemms_merchants - 获取实体列表
2020-01-04 22:33:40,014 [6900] DEBUG Mms - select top 20 mms_merchants.* from mms_merchants order by MerchantsCode
2020-01-04 22:33:40,028 [6900] DEBUG Mms - select count(*) from ( select mms_merchants.* from mms_merchants ) tb_temp
2020-01-04 22:33:41,541 [9544] DEBUG Servicemms_merchantsType - 获取动态列表
2020-01-04 22:33:41,541 [9544] DEBUG Mms - select top 10 mms_merchantsType.* from mms_merchantsType order by MerchantsTypeCode
2020-01-04 22:33:41,546 [9544] DEBUG Mms - select count(*) from ( select mms_merchantsType.* from mms_merchantsType ) tb_temp
2020-01-04 22:34:27,654 [13976] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/project/Index','/Mms/project')
2020-01-04 22:34:27,658 [13976] DEBUG Servicemms_project - 获取实体对象
2020-01-04 22:34:27,659 [13976] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-04 22:34:27,660 [13976] DEBUG Servicemms_project - 获取上一条下一条数据
2020-01-04 22:34:27,660 [13976] DEBUG Servicemms_project - 获取字段
2020-01-04 22:34:27,661 [13976] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 22:34:27,661 [13976] DEBUG Servicemms_project - 获取字段
2020-01-04 22:34:27,661 [13976] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode < '201306030001'and ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 22:34:27,662 [13976] DEBUG Servicemms_project - 获取字段
2020-01-04 22:34:27,662 [13976] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode >  '201306030001'and ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 22:34:27,663 [13976] DEBUG Servicemms_project - 获取字段
2020-01-04 22:34:27,663 [13976] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 22:34:27,664 [13976] DEBUG Servicesys_code - 获取动态列表
2020-01-04 22:34:27,664 [13976] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'PartAttr'
2020-01-04 22:34:27,665 [13976] DEBUG Servicesys_code - 获取动态列表
2020-01-04 22:34:27,665 [13976] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'ImagePart'
2020-01-04 22:34:29,775 [1208] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/material/Index','/Mms/material')
2020-01-04 22:34:29,911 [13668] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/warehouse/Index','/Mms/warehouse')
2020-01-04 22:34:30,017 [6900] DEBUG Servicemms_project - 获取动态列表
2020-01-04 22:34:30,017 [6900] DEBUG Mms - select ProjectName as text,ProjectCode as id,ParentCode as pid from mms_project
2020-01-04 22:34:30,145 [9616] DEBUG Servicemms_buildPart - 获取实体列表
2020-01-04 22:34:30,145 [9616] DEBUG Mms - select mms_buildPart.* from mms_buildPart where  ProjectCode =  '201306030001'
2020-01-04 22:34:30,193 [13892] DEBUG Servicemms_project - 获取实体对象
2020-01-04 22:34:30,194 [13892] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-04 22:34:30,195 [13892] DEBUG Servicemms_project - 获取上一条下一条数据
2020-01-04 22:34:30,195 [13892] DEBUG Servicemms_project - 获取字段
2020-01-04 22:34:30,196 [13892] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 22:34:30,196 [13892] DEBUG Servicemms_project - 获取字段
2020-01-04 22:34:30,196 [13892] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode < '201306030001'and ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 22:34:30,197 [13892] DEBUG Servicemms_project - 获取字段
2020-01-04 22:34:30,197 [13892] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode >  '201306030001'and ProjectCode =  '201306030001' order by ProjectCode
2020-01-04 22:34:30,198 [13892] DEBUG Servicemms_project - 获取字段
2020-01-04 22:34:30,198 [13892] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-04 22:34:31,002 [2916] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/material/Index','/Mms/material')
2020-01-04 22:34:31,686 [8432] DEBUG Servicemms_warehouse - 获取实体列表
2020-01-04 22:34:31,686 [8432] DEBUG Mms - select top 20 mms_warehouse.* from mms_warehouse order by WarehouseCode
2020-01-04 22:34:31,688 [8432] DEBUG Mms - select count(*) from ( select mms_warehouse.* from mms_warehouse ) tb_temp
2020-01-04 22:34:31,712 [8080] DEBUG Servicemms_project - 获取动态列表
2020-01-04 22:34:31,712 [8080] DEBUG Mms - select ProjectName as text,ProjectCode as id,ParentCode as pid from mms_project
2020-01-04 22:34:31,857 [10360] DEBUG Servicemms_materialType - 获取动态列表
2020-01-04 22:34:31,858 [10360] DEBUG Mms - select mms_materialType.* from mms_materialType order by MaterialType
2020-01-04 22:34:32,083 [12036] DEBUG Servicemms_material - 获取实体列表
2020-01-04 22:34:32,084 [12036] DEBUG Mms - select top 20 mms_material.* from mms_material order by MaterialCode
2020-01-04 22:34:32,105 [12036] DEBUG Mms - select count(*) from ( select mms_material.* from mms_material ) tb_temp
2020-01-04 22:34:35,028 [13892] DEBUG Servicemms_material - 获取实体列表
2020-01-04 22:34:35,029 [13892] DEBUG Mms - select top 20 mms_material.* from mms_material where  MaterialType =  '01' order by MaterialCode
2020-01-04 22:34:35,038 [13892] DEBUG Mms - select count(*) from ( select mms_material.* from mms_material where  MaterialType =  '01' ) tb_temp
2020-01-04 22:34:36,794 [13668] DEBUG Mms - select max(MaterialCode) 
from mms_material 
where MaterialType='01'
